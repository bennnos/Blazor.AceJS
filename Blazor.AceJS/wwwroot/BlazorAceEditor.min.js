(function(){function o(r){var u=t;r&&(t[r]||(t[r]={}),u=t[r]);u.define&&u.define.packaged||(n.original=u.define,u.define=n,u.define.packaged=!0);u.require&&u.require.packaged||(i.original=u.require,u.require=i,u.require.packaged=!0)}var u="",t=function(){return this}(),n;if(t||typeof window=="undefined"||(t=window),u||typeof requirejs=="undefined"){n=function(t,i,r){if(typeof t!="string"){n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i);n.modules[t]||(n.payloads[t]=r,n.modules[t]=null)};n.modules={};n.payloads={};var f=function(n,t,r){var f,o,u,h,s;if(typeof t=="string"){if(f=e(n,t),f!=undefined)return r&&r(),f}else if(Object.prototype.toString.call(t)==="[object Array]"){for(o=[],u=0,h=t.length;u<h;++u){if(s=e(n,t[u]),s==undefined&&i.original)return;o.push(s)}return r&&r.apply(null,o)||!0}},i=function(n,t){var r=f("",n,t);return r==undefined&&i.original?i.original.apply(this,arguments):r},r=function(n,t){var i,u,f;if(t.indexOf("!")!==-1)return i=t.split("!"),r(n,i[0])+"!"+r(n,i[1]);if(t.charAt(0)==".")for(u=n.split("/").slice(0,-1).join("/"),t=u+"/"+t;t.indexOf(".")!==-1&&f!=t;)f=t,t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");return t},e=function(t,i){var u;if(i=r(t,i),u=n.modules[i],!u){if(u=n.payloads[i],typeof u=="function"){var e={},o={id:i,uri:"",exports:e,packaged:!0},s=function(n,t){return f(i,n,t)},h=u(s,e,o);e=h||o.exports;n.modules[i]=e;delete n.payloads[i]}u=n.modules[i]=e||u}return u};o(u)}})();define("ace/lib/fixoldbrowsers",["require","exports","module"],function(){"use strict";typeof Element=="undefined"||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})});define("ace/lib/useragent",["require","exports","module"],function(n,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r=typeof navigator=="object"?navigator:{},u=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),i=r.userAgent||"",f=r.appName||"";t.isWin=u=="win";t.isMac=u=="mac";t.isLinux=u=="linux";t.isIE=f=="Microsoft Internet Explorer"||f.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/);t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]";t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined;t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined;t.isEdge=parseFloat(i.split(" Edge/")[1])||undefined;t.isAIR=i.indexOf("AdobeAIR")>=0;t.isAndroid=i.indexOf("Android")>=0;t.isChromeOS=i.indexOf(" CrOS ")>=0;t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream;t.isIOS&&(t.isMac=!0);t.isMobile=t.isIOS||t.isAndroid});define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function o(){var n=i;i=null;n&&n.forEach(function(n){s(n[0],n[1])})}function s(n,r,u){var f,s,h;if(typeof document!="undefined"){if(i)if(u)o();else if(u===!1)return i.push([n,r]);if(!e){if(f=u,u&&u.getRootNode?(f=u.getRootNode(),f&&f!=u||(f=document)):f=document,s=f.ownerDocument||f,r&&t.hasCssString(r,f))return null;r&&(n+="\n/*# sourceURL=ace/css/"+r+" */");h=t.createElement("style");h.appendChild(s.createTextNode(n));r&&(h.id=r);f==s&&(f=t.getDocumentHead(s));f.insertBefore(h,f.firstChild)}}}var u=n("./useragent"),h="http://www.w3.org/1999/xhtml",e,i,r;t.buildDom=function f(n,t,i){var o,s,h,r;if(typeof n=="string"&&n)return o=document.createTextNode(n),t&&t.appendChild(o),o;if(!Array.isArray(n))return n&&n.appendChild&&t&&t.appendChild(n),n;if(typeof n[0]!="string"||!n[0]){for(s=[],r=0;r<n.length;r++)h=f(n[r],t,i),h&&s.push(h);return s}var u=document.createElement(n[0]),e=n[1],c=1;for(e&&typeof e=="object"&&!Array.isArray(e)&&(c=2),r=c;r<n.length;r++)f(n[r],u,i);return c==2&&Object.keys(e).forEach(function(n){var t=e[n];n==="class"?u.className=Array.isArray(t)?t.join(" "):t:typeof t=="function"||n=="value"||n[0]=="$"?u[n]=t:n==="ref"?i&&(i[t]=u):n==="style"?typeof t=="string"&&(u.style.cssText=t):t!=null&&u.setAttribute(n,t)}),t&&t.appendChild(u),u};t.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement};t.createElement=function(n,t){return document.createElementNS?document.createElementNS(t||h,n):document.createElement(n)};t.removeChildren=function(n){n.innerHTML=""};t.createTextNode=function(n,t){var i=t?t.ownerDocument:document;return i.createTextNode(n)};t.createFragment=function(n){var t=n?n.ownerDocument:document;return t.createDocumentFragment()};t.hasCssClass=function(n,t){var i=(n.className+"").split(/\s+/g);return i.indexOf(t)!==-1};t.addCssClass=function(n,i){t.hasCssClass(n,i)||(n.className+=" "+i)};t.removeCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r;;){if(r=i.indexOf(t),r==-1)break;i.splice(r,1)}n.className=i.join(" ")};t.toggleCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r=!0,u;;){if(u=i.indexOf(t),u==-1)break;r=!1;i.splice(u,1)}return r&&i.push(t),n.className=i.join(" "),r};t.setCssClass=function(n,i,r){r?t.addCssClass(n,i):t.removeCssClass(n,i)};t.hasCssString=function(n,t){var r=0,i;if(t=t||document,i=t.querySelectorAll("style"))while(r<i.length)if(i[r++].id===n)return!0};i=[];t.useStrictCSP=function(n){e=n;n==!1?o():i||(i=[])};t.importCssString=s;t.importCssStylsheet=function(n,i){t.buildDom(["link",{rel:"stylesheet",href:n}],t.getDocumentHead(i))};t.scrollbarWidth=function(n){var r=t.createElement("ace_inner"),u,i,e,o,f;return r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block",u=t.createElement("ace_outer"),i=u.style,i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",u.appendChild(r),e=n.documentElement,e.appendChild(u),o=r.offsetWidth,i.overflow="scroll",f=r.offsetWidth,o==f&&(f=u.clientWidth),e.removeChild(u),o-f};t.computedStyle=function(n){return window.getComputedStyle(n,"")||{}};t.setStyle=function(n,t,i){n[t]!==i&&(n[t]=i)};t.HAS_CSS_ANIMATION=!1;t.HAS_CSS_TRANSFORMS=!1;t.HI_DPI=u.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0;u.isChromeOS&&(t.HI_DPI=!1);typeof document!="undefined"&&(r=document.createElement("div"),t.HI_DPI&&r.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),u.isEdge||typeof r.style.animationName=="undefined"||(t.HAS_CSS_ANIMATION=!0),r=null);t.translate=t.HAS_CSS_TRANSFORMS?function(n,t,i){n.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:function(n,t,i){n.style.top=Math.round(i)+"px";n.style.left=Math.round(t)+"px"}});define("ace/lib/oop",["require","exports","module"],function(n,t){"use strict";t.inherits=function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})};t.mixin=function(n,t){for(var i in t)n[i]=t[i];return n};t.implement=function(n,i){t.mixin(n,i)}});define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,t){"use strict";var i=n("./oop"),r=function(){var n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},r;for(var t in n.FUNCTION_KEYS)r=n.FUNCTION_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)r=n.PRINTABLE_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var i=["cmd","ctrl","alt","shift"],t=Math.pow(2,i.length);t--;)n.KEY_MODS[t]=i.filter(function(i){return t&n.KEY_MODS[i]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r);t.keyCodeToString=function(n){var t=r[n];return typeof t!="string"&&(t=String.fromCharCode(n)),t.toLowerCase()}});define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function p(){o=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){o={passive:!1}}})}catch(n){}}function c(){return o==undefined&&p(),o}function l(n,t,i){this.elem=n;this.type=t;this.callback=i}function a(n,t,i){var f=s(t),c,o;if(!u.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(f|=8),r.altGr)if((3&f)!=3)r.altGr=0;else return;(i===18||i===17)&&(o="location"in t?t.location:t.keyLocation,i===17&&o===1?r[i]==1&&(h=t.timeStamp):i===18&&f===3&&o===2&&(c=t.timeStamp-h,c<50&&(r.altGr=!0)))}if(i in e.MODIFIER_KEYS&&(i=-1),f||i!==13||(o="location"in t?t.location:t.keyLocation,o!==3||(n(t,f,-i),!t.defaultPrevented))){if(u.isChromeOS&&f&8){if(n(t,f,i),t.defaultPrevented)return;f&=-9}return!f&&!(i in e.FUNCTION_KEYS)&&!(i in e.PRINTABLE_KEYS)?!1:n(t,f,i)}}function v(){r=Object.create(null)}var e=n("./keys"),u=n("./useragent"),r=null,h=0,o,i,f,s,y;l.prototype.destroy=function(){f(this.elem,this.type,this.callback);this.elem=this.type=this.callback=undefined};i=t.addListener=function(n,t,i,r){n.addEventListener(t,i,c());r&&r.$toDestroy.push(new l(n,t,i))};f=t.removeListener=function(n,t,i){n.removeEventListener(t,i,c())};t.stopEvent=function(n){return t.stopPropagation(n),t.preventDefault(n),!1};t.stopPropagation=function(n){n.stopPropagation&&n.stopPropagation()};t.preventDefault=function(n){n.preventDefault&&n.preventDefault()};t.getButton=function(n){return n.type=="dblclick"?0:n.type=="contextmenu"||u.isMac&&n.ctrlKey&&!n.altKey&&!n.shiftKey?2:n.button};t.capture=function(n,t,r){function e(n){t&&t(n);r&&r(n);f(u,"mousemove",t);f(u,"mouseup",e);f(u,"dragstart",e)}var u=n&&n.ownerDocument||document;return i(u,"mousemove",t),i(u,"mouseup",e),i(u,"dragstart",e),e};t.addMouseWheelListener=function(n,t,r){i(n,"wheel",function(n){var e=.15,i=n.deltaX||0,r=n.deltaY||0,u,f;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=i*e;n.wheelY=r*e;break;case n.DOM_DELTA_LINE:u=15;n.wheelX=i*u;n.wheelY=r*u;break;case n.DOM_DELTA_PAGE:f=150;n.wheelX=i*f;n.wheelY=r*f}t(n)},r)};t.addMultiMouseDownListener=function(n,r,f,e,o){function v(n){if(t.getButton(n)!==0?s=0:n.detail>1?(s++,s>4&&(s=1)):s=1,u.isIE){var i=Math.abs(n.clientX-c)>5||Math.abs(n.clientY-l)>5;(!h||i)&&(s=1);h&&clearTimeout(h);h=setTimeout(function(){h=null},r[s-1]||600);s==1&&(c=n.clientX,l=n.clientY)}if(n._clicks=s,f[e]("mousedown",n),s>4)s=0;else if(s>1)return f[e](a[s],n)}var s=0,c,l,h,a={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(n)||(n=[n]);n.forEach(function(n){i(n,"mousedown",v,o)})};s=function(n){return 0|(n.ctrlKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.metaKey?8:0)};t.getModifierString=function(n){return e.KEY_MODS[s(n)]};t.addCommandKeyListener=function(n,f,e){var s,o;!u.isOldGecko&&(!u.isOpera||"KeyboardEvent"in window)?(o=null,i(n,"keydown",function(n){r[n.keyCode]=(r[n.keyCode]||0)+1;var t=a(f,n,n.keyCode);return o=n.defaultPrevented,t},e),i(n,"keypress",function(n){o&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)&&(t.stopEvent(n),o=null)},e),i(n,"keyup",function(n){r[n.keyCode]=null},e),r||(v(),i(window,"focus",v))):(s=null,i(n,"keydown",function(n){s=n.keyCode},e),i(n,"keypress",function(n){return a(f,n,s)},e))};typeof window=="object"&&window.postMessage&&!u.isOldIE&&(y=1,t.nextTick=function(n,r){r=r||window;var u="zero-timeout-message-"+y++,e=function(i){i.data==u&&(t.stopPropagation(i),f(r,"message",e),n())};i(r,"message",e);r.postMessage(u,"*")});t.$idleBlocked=!1;t.onIdle=function(n,i){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):n()},i)};t.$idleBlockId=null;t.blockIdle=function(n){t.$idleBlockId&&clearTimeout(t.$idleBlockId);t.$idleBlocked=!0;t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},n||100)};t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(n){setTimeout(n,17)}});define("ace/range",["require","exports","module"],function(n,t){"use strict";var r=function(n,t){return n.row-t.row||n.column-t.column},i=function(n,t,i,r){this.start={row:n,column:t};this.end={row:i,column:r}};(function(){this.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(n,t){return this.compare(n,t)==0};this.compareRange=function(n){var t,r=n.end,i=n.start;return t=this.compare(r.row,r.column),t==1?(t=this.compare(i.row,i.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(i.row,i.column),t==-1?-1:t==1?42:0)};this.comparePoint=function(n){return this.compare(n.row,n.column)};this.containsRange=function(n){return this.comparePoint(n.start)==0&&this.comparePoint(n.end)==0};this.intersects=function(n){var t=this.compareRange(n);return t==-1||t==0||t==1};this.isEnd=function(n,t){return this.end.row==n&&this.end.column==t};this.isStart=function(n,t){return this.start.row==n&&this.start.column==t};this.setStart=function(n,t){typeof n=="object"?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=t)};this.setEnd=function(n,t){typeof n=="object"?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=t)};this.inside=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)||this.isStart(n,t)?!1:!0:!1};this.insideStart=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)?!1:!0:!1};this.insideEnd=function(n,t){return this.compare(n,t)==0?this.isStart(n,t)?!1:!0:!1};this.compare=function(n,t){return!this.isMultiLine()&&n===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:n<this.start.row?-1:n>this.end.row?1:this.start.row===n?t>=this.start.column?0:-1:this.end.row===n?t<=this.end.column?0:1:0};this.compareStart=function(n,t){return this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.compareEnd=function(n,t){return this.end.row==n&&this.end.column==t?1:this.compare(n,t)};this.compareInside=function(n,t){return this.end.row==n&&this.end.column==t?1:this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.clipRows=function(n,t){var r,u;return this.end.row>t?r={row:t+1,column:0}:this.end.row<n&&(r={row:n,column:0}),this.start.row>t?u={row:t+1,column:0}:this.start.row<n&&(u={row:n,column:0}),i.fromPoints(u||this.start,r||this.end)};this.extend=function(n,t){var r=this.compare(n,t),u,f;return r==0?this:(r==-1?u={row:n,column:t}:f={row:n,column:t},i.fromPoints(u||this.start,f||this.end))};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return i.fromPoints(this.start,this.end)};this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)};this.toScreenRange=function(n){var t=n.documentToScreenPosition(this.start),r=n.documentToScreenPosition(this.end);return new i(t.row,t.column,r.row,r.column)};this.moveBy=function(n,t){this.start.row+=n;this.start.column+=t;this.end.row+=n;this.end.column+=t}}).call(i.prototype);i.fromPoints=function(n,t){return new i(n.row,n.column,t.row,t.column)};i.comparePoints=r;i.comparePoints=function(n,t){return n.row-t.row||n.column-t.column};t.Range=i});define("ace/lib/lang",["require","exports","module"],function(n,t){"use strict";t.last=function(n){return n[n.length-1]};t.stringReverse=function(n){return n.split("").reverse().join("")};t.stringRepeat=function(n,t){for(var i="";t>0;)t&1&&(i+=n),(t>>=1)&&(n+=n);return i};var r=/^\s\s*/,u=/\s\s*$/;t.stringTrimLeft=function(n){return n.replace(r,"")};t.stringTrimRight=function(n){return n.replace(u,"")};t.copyObject=function(n){var t={};for(var i in n)t[i]=n[i];return t};t.copyArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t]&&typeof n[t]=="object"?this.copyObject(n[t]):n[t];return i};t.deepCopy=function i(n){var r,t;if(typeof n!="object"||!n)return n;if(Array.isArray(n)){for(r=[],t=0;t<n.length;t++)r[t]=i(n[t]);return r}if(Object.prototype.toString.call(n)!=="[object Object]")return n;r={};for(t in n)r[t]=i(n[t]);return r};t.arrayToMap=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=1;return i};t.createMap=function(n){var t=Object.create(null);for(var i in n)t[i]=n[i];return t};t.arrayRemove=function(n,t){for(var i=0;i<=n.length;i++)t===n[i]&&n.splice(i,1)};t.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(n){return(""+n).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(n,t){var i=[];return n.replace(t,function(n){i.push({offset:arguments[arguments.length-2],length:n.length})}),i};t.deferredCall=function(n){var i=null,r=function(){i=null;n()},t=function(n){return t.cancel(),i=setTimeout(r,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),n(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t};t.delayedCall=function(n,t){var i=null,u=function(){i=null;n()},r=function(n){i==null&&(i=setTimeout(u,n||t))};return r.delay=function(n){i&&clearTimeout(i);i=setTimeout(u,n||t)},r.schedule=r,r.call=function(){this.cancel();n()},r.cancel=function(){i&&clearTimeout(i);i=null},r.isPending=function(){return i},r}});define("ace/clipboard",["require","exports","module"],function(n,t,i){"use strict";var r;i.exports={lineMode:!1,pasteCancelled:function(){return r&&r>Date.now()-50?!0:r=!1},cancel:function(){r=Date.now()}}});define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),s=n("../lib/dom"),c=n("../lib/lang"),l=n("../clipboard"),a=r.isChrome<18,v=r.isIE,y=r.isChrome>63,f=400,u=n("../lib/keys"),h=u.KEY_MODS,e=r.isIOS,p=e?/\s/:/\n/,o=r.isMobile,w=function(n,t){function vt(){ot=!0;w.blur();w.focus();ot=!1}function oi(n){n.keyCode==27&&w.value.length<w.selectionStart&&(b||(g=w.value),d=k=-1,nt());yt()}function ht(){clearTimeout(pt);pt=setTimeout(function(){rt&&(w.style.cssText=rt,rt="");t.renderer.$isMousePressed=!1;t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}function si(n,t,i){var r=null,f=!1,e;i.addEventListener("keydown",function(){r&&clearTimeout(r);f=!0},!0);i.addEventListener("keyup",function(){r=setTimeout(function(){f=!1},100)},!0);e=function(){var c,s;if(document.activeElement===i&&!f&&!b&&!t.$mouseHandler.isMousePressed&&!tt){var e=i.selectionStart,r=i.selectionEnd,n=null,o=0;e==0?n=u.up:e==1?n=u.home:r>k&&g[r]=="\n"?n=u.end:e<d&&g[e-1]==" "?(n=u.left,o=h.option):e<d||e==d&&k!=d&&e==r?n=u.left:r>k&&g.slice(0,r).split("\n").length>2?n=u.down:r>k&&g[r-1]==" "?(n=u.right,o=h.option):(r>k||r==k&&k!=d&&e==r)&&(n=u.right);e!==r&&(o|=h.shift);n&&(c=t.onCommandKey({},o,n),!c&&t.commands&&(n=u.keyCodeToString(n),s=t.commands.findKeyCommand(o,n),s&&t.execCommand(s)),d=e,k=r,nt(""))}};document.addEventListener("selectionchange",e);t.on("destroy",function(){document.removeEventListener("selectionchange",e)})}var w=s.createElement("textarea"),it,nt,yt,pt,ct;w.className="ace_text-input";w.setAttribute("wrap","off");w.setAttribute("autocorrect","off");w.setAttribute("autocapitalize","off");w.setAttribute("spellcheck",!1);w.style.opacity="0";n.insertBefore(w,n.firstChild);var tt=!1,lt=!1,b=!1,et=!1,rt="";o||(w.style.fontSize="1px");var ut=!1,ot=!1,g="",d=0,k=0,wt=0;try{it=document.activeElement===w}catch(hi){}i.addListener(w,"blur",function(n){if(!ot){t.onBlur(n);it=!1}},t);i.addListener(w,"focus",function(n){if(!ot){if(it=!0,r.isEdge)try{if(!document.hasFocus())return}catch(n){}t.onFocus(n);r.isEdge?setTimeout(nt):nt()}},t);this.$focusScroll=!1;this.focus=function(){var r,t,i,n;if(rt||y||this.$focusScroll=="browser")return w.focus({preventScroll:!0});r=w.style.top;w.style.position="fixed";w.style.top="0px";try{t=w.getBoundingClientRect().top!=0}catch(u){return}if(i=[],t)for(n=w.parentElement;n&&n.nodeType==1;)i.push(n),n.setAttribute("ace_nocontext",!0),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;w.focus({preventScroll:!0});t&&i.forEach(function(n){n.removeAttribute("ace_nocontext")});setTimeout(function(){w.style.position="";w.style.top=="0px"&&(w.style.top=r)},0)};this.blur=function(){w.blur()};this.isFocused=function(){return it};t.on("beforeEndOperation",function(){var n=t.curOp,i=n&&n.command&&n.command.name,r;i!="insertstring"&&(r=i&&(n.docChanged||n.selectionChanged),b&&r&&(g=w.value="",ri()),nt())});nt=e?function(n){var u,i,r;it&&(!tt||n)&&!et&&(n||(n=""),u="\n ab"+n+"cde fg\n",u!=w.value&&(w.value=g=u),i=4,r=4+(n.length||(t.selection.isEmpty()?0:1)),(d!=i||k!=r)&&w.setSelectionRange(i,r),d=i,k=r)}:function(){var h,c,s;if(!b&&!et&&(it||ft)){b=!0;var r=0,n=0,i="";if(t.session){var l=t.selection,e=l.getRange(),u=l.cursor.row;r=e.start.column;n=e.end.column;i=t.session.getLine(u);e.start.row!=u?(h=t.session.getLine(u-1),r=e.start.row<u-1?0:r,n+=h.length+1,i=h+"\n"+i):e.end.row!=u?(c=t.session.getLine(u+1),n=e.end.row>u+1?c.length:n,n+=i.length+1,i=i+"\n"+c):o&&u>0&&(i="\n"+i,n+=1,r+=1);i.length>f&&(r<f&&n<f?i=i.slice(0,f):(i="\n",r==n?r=n=0:(r=0,n=1)))}if(s=i+"\n\n",s!=g&&(w.value=g=s,d=k=s.length),ft&&(d=w.selectionStart,k=w.selectionEnd),k!=n||d!=r||w.selectionEnd!=k)try{w.setSelectionRange(r,n);d=r;k=n}catch(a){}b=!1}};this.resetSelection=nt;it&&t.onFocus();var ui=function(n){return n.selectionStart===0&&n.selectionEnd>=g.length&&n.value===g&&g&&n.selectionEnd!==k},fi=function(){b||(tt?tt=!1:ui(w)?(t.selectAll(),nt()):o&&w.selectionStart!=d&&nt())},bt=null;this.setInputHandler=function(n){bt=n};this.getInputHandler=function(){return bt};var ft=!1,kt=function(n,i){var h,l;if(ft&&(ft=!1),lt){if(nt(),n)t.onPaste(n);return lt=!1,""}for(var a=w.selectionStart,v=w.selectionEnd,e=d,o=g.length-k,u=n,c=n.length-a,s=n.length-v,f=0;e>0&&g[f]==n[f];)f++,e--;for(u=u.slice(f),f=1;o>0&&g.length-f>d-1&&g[g.length-f]==n[n.length-f];)f++,o--;if(c-=f-1,s-=f-1,h=u.length-f+1,h<0&&(e=-h,h=0),u=u.slice(0,h),!i&&!u&&!c&&!e&&!o&&!s)return"";if(et=!0,l=!1,r.isAndroid&&u==". "&&(u="  ",l=!0),(!u||e||o||c||s)&&!ut)t.onTextInput(u,{extendLeft:e,extendRight:o,restoreStart:c,restoreEnd:s});else t.onTextInput(u);return et=!1,g=n,d=a,k=v,wt=s,l?"\n":u},dt=function(n){if(b)return st();if(n&&n.inputType){if(n.inputType=="historyUndo")return t.execCommand("undo");if(n.inputType=="historyRedo")return t.execCommand("redo")}var i=w.value,r=kt(i,!0);(i.length>f+100||p.test(r)||o&&d<1&&d==k)&&nt()},at=function(n,t,i){var r=n.clipboardData||window.clipboardData,u;if(r&&!a){u=v||i?"Text":"text/plain";try{return t?r.setData(u,t)!==!1:r.getData(u)}catch(n){if(!i)return at(n,t,!0)}}},gt=function(n,r){var u=t.getCopyText();if(!u)return i.preventDefault(n);at(n,u)?(e&&(nt(u),tt=u,setTimeout(function(){tt=!1},10)),r?t.onCut():t.onCopy(),i.preventDefault(n)):(tt=!0,w.value=u,w.select(),setTimeout(function(){tt=!1;nt();r?t.onCut():t.onCopy()}))},ni=function(n){gt(n,!0)},ti=function(n){gt(n,!1)},ii=function(n){var u=at(n);if(!l.pasteCancelled())if(typeof u=="string"){if(u)t.onPaste(u,n);r.isIE&&setTimeout(nt);i.preventDefault(n)}else w.value="",lt=!0};i.addCommandKeyListener(w,t.onCommandKey.bind(t),t);i.addListener(w,"select",fi,t);i.addListener(w,"input",dt,t);i.addListener(w,"cut",ni,t);i.addListener(w,"copy",ti,t);i.addListener(w,"paste",ii,t);"oncut"in w&&"oncopy"in w&&"onpaste"in w||i.addListener(n,"keydown",function(n){if((!r.isMac||n.metaKey)&&n.ctrlKey)switch(n.keyCode){case 67:ti(n);break;case 86:ii(n);break;case 88:ni(n)}},t);var ei=function(n){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!ut)){n.data&&(b.useTextareaForIME=!1);setTimeout(st,0);t._signal("compositionStart");t.on("mousedown",vt);var i=t.getSelectionRange();i.end.row=i.start.row;i.end.column=i.start.column;b.markerRange=i;b.selectionStart=d;t.onCompositionStart(b);b.useTextareaForIME?(g=w.value="",d=0,k=0):(w.msGetInputContext&&(b.context=w.msGetInputContext()),w.getInputContext&&(b.context=w.getInputContext()))}},st=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(ut)return vt();if(b.useTextareaForIME)t.onCompositionUpdate(w.value);else{var n=w.value;kt(n);b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+k-b.selectionStart+wt)}}},ri=function(n){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",vt),n&&dt())};yt=c.delayedCall(st,50).schedule.bind(null,null);i.addListener(w,"compositionstart",ei,t);i.addListener(w,"compositionupdate",st,t);i.addListener(w,"keyup",oi,t);i.addListener(w,"keydown",yt,t);i.addListener(w,"compositionend",ri,t);this.getElement=function(){return w};this.setCommandMode=function(n){ut=n;w.readOnly=!1};this.setReadOnly=function(n){ut||(w.readOnly=n)};this.setCopyWithEmptySelection=function(){};this.onContextMenu=function(n){ft=!0;nt();t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)};this.moveToMouse=function(n,u){rt||(rt=w.style.cssText);w.style.cssText=(u?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(d+k)*t.renderer.characterWidth*.5+"px;";var f=t.container.getBoundingClientRect(),h=s.computedStyle(t.container),e=f.top+(parseInt(h.borderTopWidth)||0),c=f.left+(parseInt(f.borderLeftWidth)||0),l=f.bottom-e-w.clientHeight-2,o=function(n){s.translate(w,n.clientX-c-2,Math.min(n.clientY-e-2,l))};(o(n),n.type=="mousedown")&&(t.renderer.$isMousePressed=!0,clearTimeout(pt),r.isWin&&i.capture(t.container,o,ht))};this.onContextMenuClose=ht;ct=function(n){t.textInput.onContextMenu(n);ht()};i.addListener(w,"mouseup",ct,t);i.addListener(w,"mousedown",function(n){n.preventDefault();ht()},t);i.addListener(t.renderer.scroller,"contextmenu",ct,t);i.addListener(w,"contextmenu",ct,t);e&&si(n,t,w)};t.TextInput=w;t.$setUserAgentForTests=function(n,t){o=n;e=t}});define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function r(n){var t,i;n.$clickSelection=null;t=n.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(n));t.setDefaultHandler("dblclick",this.onDoubleClick.bind(n));t.setDefaultHandler("tripleclick",this.onTripleClick.bind(n));t.setDefaultHandler("quadclick",this.onQuadClick.bind(n));t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){n[t]=this[t]},this);n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange");n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}function o(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}function u(n,t){var i;return i=n.start.row==n.end.row?2*t.column-n.start.column-n.end.column:n.start.row!=n.end.row-1||n.start.column||n.end.column?2*t.row-n.start.row-n.end.row:t.column-4,i<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var f=n("../lib/useragent"),e=0,i=550;(function(){this.onMouseDown=function(n){var o=n.inSelection(),r=n.getDocumentPosition(),t,i,u,e;if(this.mousedownEvent=n,t=this.editor,i=n.getButton(),i!==0){if(u=t.getSelectionRange(),e=u.isEmpty(),(e||i==1)&&t.selection.moveToPosition(r),i==2){t.textInput.onContextMenu(n.domEvent);f.isMozilla||n.preventDefault()}return}if(this.mousedownEvent.time=Date.now(),o&&!t.isFocused()&&(t.focus(),this.$focusTimeout&&!this.$clickSelection&&!t.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()};this.startSelect=function(n,t){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(n):t||i.selection.moveToPosition(n),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))};this.select=function(){var n,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y),r,f;this.$clickSelection&&(r=this.$clickSelection.comparePoint(i),r==-1?n=this.$clickSelection.end:r==1?n=this.$clickSelection.start:(f=u(this.$clickSelection,i),i=f.cursor,n=f.anchor),t.selection.setSelectionAnchor(n.row,n.column));t.selection.selectToPosition(i);t.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(n){var r,f=this.editor,t=f.renderer.screenToTextCoordinates(this.x,this.y),i=f.selection[n](t.row,t.column),e,o,s;this.$clickSelection&&(e=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end),e==-1&&o<=0?(r=this.$clickSelection.end,(i.end.row!=t.row||i.end.column!=t.column)&&(t=i.start)):o==1&&e>=0?(r=this.$clickSelection.start,(i.start.row!=t.row||i.start.column!=t.column)&&(t=i.end)):e==-1&&o==1?(t=i.end,r=i.start):(s=u(this.$clickSelection,t),t=s.cursor,r=s.anchor),f.selection.setSelectionAnchor(r.row,r.column));f.selection.selectToPosition(t);f.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(n>e||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,u=r.session,t=u.getBracketRange(i);t?(t.isEmpty()&&(t.start.column--,t.end.column++),this.setState("select")):(t=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords"));this.$clickSelection=t;this.select()};this.onTripleClick=function(n){var r=n.getDocumentPosition(),i=this.editor,t;this.setState("selectByLines");t=i.getSelectionRange();t.isMultiLine()&&t.contains(r.row,r.column)?(this.$clickSelection=i.selection.getLineRange(t.start.row),this.$clickSelection.end=i.selection.getLineRange(t.end.row).end):this.$clickSelection=i.selection.getLineRange(r.row);this.select()};this.onQuadClick=function(){var n=this.editor;n.selectAll();this.$clickSelection=n.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(n){var s,h,r,c;if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);s=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,u=n.domEvent.timeStamp,f=u-t.t,e=f?n.wheelX/f:t.vx,o=f?n.wheelY/f:t.vy;return f<i&&(e=(e+t.vx)/2,o=(o+t.vy)/2),h=Math.abs(e/o),r=!1,h>=1&&s.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(r=!0),h<=1&&s.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(r=!0),r?t.allowed=u:u-t.allowed<i&&(c=Math.abs(e)<=1.5*Math.abs(t.vx)&&Math.abs(o)<=1.5*Math.abs(t.vy),c?(r=!0,t.allowed=u):t.allowed=0),t.t=u,t.vx=e,t.vy=o,r?(s.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}}}).call(r.prototype);t.DefaultHandlers=r});define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(n,t){"use strict";function r(n){this.isOpen=!1;this.$element=null;this.$parentNode=n}var u=n("./lib/oop"),i=n("./lib/dom");(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(n){this.getElement().textContent=n};this.setHtml=function(n){this.getElement().innerHTML=n};this.setPosition=function(n,t){this.getElement().style.left=n+"px";this.getElement().style.top=t+"px"};this.setClassName=function(n){i.addCssClass(this.getElement(),n)};this.show=function(n,t,i){n!=null&&this.setText(n);t!=null&&i!=null&&this.setPosition(t,i);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype);t.Tooltip=r});define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(n,t){"use strict";function o(n){function a(){var u=f.getDocumentPosition().row,i=c.$annotations[u],e,a,r;if(!i||(e=t.session.getLength(),u==e&&(a=t.renderer.pixelToScreenCoordinates(0,f.y).row,r=f.$pos,a>t.session.documentToScreenRow(r.row,r.column))))return o();if(h!=i){h=i.text.join("<br/>");s.setHtml(h);s.show();t._signal("showGutterTooltip",s);t.on("mousewheel",o);if(n.$tooltipFollowsMouse)l(f);else{var p=f.domEvent.target,v=p.getBoundingClientRect(),y=s.getElement().style;y.left=v.right+"px";y.top=v.bottom+"px"}}}function o(){i&&(i=clearTimeout(i));h&&(s.hide(),h=null,t._signal("hideGutterTooltip",s),t.off("mousewheel",o))}function l(n){s.setPosition(n.x,n.y)}var t=n.editor,c=t.renderer.$gutterLayer,s=new r(t.container),i,f,h;n.editor.setDefaultHandler("guttermousedown",function(i){var u,r,f;if(t.isFocused()&&i.getButton()==0&&(u=c.getRegion(i),u!="foldWidgets")){if(r=i.getDocumentPosition().row,f=t.session.selection,i.getShiftKey())f.selectTo(r,0);else{if(i.domEvent.detail==2)return t.selectAll(),i.preventDefault();n.$clickSelection=t.selection.getLineRange(r)}return n.setState("selectByLines"),n.captureMouse(i),i.preventDefault()}});n.editor.setDefaultHandler("guttermousemove",function(t){var r=t.domEvent.target||t.domEvent.srcElement;if(u.hasCssClass(r,"ace_fold-widget"))return o();(h&&n.$tooltipFollowsMouse&&l(t),f=t,i)||(i=setTimeout(function(){i=null;f&&!n.isMousePressed?a():o()},50))});e.addListener(t.renderer.$gutter,"mouseout",function(){(f=null,h&&!i)&&(i=setTimeout(function(){i=null;o()},50))},t);t.on("changeSession",o)}function r(n){i.call(this,n)}var u=n("../lib/dom"),f=n("../lib/oop"),e=n("../lib/event"),i=n("../tooltip").Tooltip;f.inherits(r,i),function(){this.setPosition=function(n,t){var r=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,u=this.getWidth(),f=this.getHeight();n+=15;t+=15;n+u>r&&(n-=n+u-r);t+f>e&&(t-=20+f);i.prototype.setPosition.call(this,n,t)}}.call(r.prototype);t.GutterHandler=o});define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),u=t.MouseEvent=function(n,t){this.domEvent=n;this.editor=t;this.x=this.clientX=n.clientX;this.y=this.clientY=n.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){var i,n,t;return this.$inSelection!==null?this.$inSelection:(i=this.editor,n=i.getSelectionRange(),n.isEmpty()?this.$inSelection=!1:(t=this.getDocumentPosition(),this.$inSelection=n.contains(t.row,t.column)),this.$inSelection)};this.getButton=function(){return i.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(u.prototype)});define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function f(n){function ct(n,i){var r=Date.now(),e=!i||n.row!=i.row,o=!i||n.column!=i.column,f;!b||e||o?(t.moveCursorToPosition(n),b=r,it={x:v,y:y}):(f=u(it.x,it.y,v,y),f>h?b=null:r-b>=s&&(t.renderer.scrollCursorIntoView(),b=null))}function lt(n,i){var e=Date.now(),s=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.characterWidth,f=t.renderer.scroller.getBoundingClientRect(),r={x:{left:v-f.left,right:f.right-v},y:{top:y-f.top,bottom:f.bottom-y}},c=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),u={row:n.row,column:n.column};c/h<=2&&(u.column+=r.x.left<r.x.right?-3:2);l/s<=1&&(u.row+=r.y.top<r.y.bottom?-1:1);var a=n.row!=u.row,p=n.column!=u.column,w=!i||n.row!=i.row;a||p&&!w?g?e-g>=o&&t.renderer.scrollCursorIntoView(u):g=e:g=null}function ft(){var n=f;f=t.renderer.screenToTextCoordinates(v,y);ct(f,n);lt(f,n)}function et(){c=t.selection.toOrientedRange();a=t.session.addMarker(c,"ace_selection",t.getSelectionStyle());t.clearSelection();t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1);clearInterval(tt);ft();tt=setInterval(ft,20);p=0;i.addListener(document,"mousemove",ot)}function rt(){clearInterval(tt);t.session.removeMarker(a);a=null;t.selection.fromOrientedRange(c);t.isFocused()&&!nt&&t.$resetCursorStyle();c=null;f=null;p=0;g=null;b=null;i.removeListener(document,"mousemove",ot)}function ot(){k==null&&(k=setTimeout(function(){k!=null&&a&&rt()},20))}function st(n){var t=n.types;return!t||Array.prototype.some.call(t,function(n){return n=="text/plain"||n=="Text"})}function ht(n){var u=["copy","copymove","all","uninitialized"],f=r.isMac?n.altKey:n.ctrlKey,i="uninitialized",t;try{i=n.dataTransfer.effectAllowed.toLowerCase()}catch(n){}return t="none",f&&u.indexOf(i)>=0?t="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?t="move":u.indexOf(i)>=0&&(t="copy"),t}var t=n.editor,d=e.createElement("div"),ut,l,a,v,y,tt,c,f,p,w,nt,g,b,it,k;d.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5";d.textContent=" ";ut=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ut.forEach(function(t){n[t]=this[t]},this);t.on("mousedown",this.onMouseDown.bind(n));l=t.container;p=0;this.onDragStart=function(n){var r,i;if(this.cancelDrag||!l.draggable)return r=this,setTimeout(function(){r.startSelect();r.captureMouse(n)},0),n.preventDefault();c=t.getSelectionRange();i=n.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove";t.container.appendChild(d);i.setDragImage&&i.setDragImage(d,0,0);setTimeout(function(){t.container.removeChild(d)});i.clearData();i.setData("Text",t.session.getTextRange());nt=!0;this.setState("drag")};this.onDragEnd=function(n){if(l.draggable=!1,nt=!1,this.setState(null),!t.getReadOnly()){var i=n.dataTransfer.dropEffect;w||i!="move"||t.session.remove(t.getSelectionRange());t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||et(),p++,n.dataTransfer.dropEffect=w=ht(n),i.preventDefault(n)};this.onDragOver=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||(et(),p++),k!==null&&(k=null),n.dataTransfer.dropEffect=w=ht(n),i.preventDefault(n)};this.onDragLeave=function(n){return p--,p<=0&&a?(rt(),w=null,i.preventDefault(n)):void 0};this.onDrop=function(n){var r,u;if(f){if(r=n.dataTransfer,nt)switch(w){case"move":c=c.contains(f.row,f.column)?{start:f,end:f}:t.moveText(c,f);break;case"copy":c=t.moveText(c,f,!0)}else u=r.getData("Text"),c={start:f,end:t.session.insert(f,u)},t.focus(),w=null;return rt(),i.preventDefault(n)}};i.addListener(l,"dragstart",this.onDragStart.bind(n),t);i.addListener(l,"dragend",this.onDragEnd.bind(n),t);i.addListener(l,"dragenter",this.onDragEnter.bind(n),t);i.addListener(l,"dragover",this.onDragOver.bind(n),t);i.addListener(l,"dragleave",this.onDragLeave.bind(n),t);i.addListener(l,"drop",this.onDrop.bind(n),t);k=null}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}var e=n("../lib/dom"),i=n("../lib/event"),r=n("../lib/useragent"),o=200,s=200,h=5;(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.$resetCursorStyle();this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){var n,t,i;this.cancelDrag=!1;n=this.editor;t=n.container;t.draggable=!0;n.renderer.$cursorLayer.setBlinking(!1);n.setStyle("ace_dragging");i=r.isWin?"default":"move";n.renderer.setCursorStyle(i);this.setState("dragReady")};this.onMouseDrag=function(){var t=this.editor.container,n;r.isIE&&this.state=="dragReady"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>3&&t.dragDrop());this.state==="dragWait"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(n){var t,u;if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,f=n.inSelection(),e=n.getButton(),o=n.domEvent.detail||1;if(o===1&&e===0&&f){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();t=n.domEvent.target||n.domEvent.srcElement;"unselectable"in t&&(t.unselectable="on");i.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,u=i.container,u.draggable=!0),this.setState("dragWait")):this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this));n.defaultPrevented=!0}}}}).call(f.prototype);t.DragdropHandler=f});define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,t){"use strict";var r=n("./mouse_event").MouseEvent,i=n("../lib/event"),u=n("../lib/dom");t.addTouchListeners=function(n,t){function nt(){var i=window.navigator&&window.navigator.clipboard,n=!1,e=function(){var r=t.getCopyText(),f=t.session.getUndoManager().hasUndo();o.replaceChild(u.buildDom(n?["span",!r&&["span",{"class":"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{"class":"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{"class":"ace_mobile-button",action:"cut"},"Cut"],i&&["span",{"class":"ace_mobile-button",action:"paste"},"Paste"],f&&["span",{"class":"ace_mobile-button",action:"undo"},"Undo"],["span",{"class":"ace_mobile-button",action:"find"},"Find"],["span",{"class":"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),o.firstChild)},r=function(r){var u=r.target.getAttribute("action");if(u=="more"||!n)return n=!n,e();u=="paste"?i.readText().then(function(n){t.execCommand(u,n)}):u&&((u=="cut"||u=="copy")&&(i?i.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(u));o.firstChild.style.display="none";n=!1;u!="openCommandPallete"&&t.focus()};o=u.buildDom(["div",{"class":"ace_mobile-menu",ontouchstart:function(n){f="menu";n.stopPropagation();n.preventDefault();t.textInput.focus()},ontouchend:function(n){n.stopPropagation();n.preventDefault();r(n)},onclick:r},["span"],["span",{"class":"ace_mobile-button",action:"more"},"..."]],t.container)}function d(){o||nt();var i=t.selection.cursor,r=t.renderer.textToScreenCoordinates(i.row,i.column),u=t.renderer.textToScreenCoordinates(0,0).pageX,f=t.renderer.scrollLeft,n=t.container.getBoundingClientRect();o.style.top=r.pageY-n.top-3+"px";r.pageX-n.left<n.width-70?(o.style.left="",o.style.right="10px"):(o.style.right="",o.style.left=u+f-n.left+"px");o.style.display="";o.firstChild.style.display="none";t.on("input",g)}function g(){o&&(o.style.display="none");t.off("input",g)}function tt(){e=null;clearTimeout(e);var n=t.selection.getRange(),i=n.contains(h.row,h.column);(n.isEmpty()||!i)&&(t.selection.moveToPosition(h),t.selection.selectWord());f="wait";d()}function it(){e=null;clearTimeout(e);t.selection.moveToPosition(h);var n=b>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);n&&!n.isEmpty()?t.selection.setRange(n):t.selection.selectWord();f="wait"}function rt(){s+=60;a=setInterval(function(){s--<=0&&(clearInterval(a),a=null);Math.abs(c)<.01&&(c=0);Math.abs(l)<.01&&(l=0);s<20&&(c=.9*c);s<20&&(l=.9*l);var n=t.session.getScrollTop();t.renderer.scrollBy(10*c,10*l);n==t.session.getScrollTop()&&(s=0)},10)}var f="scroll",v,y,p,w,e,a,s=0,h,b=0,c=0,l=0,k,o;i.addListener(n,"contextmenu",function(){if(k){var n=t.textInput.getElement();n.focus()}},t);i.addListener(n,"touchstart",function(n){var a=n.touches,ft,u,o;if(e||a.length>1){clearTimeout(e);e=null;p=-1;f="zoom";return}k=t.$mouseHandler.isMousePressed=!0;var g=t.renderer.layerConfig.lineHeight,at=t.renderer.layerConfig.lineHeight,d=n.timeStamp;w=d;var nt=a[0],rt=nt.clientX,ut=nt.clientY;if(Math.abs(v-rt)+Math.abs(y-ut)>g&&(p=-1),v=n.clientX=rt,y=n.clientY=ut,c=l=0,ft=new r(n,t),h=ft.getDocumentPosition(),d-p<500&&a.length==1&&!s)b++,n.preventDefault(),n.button=0,it();else{b=0;var et=t.selection.cursor,vt=t.selection.isEmpty()?et:t.selection.anchor,ot=t.renderer.$cursorLayer.getPixelPosition(et,!0),st=t.renderer.$cursorLayer.getPixelPosition(vt,!0),i=t.renderer.scroller.getBoundingClientRect(),ht=t.renderer.layerConfig.offset,ct=t.renderer.scrollLeft,lt=function(n,t){return n=n/at,t=t/g-.75,n*n+t*t};if(n.clientX<i.left){f="zoom";return}u=lt(n.clientX-i.left-ot.left+ct,n.clientY-i.top-ot.top+ht);o=lt(n.clientX-i.left-st.left+ct,n.clientY-i.top-st.top+ht);u<3.5&&o<3.5&&(f=u>o?"cursor":"anchor");f=o<3.5?"anchor":u<3.5?"cursor":"scroll";e=setTimeout(tt,450)}p=d},t);i.addListener(n,"touchend",function(){k=t.$mouseHandler.isMousePressed=!1;a&&clearInterval(a);f=="zoom"?(f="",s=0):e?(t.selection.moveToPosition(h),s=0,d()):f=="scroll"?(rt(),g()):d();clearTimeout(e);e=null},t);i.addListener(n,"touchmove",function(n){var p,b,a,s,k,h;if(e&&(clearTimeout(e),e=null),p=n.touches,!(p.length>1)&&f!="zoom"){var o=p[0],i=v-o.clientX,u=y-o.clientY;if(f=="wait")if(i*i+u*u>4)f="cursor";else return n.preventDefault();v=o.clientX;y=o.clientY;n.clientX=o.clientX;n.clientY=o.clientY;b=n.timeStamp;a=b-w;w=b;f=="scroll"?(s=new r(n,t),s.speed=1,s.wheelX=i,s.wheelY=u,10*Math.abs(i)<Math.abs(u)&&(i=0),10*Math.abs(u)<Math.abs(i)&&(u=0),a!=0&&(c=i/a,l=u/a),t._emit("mousewheel",s),s.propagationStopped||(c=l=0)):(k=new r(n,t),h=k.getDocumentPosition(),f=="cursor"?t.selection.moveCursorToPosition(h):f=="anchor"&&t.selection.setSelectionAnchor(h.row,h.column),t.renderer.scrollCursorIntoView(h),n.preventDefault())}},t)}});define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./dom");t.get=function(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){i.readyState===4&&t(i.responseText)};i.send(null)};t.loadScript=function(n,t){var u=i.getDocumentHead(),r=document.createElement("script");r.src=n;u.appendChild(r);r.onload=r.onreadystatechange=function(n,i){(i||!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(r=r.onload=r.onreadystatechange=null,i||t())}};t.qualifyURL=function(n){var t=document.createElement("a");return t.href=n,t.href}});define("ace/lib/event_emitter",["require","exports","module"],function(n,t){"use strict";var i={},r=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(n,t){var i,f,e;if(this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={}),i=this._eventRegistry[n]||[],f=this._defaultHandlers[n],i.length||f){for(typeof t=="object"&&t||(t={}),t.type||(t.type=n),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=u),i=i.slice(),e=0;e<i.length;e++)if(i[e](t,this),t.propagationStopped)break;if(f&&!t.defaultPrevented)return f(t,this)}};i._signal=function(n,t){var i=(this._eventRegistry||{})[n],r;if(i)for(i=i.slice(),r=0;r<i.length;r++)i[r](t,this)};i.once=function(n,t){var i=this;this.on(n,function r(){i.off(n,r);t.apply(null,arguments)});if(!t)return new Promise(function(n){t=n})};i.setDefaultHandler=function(n,t){var i=this._defaultHandlers,f,r,u;i||(i=this._defaultHandlers={_disabled_:{}});i[n]&&(f=i[n],r=i._disabled_[n],r||(i._disabled_[n]=r=[]),r.push(f),u=r.indexOf(t),u!=-1&&r.splice(u,1));i[n]=t};i.removeDefaultHandler=function(n,t){var r=this._defaultHandlers,i,u;r&&(i=r._disabled_[n],r[n]==t?i&&this.setDefaultHandler(n,i.pop()):i&&(u=i.indexOf(t),u!=-1&&i.splice(u,1)))};i.on=i.addEventListener=function(n,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[n];return r||(r=this._eventRegistry[n]=[]),r.indexOf(t)==-1&&r[i?"unshift":"push"](t),t};i.off=i.removeListener=i.removeEventListener=function(n,t){var i,r;(this._eventRegistry=this._eventRegistry||{},i=this._eventRegistry[n],i)&&(r=i.indexOf(t),r!==-1&&i.splice(r,1))};i.removeAllListeners=function(n){n||(this._eventRegistry=this._defaultHandlers=undefined);this._eventRegistry&&(this._eventRegistry[n]=undefined);this._defaultHandlers&&(this._defaultHandlers[n]=undefined)};t.EventEmitter=i});define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"no use strict";function i(){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function o(n,t){var i=new Error(n);i.data=t;typeof console=="object"&&console.error&&console.error(i);setTimeout(function(){throw i;})}var r=n("./oop"),f=n("./event_emitter").EventEmitter,e={setOptions:function(n){Object.keys(n).forEach(function(t){this.setOption(t,n[t])},this)},getOptions:function(n){var t={},i;return n?Array.isArray(n)||(t=n,n=Object.keys(t)):(i=this.$options,n=Object.keys(i).filter(function(n){return!i[n].hidden})),n.forEach(function(n){t[n]=this.getOption(n)},this),t},setOption:function(n,t){if(this["$"+n]!==t){var r=this.$options[n];if(!r)return i('misspelled option "'+n+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(n,t);r.handlesSet||(this["$"+n]=t);r&&r.set&&r.set.call(this,t)}},getOption:function(n){var t=this.$options[n];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(n):t&&t.get?t.get.call(this):this["$"+n]:i('misspelled option "'+n+'"')}},u=function(){this.$defaultOptions={}};(function(){r.implement(this,f);this.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var r=i[t];typeof r=="string"&&(r={forwardTo:r});r.name||(r.name=t);n.$options[r.name]=r;"initialValue"in r&&(n["$"+r.name]=r.initialValue)}),r.implement(n,e),this};this.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var i=n.$options[t];"value"in i&&n.setOption(t,i.value)})};this.setDefaultValue=function(n,t,i){if(!n){for(n in this.$defaultOptions)if(this.$defaultOptions[n][t])break;if(!this.$defaultOptions[n][t])return!1}var r=this.$defaultOptions[n]||(this.$defaultOptions[n]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)};this.setDefaultValues=function(n,t){Object.keys(t).forEach(function(i){this.setDefaultValue(n,i,t[i])},this)};this.warn=i;this.reportError=o}).call(u.prototype);t.AppConfig=u});define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],function(n,t,i){"no use strict";function e(f){var o,s,y,p,h,d,c,w,a;if(u&&u.document){r.packaged=f||n.packaged||i.packaged||u.define&&define.packaged;var e={},v="",b=document.currentScript||document._currentScript,g=b&&b.ownerDocument||document,k=g.getElementsByTagName("script");for(o=0;o<k.length;o++)if(s=k[o],y=s.src||s.getAttribute("src"),y){for(p=s.attributes,h=0,d=p.length;h<d;h++)c=p[h],c.name.indexOf("data-ace-")===0&&(e[l(c.name.replace(/^data-ace-/,""))]=c.value);w=y.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(v=w[1])}v&&(e.base=e.base||v,e.packaged=!0);e.basePath=e.base;e.workerPath=e.workerPath||e.base;e.modePath=e.modePath||e.base;e.themePath=e.themePath||e.base;delete e.base;for(a in e)typeof e[a]!="undefined"&&t.set(a,e[a])}}function l(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})}var o=n("./lib/lang"),a=n("./lib/oop"),s=n("./lib/net"),h=n("./lib/dom"),c=n("./lib/app_config").AppConfig,u,r,f;i.exports=t=new c;u=function(){return this||typeof window!="undefined"&&window}();r={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"_content/Blazor.AceEditorJs/ace/",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(n){if(!r.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return r[n]};t.set=function(n,t){if(r.hasOwnProperty(n))r[n]=t;else if(this.setDefaultValue("",n,t)==!1)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&h.useStrictCSP(t)};t.all=function(){return o.copyObject(r)};t.$modes={};t.moduleUrl=function(n,t){var i,e,u,o,f;return r.$moduleUrls[n]?r.$moduleUrls[n]:(i=n.split("/"),t=t||i[i.length-2]||"",e=t=="snippets"?"/":"-",u=i[i.length-1],t=="worker"&&e=="-"&&(o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),u=u.replace(o,"")),(!u||u==t)&&i.length>1&&(u=i[i.length-2]),f=r[t+"Path"],f==null?f=r.basePath:e=="/"&&(t=e=""),f&&f.slice(-1)!="/"&&(f+="/"),f+t+e+u+this.get("suffix"))};t.setModuleUrl=function(n,t){return r.$moduleUrls[n]=t};t.$loading={};t.loadModule=function(i,r){var u,o,e;Array.isArray(i)&&(o=i[0],i=i[1]);try{u=n(i)}catch(h){}if(u&&!t.$loading[i])return r&&r(u);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(r),!(t.$loading[i].length>1)){if(e=function(){n([i],function(n){t._emit("load.module",{name:i,module:n});var r=t.$loading[i];t.$loading[i]=null;r.forEach(function(t){t&&t(n)})})},!t.get("packaged"))return e();s.loadScript(t.moduleUrl(i,o),e);f()}};f=function(){r.basePath||r.workerPath||r.modePath||r.themePath||Object.keys(r.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};e(!0);t.init=e;t.version="1.5.0"});define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),e=n("./default_handlers").DefaultHandlers,o=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,s=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,c=n("../config"),f=function(n){var c=this,u,f,t;this.editor=n;new e(this);new o(this);new s(this);u=function(){var t=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());t&&window.focus();n.focus()};f=n.renderer.getMouseEventTarget();i.addListener(f,"click",this.onMouseEvent.bind(this,"click"),n);i.addListener(f,"mousemove",this.onMouseMove.bind(this,"mousemove"),n);i.addMultiMouseDownListener([f,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n);i.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n);h(n.container,n);t=n.renderer.$gutter;i.addListener(t,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n);i.addListener(t,"click",this.onMouseEvent.bind(this,"gutterclick"),n);i.addListener(t,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n);i.addListener(t,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n);i.addListener(f,"mousedown",u,n);i.addListener(t,"mousedown",u,n);r.isIE&&n.renderer.scrollBarV&&(i.addListener(n.renderer.scrollBarV.element,"mousedown",u,n),i.addListener(n.renderer.scrollBarH.element,"mousedown",u,n));n.on("mousemove",function(t){if(!c.state&&!c.$dragDelay&&c.$dragEnabled){var i=n.renderer.screenToTextCoordinates(t.x,t.y),r=n.session.selection.getRange(),u=n.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?u.setCursorStyle("default"):u.setCursorStyle("")}},n)};(function(){this.onMouseEvent=function(n,t){this.editor.session&&this.editor._emit(n,new u(t,this.editor))};this.onMouseMove=function(n,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(n,new u(t,this.editor))};this.onMouseWheel=function(n,t){var i=new u(t,this.editor);i.speed=this.$scrollSpeed*2;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)};this.setState=function(n){this.state=n};this.captureMouse=function(n,t){var e,o,s,a;this.x=n.x;this.y=n.y;this.isMousePressed=!0;e=this.editor;o=this.editor.renderer;o.$isMousePressed=!0;var f=this,h=function(n){if(n){if(r.isWebKit&&!n.which&&f.releaseMouse)return f.releaseMouse();f.x=n.clientX;f.y=n.clientY;t&&t(n);f.mouseEvent=new u(n,f.editor);f.$mouseMoved=!0}},c=function(n){e.off("beforeEndOperation",s);clearInterval(a);e.session&&l();f[f.state+"End"]&&f[f.state+"End"](n);f.state="";f.isMousePressed=o.$isMousePressed=!1;o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor();f.$onCaptureMouseMove=f.releaseMouse=null;n&&f.onMouseEvent("mouseup",n);e.endOperation()},l=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(r.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){c(n)});s=function(){f.releaseMouse&&e.curOp.command.name&&e.curOp.selectionChanged&&(f[f.state+"End"]&&f[f.state+"End"](),f.state="",f.releaseMouse())};e.on("beforeEndOperation",s);e.startOperation({command:{name:"mouse"}});f.$onCaptureMouseMove=h;f.releaseMouse=i.capture(this.editor.container,h,c);a=setInterval(l,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var n=function(t){t&&t.domEvent&&t.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(n,10);this.editor.on("nativecontextmenu",n)};this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(f.prototype);c.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});t.MouseHandler=f});define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";function r(n){n.on("click",function(t){var e=t.getDocumentPosition(),r=n.session,f=r.getFoldAt(e.row,e.column,1),u;f&&(t.getAccelKey()?r.removeFold(f):r.expandFold(f),t.stop());u=t.domEvent&&t.domEvent.target;u&&i.hasCssClass(u,"ace_inline_button")&&i.hasCssClass(u,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),n.renderer.scrollCursorIntoView())});n.on("gutterclick",function(t){var u=n.renderer.$gutterLayer.getRegion(t),i,r;if(u=="foldWidgets"){if(i=t.getDocumentPosition().row,r=n.session,r.foldWidgets&&r.foldWidgets[i])n.session.onFoldWidgetClick(i,t);n.isFocused()||n.focus();t.stop()}});n.on("gutterdblclick",function(t){var o=n.renderer.$gutterLayer.getRegion(t),f;if(o=="foldWidgets"){var r=t.getDocumentPosition().row,i=n.session,e=i.getParentFoldRangeData(r,!0),u=e.range||e.firstRange;u&&(r=u.start.row,f=i.getFoldAt(r,i.getLine(r).length,1),f?i.removeFold(f):(i.addFold("...",u),n.renderer.scrollCursorIntoView({row:u.start.row,column:0})));t.stop()}})}var i=n("../lib/dom");t.FoldHandler=r});define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t){"use strict";var r=n("../lib/keys"),u=n("../lib/event"),i=function(n){this.$editor=n;this.$data={editor:n};this.$handlers=[];this.setDefaultHandler(n.commands)};(function(){this.setDefaultHandler=function(n){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=n;this.addKeyboardHandler(n,0)};this.setKeyboardHandler=function(n){var t=this.$handlers;if(t[t.length-1]!=n){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(n,1)}};this.addKeyboardHandler=function(n,t){if(n){typeof n!="function"||n.handleKeyboard||(n.handleKeyboard=n);var i=this.$handlers.indexOf(n);i!=-1&&this.$handlers.splice(i,1);t==undefined?this.$handlers.push(n):this.$handlers.splice(t,0,n);i==-1&&n.attach&&n.attach(this.$editor)}};this.removeKeyboardHandler=function(n){var t=this.$handlers.indexOf(n);return t==-1?!1:(this.$handlers.splice(t,1),n.detach&&n.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var n=this.$data,t=n.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,n)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(n,t,i,r){for(var f,e=!1,o=this.$editor.commands,s=this.$handlers.length;s--;)if((f=this.$handlers[s].handleKeyboard(this.$data,n,t,i,r),f&&f.command)&&(e=f.command=="null"?!0:o.exec(f.command,this.$editor,f.args,r),e&&r&&n!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&u.stopEvent(r),e))break;return e||n!=-1||(f={command:"insertstring"},e=o.exec("insertstring",this.$editor,t)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),e};this.onCommandKey=function(n,t,i){var u=r.keyCodeToString(i);return this.$callKeyboardHandlers(t,u,i,n)};this.onTextInput=function(n){return this.$callKeyboardHandlers(-1,n)}}).call(i.prototype);t.KeyBinding=i});define("ace/lib/bidiutil",["require","exports","module"],function(n,t){"use strict";function yt(n,t,i,r){var a=v?ct:ht,g=null,nt=null,y=null,h=0,d=null,it=null,o=-1,u=null,f=null,rt=[],l;if(!r)for(u=0,r=[];u<i;u++)r[u]=st(n[u]);for(w=v,c=!1,tt=!1,b=!1,k=!1,f=0;f<i;f++){if(g=h,rt[f]=nt=pt(n,r,rt,f),h=a[g][nt],d=h&240,h&=15,t[f]=y=a[h][5],d>0)if(d==16){for(u=o;u<f;u++)t[u]=1;o=-1}else o=-1;if(it=a[h][6],it)o==-1&&(o=f);else if(o>-1){for(u=o;u<f;u++)t[u]=y;o=-1}r[f]==s&&(t[f]=0);w|=y}if(k)for(u=0;u<i;u++)if(r[u]==p)for(t[u]=v,l=u-1;l>=0;l--)if(r[l]==e)t[l]=v;else break}function ot(n,t,i){if(!(w<n)){if(n==1&&v==it&&!b){i.reverse();return}for(var o=i.length,r=0,u,f,e,s;r<o;){if(t[r]>=n){for(u=r+1;u<o&&t[u]>=n;)u++;for(f=r,e=u-1;f<e;f++,e--)s=i[f],i[f]=i[e],i[e]=s;r=u}r++}}}function pt(n,t,w,it){var at=t[it],st,ct,ht,ot,lt,vt;switch(at){case u:case h:c=!1;case i:case l:return at;case f:return c?l:f;case y:return c=!0,tt=!0,h;case e:return i;case a:return it<1||it+1>=t.length||(st=w[it-1])!=f&&st!=l||(ct=t[it+1])!=f&&ct!=l?i:(c&&(ct=l),ct==st?ct:i);case d:return(st=it>0?w[it-1]:s,st==f&&it+1<t.length&&t[it+1]==f)?f:i;case o:if(it>0&&w[it-1]==f)return f;if(c)return i;for(ot=it+1,ht=t.length;ot<ht&&t[ot]==o;)ot++;return ot<ht&&t[ot]==f?f:i;case g:for(ht=t.length,ot=it+1;ot<ht&&t[ot]==g;)ot++;return ot<ht&&(lt=n[it],vt=lt>=1425&&lt<=2303||lt==64286,st=t[ot],vt&&(st==h||st==y))?h:it<1||(st=t[it-1])==s?i:w[it-1];case s:return c=!1,b=!0,v;case p:return k=!0,i;case nt:case rt:case ft:case et:case ut:c=!1;case r:return i}}function st(n){var t=n.charCodeAt(0),r=t>>8;return r==0?t>191?u:at[t]:r==5?/[\u0591-\u05f4]/.test(n)?h:u:r==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(n)?g:/[\u0660-\u0669\u066b-\u066c]/.test(n)?l:t==1642?o:/[\u06f0-\u06f9]/.test(n)?f:y:r==32&&t<=8287?vt[t&255]:r==254?t>=65136?y:i:i}var v=0,w=0,c=!1,tt=!1,b=!1,k=!1,ht=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ct=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],lt=0,it=1,u=0,h=1,f=2,l=3,i=4,s=5,p=6,y=7,e=8,a=9,d=10,o=11,g=12,nt=13,rt=14,ut=15,ft=16,et=17,r=18,at=[r,r,r,r,r,r,r,r,r,p,s,p,e,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,s,s,s,p,e,i,i,o,o,o,i,i,i,i,i,d,a,d,a,a,f,f,f,f,f,f,f,f,f,f,a,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,r,r,r,r,r,r,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,a,i,o,o,o,o,i,i,i,i,u,i,i,r,i,i,o,o,f,f,i,u,i,i,i,f,u,i,i,i,i,i],vt=[e,e,e,e,e,e,e,e,e,e,e,r,r,r,u,h,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e,s,nt,rt,ut,ft,et,a,o,o,o,o,o,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,a,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e];t.L=u;t.R=h;t.EN=f;t.ON_R=3;t.AN=4;t.R_H=5;t.B=6;t.RLE=7;t.DOT="·";t.doBidiReorder=function(n,u,f){var e;if(n.length<2)return{};var s=n.split(""),c=new Array(s.length),a=new Array(s.length),o=[];for(v=f?it:lt,yt(s,o,s.length,u),e=0;e<c.length;c[e]=e,e++);for(ot(2,o,c),ot(1,o,c),e=0;e<c.length-1;e++)u[e]===l?o[e]=t.AN:o[e]===h&&(u[e]>y&&u[e]<nt||u[e]===i||u[e]===r)?o[e]=t.ON_R:e>0&&s[e-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(s[e])&&(o[e-1]=o[e]=t.R_H,e++);for(s[s.length-1]===t.DOT&&(o[s.length-1]=t.B),s[0]==="‫"&&(o[0]=t.RLE),e=0;e<c.length;e++)a[e]=o[c[e]];return{logicalFromVisual:c,bidiLevels:a}};t.hasBidiCharacters=function(n,t){for(var r=!1,i=0;i<n.length;i++)t[i]=st(n.charAt(i)),r||t[i]!=h&&t[i]!=y&&t[i]!=l||(r=!0);return r};t.getVisualFromLogicalIdx=function(n,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==n)return i;return 0}});define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,t){"use strict";var i=n("./lib/bidiutil"),f=n("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,u=function(n){this.session=n;this.bidiMap={};this.currentRow=null;this.bidiUtil=i;this.charWidths=[];this.EOL="¬";this.showInvisibles=!0;this.isRtlDir=!1;this.$isRtl=!1;this.line="";this.wrapIndent=0;this.EOF="¶";this.RLE="‫";this.contentWidth=0;this.fontMetrics=null;this.rtlLineOffset=0;this.wrapOffset=0;this.isMoveLeftOperation=!1;this.seenBidi=r.test(n.getValue())};(function(){this.isBidiRow=function(n,t,i){return this.seenBidi?(n!==this.currentRow&&(this.currentRow=n,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(n){this.seenBidi?this.currentRow=null:n.action=="insert"&&r.test(n.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache,n;return i.length&&(n=this.session.$getRowCacheIndex(i,this.currentRow),n>=0&&(t=this.session.$docRowCache[n])),t};this.getSplitIndex=function(){var n=0,t=this.session.$screenRowCache,i,r;if(t.length)for(r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-n>0;){if(i=this.session.$getRowCacheIndex(t,this.currentRow-n-1),i!==r)break;r=i;n++}else n=this.currentRow;return n};this.updateRowLine=function(n,t){var h,u,r,e,o,s;n===undefined&&(n=this.getDocumentRow());h=n===this.session.getLength()-1;u=h?this.EOF:this.EOL;this.wrapIndent=0;this.line=this.session.getLine(n);this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;this.session.$useWrapMode?(r=this.session.$wrapData[n],r&&(t===undefined&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t])),t==r.length&&(this.line+=this.showInvisibles?u:i.DOT)):this.line+=this.showInvisibles?u:i.DOT;e=this.session;o=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(n,t){return n==="\t"||e.isFullWidth(n.charCodeAt(0))?(s=n==="\t"?e.getScreenTabSize(t+o):2,o+=s-1,f.stringRepeat(i.DOT,s)):n});this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)};this.updateBidiMap=function(){var n=[];this.bidiMap=i.hasBidiCharacters(this.line,n)||this.isRtlDir?i.doBidiReorder(this.line,n,this.isRtlDir):{}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(n){if(this.characterWidth!==n.$characterSize.width){this.fontMetrics=n;var r=this.characterWidth=n.$characterSize.width,t=n.$measureCharWidth("ה");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=r;this.charWidths[i.R]=this.charWidths[i.AN]=t;this.charWidths[i.R_H]=t*.45;this.charWidths[i.B]=this.charWidths[i.RLE]=0;this.currentRow=null}};this.setShowInvisibles=function(n){this.showInvisibles=n;this.currentRow=null};this.setEolChar=function(n){this.EOL=n};this.setContentWidth=function(n){this.contentWidth=n};this.isRtlLine=function(n){return this.$isRtl?!0:n!=undefined?this.session.getLine(n).charAt(0)==this.RLE:this.isRtlDir};this.setRtlDirection=function(n,t){for(var r=n.getCursorPosition(),i=n.selection.getSelectionAnchor().row;i<=r.row;i++)t||n.session.getLine(i).charAt(0)!==n.session.$bidiHandler.RLE?t&&n.session.getLine(i).charAt(0)!==n.session.$bidiHandler.RLE&&n.session.doc.insert({column:0,row:i},n.session.$bidiHandler.RLE):n.session.doc.removeInLine(i,0,1)};this.getPosLeft=function(n){var e;n-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,o=n>u?this.session.getOverwrite()?n:n-1:u,t=i.getVisualFromLogicalIdx(o,this.bidiMap),f=this.bidiMap.bidiLevels,r=0;for(!this.session.getOverwrite()&&n<=u&&f[t]%2!=0&&t++,e=0;e<t;e++)r+=this.charWidths[f[e]];return!this.session.getOverwrite()&&n>u&&f[t]%2==0&&(r+=this.charWidths[f[t]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r};this.getSelections=function(n,t){var l=this.bidiMap,s=l.bidiLevels,a,r=[],u=0,v=Math.min(n,t)-this.wrapIndent,y=Math.max(n,t)-this.wrapIndent,f=!1,h=!1,e=0,c,i,o;for(this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),i=0;i<s.length;i++)c=l.logicalFromVisual[i],a=s[i],f=c>=v&&c<y,f&&!h?e=u:!f&&h&&r.push({left:e,width:u-e}),u+=this.charWidths[a],h=f;if(f&&i===s.length&&r.push({left:e,width:u-e}),this.isRtlDir)for(o=0;o<r.length;o++)r[o].left+=this.rtlLineOffset;return r};this.offsetToCol=function(n){this.isRtlDir&&(n-=this.rtlLineOffset);var r=0,n=Math.max(n,0),f=0,t=0,i=this.bidiMap.bidiLevels,u=this.charWidths[i[t]];for(this.wrapIndent&&(n-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n>f+u/2;){if(f+=u,t===i.length-1){u=0;break}u=this.charWidths[i[++t]]}return t>0&&i[t-1]%2!=0&&i[t]%2==0?(n<f&&t--,r=this.bidiMap.logicalFromVisual[t]):t>0&&i[t-1]%2==0&&i[t]%2!=0?r=1+(n>f?this.bidiMap.logicalFromVisual[t]:this.bidiMap.logicalFromVisual[t-1]):this.isRtlDir&&t===i.length-1&&u===0&&i[t-1]%2==0||!this.isRtlDir&&t===0&&i[t]%2!=0?r=1+this.bidiMap.logicalFromVisual[t]:(t>0&&i[t-1]%2!=0&&u!==0&&t--,r=this.bidiMap.logicalFromVisual[t]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent}}).call(u.prototype);t.BidiHandler=u});define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t){"use strict";var f=n("./lib/oop"),r=n("./lib/lang"),e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,u=function(n){this.session=n;this.doc=n.getDocument();this.clearSelection();this.cursor=this.lead=this.doc.createAnchor(0,0);this.anchor=this.doc.createAnchor(0,0);this.$silent=!1;var t=this;this.cursor.on("change",function(n){t.$cursorChanged=!0;t.$silent||t._emit("changeCursor");t.$isEmpty||t.$silent||t._emit("changeSelection");t.$keepDesiredColumnOnChange||n.old.column==n.value.column||(t.$desiredColumn=null)});this.anchor.on("change",function(){t.$anchorChanged=!0;t.$isEmpty||t.$silent||t._emit("changeSelection")})};(function(){f.implement(this,e);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(n,t){this.$isEmpty=!1;this.anchor.setPosition(n,t)};this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.isBackwards=function(){var n=this.anchor,t=this.lead;return n.row>t.row||n.row==t.row&&n.column>t.column};this.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?i.fromPoints(n,n):this.isBackwards()?i.fromPoints(n,t):i.fromPoints(t,n)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)};this.setRange=this.setSelectionRange=function(n,t){var i=t?n.end:n.start,r=t?n.start:n.end;this.$setSelection(i.row,i.column,r.row,r.column)};this.$setSelection=function(n,t,r,u){if(!this.$silent){var f=this.$isEmpty,e=this.inMultiSelectMode;this.$silent=!0;this.$cursorChanged=this.$anchorChanged=!1;this.anchor.setPosition(n,t);this.cursor.setPosition(r,u);this.$isEmpty=!i.comparePoints(this.anchor,this.cursor);this.$silent=!1;this.$cursorChanged&&this._emit("changeCursor");(this.$cursorChanged||this.$anchorChanged||f!=this.$isEmpty||e)&&this._emit("changeSelection")}};this.$moveSelection=function(n){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column);n.call(this)};this.selectTo=function(n,t){this.$moveSelection(function(){this.moveCursorTo(n,t)})};this.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})};this.moveTo=function(n,t){this.clearSelection();this.moveCursorTo(n,t)};this.moveToPosition=function(n){this.clearSelection();this.moveCursorToPosition(n)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(n,t){if(typeof t=="undefined"){var i=n||this.lead;n=i.row;t=i.column}return this.session.getWordRange(n,t)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var n=this.getCursor(),t=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(t)};this.getLineRange=function(n,t){var r=typeof n=="number"?n:this.lead.row,u,f=this.session.getFoldLine(r);return f?(r=f.start.row,u=f.end.row):u=r,t===!0?new i(r,0,u,this.session.getLine(u).length):new i(r,0,u+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(n,t,i){var r=n.column,u=n.column+t;return i<0&&(r=n.column-t,u=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(r,u).split(" ").length-1==t};this.moveCursorLeft=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(t.start.row,t.start.column):n.column===0?n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(i=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(t.end.row,t.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(i=this.session.getTabSize(),n=this.lead,this.wouldMoveIntoSoftTab(n,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1))};this.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,u=this.session.documentToScreenRow(t,i),n=this.session.screenToDocumentPosition(u,0),f=this.session.getDisplayLine(t,null,n.row,n.column),r=f.match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length);this.moveCursorToPosition(n)};this.moveCursorLineEnd=function(){var r=this.lead,n=this.session.getDocumentLastRowColumnPosition(r.row,r.column),t,i;this.lead.column==n.column&&(t=this.session.getLine(n.row),n.column==t.length&&(i=t.search(/\s+$/),i>0&&(n.column=i)));this.moveCursorTo(n.row,n.column)};this.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,t=this.doc.getLine(n).length;this.moveCursorTo(n,t)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),u=i.substring(n),r;if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,r=this.session.getFoldAt(t,n,1),r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(u)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(n)),n>=i.length){this.moveCursorTo(t,i.length);this.moveCursorRight();t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(u)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)};this.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,f,u,i;if(f=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(f.start.row,f.start.column);return}if(u=this.session.getFoldStringAt(t,n,-1),u==null&&(u=this.doc.getLine(t).substring(0,n)),i=r.stringReverse(u),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0);this.moveCursorLeft();t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)};this.$shortWordEndIndex=function(n){var t=0,i,u=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(n))t=this.session.tokenRe.lastIndex;else{while((i=n[t])&&u.test(i))t++;if(t<1)for(r.lastIndex=0;(i=n[t])&&!r.test(i);)if(r.lastIndex=0,t++,u.test(i))if(t>2){t--;break}else{while((i=n[t])&&u.test(i))t++;if(t>2)break}}return r.lastIndex=0,t};this.moveCursorShortWordRight=function(){var n=this.lead.row,t=this.lead.column,u=this.doc.getLine(n),i=u.substring(t),r=this.session.getFoldAt(n,t,1),f,e;if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==u.length){f=this.doc.getLength();do n++,i=this.doc.getLine(n);while(n<f&&/^\s*$/.test(i));/^\s+/.test(i)||(i="");t=0}e=this.$shortWordEndIndex(i);this.moveCursorTo(n,t+e)};this.moveCursorShortWordLeft=function(){var t=this.lead.row,i=this.lead.column,u,n,f,e;if(u=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(u.start.row,u.start.column);if(n=this.session.getLine(t).substring(0,i),i===0){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length;/\s+$/.test(n)||(n="")}return f=r.stringReverse(n),e=this.$shortWordEndIndex(f),this.moveCursorTo(t,i-e)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(n,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u,f,r;t===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(f=this.session.lineWidgets[this.lead.row],n<0?n-=f.rowsAbove||0:n>0&&(n+=f.rowCount-(f.rowsAbove||0)));r=this.session.screenToDocumentPosition(i.row+n,i.column,u);n!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column;this.moveCursorTo(r.row,r.column+t,t===0)};this.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)};this.moveCursorTo=function(n,t,i){var r=this.session.getFoldAt(n,t,1),u;r&&(n=r.start.row,t=r.start.column);this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(u.charAt(t))&&u.charAt(t-1)&&(t=this.lead.row==n&&this.lead.column==t+1?t-1:t+1);this.lead.setPosition(n,t);this.$keepDesiredColumnOnChange=!1;i||(this.$desiredColumn=null)};this.moveCursorToScreen=function(n,t,i){var r=this.session.screenToDocumentPosition(n,t);this.moveCursorTo(r.row,r.column,i)};this.detach=function(){this.lead.detach();this.anchor.detach()};this.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start);this.$desiredColumn=n.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(n){var t=this.getRange();return n?(n.start.column=t.start.column,n.start.row=t.start.row,n.end.column=t.end.column,n.end.row=t.end.row):n=t,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n};this.getRangeOfMovements=function(n){var t=this.getCursor(),r;try{return n(this),r=this.getCursor(),i.fromPoints(t,r)}catch(u){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}};this.toJSON=function(){var n;return this.rangeCount?n=this.ranges.map(function(n){var t=n.clone();return t.isBackwards=n.cursor==n.start,t}):(n=this.getRange(),n.isBackwards=this.isBackwards()),n};this.fromJSON=function(n){var t,r;if(n.start==undefined){if(this.rangeList&&n.length>1){for(this.toSingleRange(n[0]),t=n.length;t--;)r=i.fromPoints(n[t].start,n[t].end),n[t].isBackwards&&(r.cursor=r.start),this.addRange(r,!0);return}n=n[0]}this.rangeList&&this.toSingleRange(n);this.setSelectionRange(n,n.isBackwards)};this.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(n[t]))return!1;return!0}}).call(u.prototype);t.Selection=u});define("ace/tokenizer",["require","exports","module","ace/config"],function(n,t){"use strict";var u=n("./config"),i=2e3,r=function(n){var e,u,t,f,i;this.states=n;this.regExps={};this.matchMappings={};for(e in this.states){var c=this.states[e],o=[],s=0,h=this.matchMappings[e]={defaultToken:"text"},r="g",l=[];for(u=0;u<c.length;u++)(t=c[u],t.defaultToken&&(h.defaultToken=t.defaultToken),t.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),t.unicode&&r.indexOf("u")===-1&&(r+="u"),t.regex!=null)&&(t.regex instanceof RegExp&&(t.regex=t.regex.toString().slice(1,-1)),f=t.regex,i=new RegExp("(?:("+f+")|(.))").exec("a").length-2,Array.isArray(t.token)?t.token.length==1||i==1?t.token=t.token[0]:i-1!=t.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:t,groupCount:i-1}),t.token=t.token[0]):(t.tokenArray=t.token,t.token=null,t.onMatch=this.$arrayTokens):typeof t.token!="function"||t.onMatch||(t.onMatch=i>1?this.$applyToken:t.token),i>1&&(/\\\d/.test(t.regex)?f=t.regex.replace(/\\([0-9]+)/g,function(n,t){return"\\"+(parseInt(t,10)+s+1)}):(i=1,f=this.removeCapturingGroups(t.regex)),t.splitRegex||typeof t.token=="string"||l.push(t)),h[s]=u,s+=i,o.push(f),t.onMatch||(t.onMatch=null));o.length||(h[0]=0,o.push("$"));l.forEach(function(n){n.splitRegex=this.createSplitterRegexp(n.regex,r)},this);this.regExps[e]=new RegExp("("+o.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(n){i=n|0};this.$applyToken=function(n){var u=this.splitRegex.exec(n).slice(1),i=this.token.apply(this,u),r,t,f;if(typeof i=="string")return[{type:i,value:n}];for(r=[],t=0,f=i.length;t<f;t++)u[t]&&(r[r.length]={type:i[t],value:u[t]});return r};this.$arrayTokens=function(n){var i,r,u,t,f;if(!n)return[];if(i=this.splitRegex.exec(n),!i)return"text";for(r=[],u=this.tokenArray,t=0,f=u.length;t<f;t++)i[t+1]&&(r[r.length]={type:u[t],value:i[t+1]});return r};this.removeCapturingGroups=function(n){return n.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,t){return t?"(?:":n})};this.createSplitterRegexp=function(n,t){if(n.indexOf("(?=")!=-1){var r=0,u=!1,i={};n.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,t,f,e,o,s){return u?u=o!="]":o?u=!0:e?(r==i.stack&&(i.end=s+1,i.stack=-1),r--):f&&(r++,f.length!=1&&(i.stack=r,i.start=s)),n});i.end!=null&&/^\)*$/.test(n.substr(i.end))&&(n=n.substring(0,i.start)+n.substr(i.end))}return n.charAt(0)!="^"&&(n="^"+n),n.charAt(n.length-1)!="$"&&(n+="$"),new RegExp(n,(t||"").replace("g",""))};this.getLineTokens=function(n,t){var f,r,c,p,a,b,h;t&&typeof t!="string"?(f=t.slice(0),t=f[0],t==="#tmp"&&(f.shift(),t=f.shift())):f=[];r=t||"start";c=this.states[r];c||(r="start",c=this.states[r]);p=this.matchMappings[r];a=this.regExps[r];a.lastIndex=0;for(var w,l=[],o=0,k=0,u={type:null,value:""};w=a.exec(n);){var s=p.defaultToken,e=null,v=w[0],y=a.lastIndex;for(y-v.length>o&&(b=n.substring(o,y-v.length),u.type==s?u.value+=b:(u.type&&l.push(u),u={type:s,value:b})),h=0;h<w.length-2;h++)if(w[h+1]!==undefined){e=c[p[h]];s=e.onMatch?e.onMatch(v,r,f,n):e.token;e.next&&(r=typeof e.next=="string"?e.next:e.next(r,f),c=this.states[r],c||(this.reportError("state doesn't exist",r),r="start",c=this.states[r]),p=this.matchMappings[r],o=y,a=this.regExps[r],a.lastIndex=y);e.consumeLineEnd&&(o=y);break}if(v)if(typeof s=="string")e&&e.merge===!1||u.type!==s?(u.type&&l.push(u),u={type:s,value:v}):u.value+=v;else if(s)for(u.type&&l.push(u),u={type:null,value:""},h=0;h<s.length;h++)l.push(s[h]);if(o==n.length)break;if(o=y,k++>i){for(k>2*n.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:n});o<n.length;)u.type&&l.push(u),u={value:n.substring(o,o+=500),type:"overflow"};r="start";f=[];break}}return u.type&&l.push(u),f.length>1&&f[0]!==r&&f.unshift("#tmp",r),{tokens:l,state:f.length?f:r}};this.reportError=u.reportError}).call(r.prototype);t.Tokenizer=r});define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(n,t){"use strict";var r=n("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(n,t){var r,u,f,i;if(!t){for(r in n)this.$rules[r]=n[r];return}for(r in n){for(u=n[r],f=0;f<u.length;f++)i=u[f],(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState));this.$rules[t+r]=u}};this.getRules=function(){return this.$rules};this.embedRules=function(n,t,i,u,f){var o=typeof n=="function"?(new n).getRules():n,s,h,e;if(u)for(e=0;e<u.length;e++)u[e]=t+u[e];else{u=[];for(s in o)u.push(t+s)}if(this.addRules(o,t),i)for(h=Array.prototype[f?"push":"unshift"],e=0;e<u.length;e++)h.apply(this.$rules[u[e]],r.deepCopy(i));this.$embeds||(this.$embeds=[]);this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var n=function(n,t){return(n!="start"||t.length)&&t.unshift(this.nextState,n),this.nextState},t=function(n,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function r(f){var c=i[f],h,e,l,a,o,s,v,y;for(c.processed=!0,h=0;h<c.length;h++){if(e=c[h],l=null,Array.isArray(e)&&(l=e,e={}),!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token=e.token+".start",e.push=!0),a=e.next||e.push,a&&Array.isArray(a)?(o=e.stateName,o||(o=e.token,typeof o!="string"&&(o=o[0]||""),i[o]&&(o+=u++)),i[o]=a,e.next=o,r(o)):a=="pop"&&(e.next=t),e.push&&(e.nextState=e.next||e.push,e.next=n,delete e.push),e.rules)for(s in e.rules)i[s]?i[s].push&&i[s].push.apply(i[s],e.rules[s]):i[s]=e.rules[s];v=typeof e=="string"?e:e.include;v&&(l=Array.isArray(v)?v.map(function(n){return i[n]}):i[v]);l&&(y=[h,1].concat(l),e.noEscape&&(y=y.filter(function(n){return!n.next})),c.splice.apply(c,y),h--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),delete e.defaultToken)}}var u=0,i=this.$rules;Object.keys(i).forEach(r,this)};this.createKeywordMapper=function(n,t,i,r){var u=Object.create(null);return this.$keywordList=[],Object.keys(n).forEach(function(t){for(var f,s=n[t],e=s.split(r||"|"),o=e.length;o--;)f=e[o],this.$keywordList.push(f),i&&(f=f.toLowerCase()),u[f]=t},this),n=null,i?function(n){return u[n.toLowerCase()]||t}:function(n){return u[n]||t}};this.getKeywords=function(){return this.$keywords}}).call(i.prototype);t.TextHighlightRules=i});define("ace/mode/behaviour",["require","exports","module"],function(n,t){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(n,t,i){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[n]:this.$behaviours[n]={}}this.$behaviours[n][t]=i};this.addBehaviours=function(n){var t,i;for(t in n)for(i in n[t])this.add(t,i,n[t][i])};this.remove=function(n){this.$behaviours&&this.$behaviours[n]&&delete this.$behaviours[n]};this.inherit=function(n,t){var i;i=typeof n=="function"?(new n).getBehaviours(t):n.getBehaviours(t);this.addBehaviours(i)};this.getBehaviours=function(n){var i,t;if(n){for(i={},t=0;t<n.length;t++)this.$behaviours[n[t]]&&(i[n[t]]=this.$behaviours[n[t]]);return i}return this.$behaviours}}).call(i.prototype);t.Behaviour=i});define("ace/token_iterator",["require","exports","module","ace/range"],function(n,t){"use strict";var r=n("./range").Range,i=function(n,t,i){this.$session=n;this.$row=t;this.$rowTokens=n.getTokens(t);var r=n.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;for(var n;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,n||(n=this.$session.getLength()),this.$row>=n)return this.$row=n-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var i=this.$rowTokens,t=this.$tokenIndex,n=i[t].start;if(n!==undefined)return n;for(n=0;t>0;)t-=1,n+=i[t].value.length;return n};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new r(this.$row,n,this.$row,n+t.value.length)}}).call(i.prototype);t.TokenIterator=i});define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){"use strict";var c=n("../../lib/oop"),l=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),s=["text","paren.rparen","rparen","paren","punctuation.operator"],v=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,f={},h={'"':'"',"'":"'"},u=function(n){var t=-1;if(n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t])return i=f[t];i=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},r=function(n){this.add("braces","insertion",function(t,f,o,s,h){var c=o.getCursorPosition(),l=s.doc.getLine(c.row),k,v,g,p,y,d,w,b;if(h=="{"){if(u(o),k=o.getSelectionRange(),v=s.doc.getTextRange(k),v!==""&&v!=="{"&&o.getWrapBehavioursEnabled())return e(k,v,"{","}");if(r.isSaneInsertion(o,s))return/[\]\}\)]/.test(l[c.column])||o.inMultiSelectMode||n&&n.braces?(r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if(h=="}"){if(u(o),y=l.substring(c.column,c.column+1),y=="}"&&(g=s.$findOpeningBracket("}",{column:c.column+1,row:c.row}),g!==null&&r.isAutoInsertedClosing(c,l,h)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(h=="\n"||h=="\r\n"){if(u(o),p="",r.isMaybeInsertedClosing(c,l)&&(p=a.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),y=l.substring(c.column,c.column+1),y==="}"){if(d=s.findMatchingBracket({row:c.row,column:c.column+1},"}"),!d)return null;w=this.$getIndent(s.getLine(d.row))}else if(p)w=this.$getIndent(l);else{r.clearMaybeInsertedClosing();return}return b=w+s.getTabString(),{text:"\n"+b+"\n"+w+p,selection:[1,b.length,1,b.length]}}r.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,r,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&h=="{"){if(u(r),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),s=="}")return e.end.column++,e;i.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,i,f,o){var h,c,a;if(o=="("){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"(",")");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,")"),{text:"()",selection:[1,1]}}else if(o==")"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v==")"&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="("&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o==")"))return f.end.column++,f});this.add("brackets","insertion",function(n,t,i,f,o){var h,c,a;if(o=="["){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"[","]");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,"]"),{text:"[]",selection:[1,1]}}else if(o=="]"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v=="]"&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="["&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o=="]"))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var nt=r.$mode.$quotes||h,p,w,a,c,it,rt,g;if(f.length==1&&nt[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;u(i);var s=f,tt=i.getSelectionRange(),l=r.doc.getTextRange(tt);if(l!==""&&(l.length!=1||!nt[l])&&i.getWrapBehavioursEnabled())return e(tt,l,s,s);if(!l){var o=i.getCursorPosition(),b=r.doc.getLine(o.row),v=b.substring(o.column-1,o.column),k=b.substring(o.column,o.column+1),y=r.getTokenAt(o.row,o.column),d=r.getTokenAt(o.row,o.column+1);if(v=="\\"&&y&&/escape/.test(y.type))return null;if(p=y&&/string|escape/.test(y.type),w=!d||/string|escape/.test(d.type),k==s)a=p!==w,a&&/string\.end/.test(d.type)&&(a=!1);else{if(p&&!w||p&&w||(c=r.$mode.tokenRe,c.lastIndex=0,it=c.test(v),c.lastIndex=0,rt=c.test(v),it||rt)||k&&!/[\s;,.})\]\\]/.test(k)||(g=b[o.column-2],v==s&&(g==s||c.test(g))))return null;a=!0}return{text:a?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var c=r.$mode.$quotes||h,e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&c.hasOwnProperty(e)&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f})};r.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){if(/[)}\]]/.test(n.session.getLine(i.row)[i.column]))return!0;if(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",v)};r.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};r.recordAutoInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0);i.autoInsertedRow=u.row;i.autoInsertedLineEnd=r+f.substr(u.column);i.autoInsertedBrackets++};r.recordMaybeInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(i.maybeInsertedBrackets=0);i.maybeInsertedRow=u.row;i.maybeInsertedLineStart=f.substr(0,u.column)+r;i.maybeInsertedLineEnd=f.substr(u.column);i.maybeInsertedBrackets++};r.isAutoInsertedClosing=function(n,t,r){return i.autoInsertedBrackets>0&&n.row===i.autoInsertedRow&&r===i.autoInsertedLineEnd[0]&&t.substr(n.column)===i.autoInsertedLineEnd};r.isMaybeInsertedClosing=function(n,t){return i.maybeInsertedBrackets>0&&n.row===i.maybeInsertedRow&&t.substr(n.column)===i.maybeInsertedLineEnd&&t.substr(0,n.column)==i.maybeInsertedLineStart};r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1);i.autoInsertedBrackets--};r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)};c.inherits(r,l);t.CstyleBehaviour=r});define("ace/unicode",["require","exports","module"],function(n,t){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],f=0,u=[],i=0;i<r.length;i+=2)u.push(f+=r[i]),r[i+1]&&u.push(45,f+=r[i+1]);t.wordChars=String.fromCharCode.apply(null,u)});define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t){"use strict";var i=n("../config"),s=n("../tokenizer").Tokenizer,h=n("./text_highlight_rules").TextHighlightRules,c=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),r=n("../lib/lang"),f=n("../token_iterator").TokenIterator,e=n("../range").Range,o=function(){this.HighlightRules=h};(function(){this.$defaultBehaviour=new c;this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(n,t,i,u){function b(n){for(var t=i;t<=u;t++)n(e.getLine(t),t)}var e=t.doc,a=!0,c=!0,f=Infinity,o=t.getTabSize(),v=!1,s,h,l;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(s=this.lineCommentStart.map(r.escapeRegExp).join("|"),h=this.lineCommentStart[0]):(s=r.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart);s=new RegExp("^(\\s*)(?:"+s+") ?");v=t.getUseSoftTabs();var g=function(n,t){var r=n.match(s),u,i;r&&(u=r[1].length,i=r[0].length,w(n,u,i)||r[0][i-1]!=" "||i--,e.removeInLine(t,u,i))},nt=h+" ",d=function(n,t){(!a||/\S/.test(n))&&(w(n,f,f)?e.insertInLine({row:t,column:f},nt):e.insertInLine({row:t,column:f},h))},p=function(n){return s.test(n)},w=function(n,t,i){for(var r=0;t--&&n.charAt(t)==" ";)r++;if(r%o!=0)return!1;for(r=0;n.charAt(i++)==" ";)r++;return o>2?r%o!=o-1:r%o==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,y=this.blockComment.end,s=new RegExp("^(\\s*)(?:"+r.escapeRegExp(h)+")"),k=new RegExp("(?:"+r.escapeRegExp(y)+")\\s*$"),d=function(n,t){p(n,t)||(!a||/\S/.test(n))&&(e.insertInLine({row:t,column:n.length},y),e.insertInLine({row:t,column:f},h))},g=function(n,t){var i;(i=n.match(k))&&e.removeInLine(t,n.length-i[0].length,n.length);(i=n.match(s))&&e.removeInLine(t,i[1].length,i[0].length)},p=function(n,i){var u,r;if(s.test(n))return!0;for(u=t.getTokens(i),r=0;r<u.length;r++)if(u[r].type==="comment")return!0}}l=Infinity;b(function(n,t){var i=n.search(/\S/);i!==-1?(i<f&&(f=i),c&&!p(n,t)&&(c=!1)):l>n.length&&(l=n.length)});f==Infinity&&(f=l,a=!1,c=!1);v&&f%o!=0&&(f=Math.floor(f/o)*o);b(c?g:d)};this.toggleBlockComment=function(n,t,i,r){var u=this.blockComment,p,w,s,o,h,c,l;if(u){!u.start&&u[0]&&(u=u[0]);var s=new f(t,r.row,r.column),o=s.getCurrentToken(),b=t.selection,a=t.selection.toOrientedRange(),v,y;if(o&&/comment/.test(o.type)){while(o&&/comment/.test(o.type)){if(h=o.value.indexOf(u.start),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;p=new e(c,l,c,l+u.start.length);break}o=s.stepBackward()}for(s=new f(t,r.row,r.column),o=s.getCurrentToken();o&&/comment/.test(o.type);){if(h=o.value.indexOf(u.end),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;w=new e(c,l,c,l+u.end.length);break}o=s.stepForward()}w&&t.remove(w);p&&(t.remove(p),v=p.start.row,y=-u.start.length)}else y=u.start.length,v=i.start.row,t.insert(i.end,u.end),t.insert(i.start,u.start);a.start.row==v&&(a.start.column+=y);a.end.row==v&&(a.end.column+=y);t.selection.fromOrientedRange(a)}};this.getNextLineIndent=function(n,t){return this.$getIndent(t)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(n){return n.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(n){var u,t;this.$embeds=[];this.$modes={};for(t in n)if(n[t]){var f=n[t],e=f.prototype.$id,r=i.$modes[e];r||(i.$modes[e]=r=new f);i.$modes[t]||(i.$modes[t]=r);this.$embeds.push(t);this.$modes[t]=r}for(u=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<u.length;t++)(function(n){var i=u[t],r=n[i];n[u[t]]=function(){return this.$delegator(i,arguments,r)}})(this)};this.$delegator=function(n,t,i){var r=t[0]||"start",o,f,e,u,s;if(typeof r!="string"){if(Array.isArray(r[2])&&(o=r[2][r[2].length-1],u=this.$modes[o],u))return u[n].apply(u,[r[1]].concat([].slice.call(t,1)));r=r[0]||"start"}for(f=0;f<this.$embeds.length;f++)if(this.$modes[this.$embeds[f]]&&(e=r.split(this.$embeds[f]),!e[0]&&e[1]))return t[0]=e[1],u=this.$modes[this.$embeds[f]],u[n].apply(u,t);return s=i.apply(this,t),i?s:undefined};this.transformAction=function(n,t){var i,r,u;if(this.$behaviour){i=this.$behaviour.getBehaviours();for(r in i)if(i[r][t]&&(u=i[r][t].apply(this,arguments),u))return u}};this.getKeywords=function(n){var e,r,i,t,o,f,s,u;if(!this.completionKeywords){e=this.$tokenizer.rules;r=[];for(u in e)for(i=e[u],t=0,o=i.length;t<o;t++)if(typeof i[t].token=="string")/keyword|support|storage/.test(i[t].token)&&r.push(i[t].regex);else if(typeof i[t].token=="object")for(f=0,s=i[t].token.length;f<s;f++)/keyword|support|storage/.test(i[t].token[f])&&(u=i[t].regex.match(/\(.+?\)/g)[f],r.push(u.substr(1,u.length-2)));this.completionKeywords=r}return n?r.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var n=this.$keywordList||this.$createKeywordList();return n.map(function(n){return{name:n,value:n,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(o.prototype);t.Mode=o});define("ace/apply_delta",["require","exports","module"],function(n,t){"use strict";t.applyDelta=function(n,t){var i=t.start.row,u=t.start.column,r=n[i]||"",o,s,e,f;switch(t.action){case"insert":o=t.lines;o.length===1?n[i]=r.substring(0,u)+t.lines[0]+r.substring(u):(s=[i,1].concat(t.lines),n.splice.apply(n,s),n[i]=r.substring(0,u)+n[i],n[i+t.lines.length-1]+=r.substring(u));break;case"remove":e=t.end.column;f=t.end.row;i===f?n[i]=r.substring(0,u)+r.substring(e):n.splice(i,f-i+1,r.substring(0,u)+n[f].substring(e))}}});define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var i=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,u=t.Anchor=function(n,t,i){this.$onChange=this.onChange.bind(this);this.attach(n);typeof i=="undefined"?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function n(n,t,i){var r=i?n.column<=t.column:n.column<t.column;return n.row<t.row||n.row==t.row&&r}function t(t,i,r){var f=t.action=="insert",o=(f?1:-1)*(t.end.row-t.start.row),s=(f?1:-1)*(t.end.column-t.start.column),u=t.start,e=f?u:t.end;return n(i,u,r)?{row:i.row,column:i.column}:n(e,i,!r)?{row:i.row+o,column:i.column+(i.row==e.row?s:0)}:{row:u.row,column:u.column}}i.implement(this,r);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(n){if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row)){var i=t(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}};this.setPosition=function(n,t,i){var r,u;(r=i?{row:n,column:t}:this.$clipPositionToDocument(n,t),this.row!=r.row||this.column!=r.column)&&(u={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:u,value:r}))};this.detach=function(){this.document.off("change",this.$onChange)};this.attach=function(n){this.document=n||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(n,t){var i={};return n>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):n<0?(i.row=0,i.column=0):(i.row=n,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(u.prototype)});define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t){"use strict";var u=n("./lib/oop"),f=n("./apply_delta").applyDelta,e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,o=n("./anchor").Anchor,r=function(n){this.$lines=[""];n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)};(function(){u.implement(this,e);this.setValue=function(n){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},n)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(n,t){return new o(this,n,t)};this.$split="aaa".split(/a/).length===0?function(n){return n.replace(/\r\n|\r/g,"\n").split("\n")}:function(n){return n.split(/\r\n|\r|\n/)};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(n){return n=="\r\n"||n=="\r"||n=="\n"};this.getLine=function(n){return this.$lines[n]||""};this.getLines=function(n,t){return this.$lines.slice(n,t+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())};this.getLinesForRange=function(n){var t,i;return n.start.row===n.end.row?t=[this.getLine(n.start.row).substring(n.start.column,n.end.column)]:(t=this.getLines(n.start.row,n.end.row),t[0]=(t[0]||"").substring(n.start.column),i=t.length-1,n.end.row-n.start.row==i&&(t[i]=t[i].substring(0,n.end.column))),t};this.insertLines=function(n,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,t)};this.removeLines=function(n,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,t)};this.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])};this.insert=function(n,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(n,this.$split(t))};this.insertInLine=function(n,t){var r=this.clippedPos(n.row,n.column),i=this.pos(n.row,n.column+t.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)};this.clippedPos=function(n,t){var i=this.getLength(),r;return n===undefined?n=i:n<0?n=0:n>=i&&(n=i-1,t=undefined),r=this.getLine(n),t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:n,column:t}};this.clonePos=function(n){return{row:n.row,column:n.column}};this.pos=function(n,t){return{row:n,column:t}};this.$clipPosition=function(n){var t=this.getLength();return n.row>=t?(n.row=Math.max(0,t-1),n.column=this.getLine(t-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n};this.insertFullLines=function(n,t){n=Math.min(Math.max(n,0),this.getLength());var i=0;n<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),n--,i=this.$lines[n].length);this.insertMergedLines({row:n,column:i},t)};this.insertMergedLines=function(n,t){var i=this.clippedPos(n.row,n.column),r={row:i.row+t.length-1,column:(t.length==1?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)};this.remove=function(n){var t=this.clippedPos(n.start.row,n.start.column),i=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)};this.removeInLine=function(n,t,i){var r=this.clippedPos(n,t),u=this.clippedPos(n,i);return this.applyDelta({start:r,end:u,action:"remove",lines:this.getLinesForRange({start:r,end:u})},!0),this.clonePos(r)};this.removeFullLines=function(n,t){n=Math.min(Math.max(0,n),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var u=t==this.getLength()-1&&n>0,f=t<this.getLength()-1,e=u?n-1:n,s=u?this.getLine(e).length:0,o=f?t+1:t,h=f?0:this.getLine(o).length,r=new i(e,s,o,h),c=this.$lines.slice(n,t+1);return this.applyDelta({start:r.start,end:r.end,action:"remove",lines:this.getLinesForRange(r)}),c};this.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})};this.replace=function(n,t){return(n instanceof i||(n=i.fromPoints(n.start,n.end)),t.length===0&&n.isEmpty())?n.start:t==this.getTextRange(n)?n.end:(this.remove(n),t?this.insert(n.start,t):n.start)};this.applyDeltas=function(n){for(var t=0;t<n.length;t++)this.applyDelta(n[t])};this.revertDeltas=function(n){for(var t=n.length-1;t>=0;t--)this.revertDelta(n[t])};this.applyDelta=function(n,t){var r=n.action=="insert";(r?n.lines.length<=1&&!n.lines[0]:!i.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4?this.$splitAndapplyLargeDelta(n,2e4):(f(this.$lines,n,t),this._signal("change",n)))};this.$safeApplyDelta=function(n){var t=this.$lines.length;(n.action=="remove"&&n.start.row<t&&n.end.row<t||n.action=="insert"&&n.start.row<=t)&&this.applyDelta(n)};this.$splitAndapplyLargeDelta=function(n,t){for(var o,u=n.lines,s=u.length-t+1,f=n.start.row,e=n.start.column,i=0,r=0;i<s;i=r)r+=t-1,o=u.slice(i,r),o.push(""),this.applyDelta({start:this.pos(f+i,e),end:this.pos(f+r,e=0),action:n.action,lines:o},!0);n.lines=u.slice(i);n.start.row=f+i;n.start.column=e;this.applyDelta(n,!0)};this.revertDelta=function(n){this.$safeApplyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})};this.indexToPosition=function(n,t){for(var r=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,i=t||0,f=r.length;i<f;i++)if(n-=r[i].length+u,n<0)return{row:i,column:n+r[i].length+u};return{row:f-1,column:n+r[f-1].length+u}};this.positionToIndex=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,u=0,e=Math.min(n.row,r.length),i=t||0;i<e;++i)u+=r[i].length+f;return u+n.column}}).call(r.prototype);t.Document=r});define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("./lib/oop"),u=n("./lib/event_emitter").EventEmitter,i=function(n){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=n;var t=this;this.$worker=function(){var f,r;if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc,u=n;t.lines[n];)n++;for(f=o.getLength(),r=0,t.running=!1;n<f;){t.$tokenizeRow(n);i=n;do n++;while(t.lines[n]);if(r++,r%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n;i==-1&&(i=n);u<=i&&t.fireUpdateEvent(u,i)}}};(function(){r.implement(this,u);this.setTokenizer=function(n){this.tokenizer=n;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(n){this.doc=n;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(n,t){var i={first:n,last:t};this._signal("update",{data:i})};this.start=function(n){this.currentLine=Math.min(n||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.lines[t]=null:n.action=="remove"?(this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null)):(r=Array(i+1),r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r));this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(n){return this.lines[n]||this.$tokenizeRow(n)};this.getState=function(n){return this.currentLine==n&&this.$tokenizeRow(n),this.states[n]||"start"};this.$tokenizeRow=function(n){var i=this.doc.getLine(n),r=this.states[n-1],t=this.tokenizer.getLineTokens(i,r,n);return this.states[n]+""!=t.state+""?(this.states[n]=t.state,this.lines[n+1]=null,this.currentLine>n+1&&(this.currentLine=n+1)):this.currentLine==n&&(this.currentLine=n+1),this.lines[n]=t.tokens}}).call(i.prototype);t.BackgroundTokenizer=i});define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";var r=n("./lib/lang"),f=n("./lib/oop"),u=n("./range").Range,i=function(n,t,i){this.setRegexp(n);this.clazz=t;this.type=i||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(n){this.regExp+""!=n+""&&(this.regExp=n,this.cache=[])};this.update=function(n,t,i,f){var h,c,o,e,s;if(this.regExp)for(h=f.firstRow,c=f.lastRow,o=h;o<=c;o++)for(e=this.cache[o],e==null&&(e=r.getMatchOffsets(i.getLine(o),this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(n){return new u(o,n.offset,o,n.offset+n.length)}),this.cache[o]=e.length?e:""),s=e.length;s--;)t.drawSingleLineMarker(n,e[s].toScreenRange(i),this.clazz,f)}}).call(i.prototype);t.SearchHighlight=i});define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t){"use strict";function i(n,t){this.foldData=n;Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,i.end.row,i.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(n){n.setFoldLine(this)},this)}var r=n("../range").Range;(function(){this.shiftRow=function(n){this.start.row+=n;this.end.row+=n;this.folds.forEach(function(t){t.start.row+=n;t.end.row+=n})};this.addFold=function(n){if(n.sameRow){if(n.start.row<this.startRow||n.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(n);this.folds.sort(function(n,t){return-n.range.compareEnd(t.start.row,t.start.column)});this.range.compareEnd(n.start.row,n.start.column)>0?(this.end.row=n.end.row,this.end.column=n.end.column):this.range.compareStart(n.end.row,n.end.column)<0&&(this.start.row=n.start.row,this.start.column=n.start.column)}else if(n.start.row==this.end.row)this.folds.push(n),this.end.row=n.end.row,this.end.column=n.end.column;else if(n.end.row==this.start.row)this.folds.unshift(n),this.start.row=n.start.row,this.start.column=n.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");n.foldLine=this};this.containsRow=function(n){return n>=this.start.row&&n<=this.end.row};this.walk=function(n,t,i){var u=0,h=this.folds,r,s,f,e=!0,o;for(t==null&&(t=this.end.row,i=this.end.column),o=0;o<h.length;o++){if(r=h[o],s=r.range.compareStart(t,i),s==-1){n(null,t,i,u,e);return}if(f=n(null,r.start.row,r.start.column,u,e),f=!f&&n(r.placeholder,r.start.row,r.start.column,u),f||s===0)return;e=!r.sameRow;u=r.end.column}n(null,t,i,u,e)};this.getNextFoldTo=function(n,t){for(var i,r,u=0;u<this.folds.length;u++){if(i=this.folds[u],r=i.range.compareEnd(n,t),r==-1)return{fold:i,kind:"after"};if(r===0)return{fold:i,kind:"inside"}}return null};this.addRemoveChars=function(n,t,i){var e=this.getNextFoldTo(n,t),r,f,u;if(e)if(r=e.fold,e.kind=="inside"&&r.start.column!=t&&r.start.row!=n)window.console&&window.console.log(n,t,r);else if(r.start.row==n){for(f=this.folds,u=f.indexOf(r),u===0&&(this.start.column+=i),u;u<f.length;u++){if(r=f[u],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}};this.split=function(n,t){var u=this.getNextFoldTo(n,t),o;if(!u||u.kind=="inside")return null;var h=u.fold,r=this.folds,f=this.foldData,e=r.indexOf(h),s=r[e-1];return this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(e,r.length-e),o=new i(f,r),f.splice(f.indexOf(this)+1,0,o),o};this.merge=function(n){for(var i,r=n.folds,t=0;t<r.length;t++)this.addFold(r[t]);i=this.foldData;i.splice(i.indexOf(n),1)};this.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(t){n.push("  "+t.toString())}),n.push("]"),n.join("\n")};this.idxToPosition=function(n){for(var t,r=0,i=0;i<this.folds.length;i++){if(t=this.folds[i],n-=t.start.column-r,n<0)return{row:t.start.row,column:t.start.column+n};if(n-=t.placeholder.length,n<0)return t.start;r=t.end.column}return{row:this.end.row,column:this.end.column+n}}}).call(i.prototype);t.FoldLine=i});define("ace/range_list",["require","exports","module","ace/range"],function(n,t){"use strict";var u=n("./range").Range,i=u.comparePoints,r=function(){this.ranges=[];this.$bias=1};(function(){this.comparePoints=i;this.pointIndex=function(n,t,r){for(var e,o,f,s=this.ranges,u=r||0;u<s.length;u++)if(e=s[u],o=i(n,e.end),!(o>0))return(f=i(n,e.start),o===0)?t&&f!==0?-u-2:u:f>0||f===0&&!t?u:-u-1;return-u-1};this.add=function(n){var r=!n.isEmpty(),t=this.pointIndex(n.start,r),i;return t<0&&(t=-t-1),i=this.pointIndex(n.end,r,t),i<0?i=-i-1:i++,this.ranges.splice(t,i-t,n)};this.addList=function(n){for(var t=[],i=n.length;i--;)t.push.apply(t,this.add(n[i]));return t};this.substractPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges.splice(t,1)};this.merge=function(){var e=[],t=this.ranges,n,r,u,f;for(t=t.sort(function(n,t){return i(n.start,t.start)}),n=t[0],u=1;u<t.length;u++)(r=n,n=t[u],f=i(r.end,n.start),f<0)||(f!=0||r.isEmpty()||n.isEmpty())&&(i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(u,1),e.push(n),n=r,u--);return this.ranges=t,e};this.contains=function(n,t){return this.pointIndex({row:n,column:t})>=0};this.containsPoint=function(n){return this.pointIndex(n)>=0};this.rangeAtPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges[t]};this.clipRows=function(n,t){var u=this.ranges,i,r,e,f;if(u[0].start.row>t||u[u.length-1].start.row<n)return[];for(i=this.pointIndex({row:n,column:0}),i<0&&(i=-i-1),r=this.pointIndex({row:t,column:0},i),r<0&&(r=-r-1),e=[],f=i;f<r;f++)e.push(u[f]);return e};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(n){this.session&&this.detach();this.session=n;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(n){for(var u,o,t,i=n.start,c=n.end,f=i.row,e=c.row,s=this.ranges,r=0,h=s.length;r<h;r++)if(t=s[r],t.end.row>=f)break;if(n.action=="insert")for(u=e-f,o=-i.column+c.column;r<h;r++){if(t=s[r],t.start.row>f)break;if(t.start.row==f&&t.start.column>=i.column&&(t.start.column==i.column&&this.$bias<=0||(t.start.column+=o,t.start.row+=u)),t.end.row==f&&t.end.column>=i.column){if(t.end.column==i.column&&this.$bias<0)continue;t.end.column==i.column&&o>0&&r<h-1&&t.end.column>t.start.column&&t.end.column==s[r+1].start.column&&(t.end.column-=o);t.end.column+=o;t.end.row+=u}}else for(u=f-e,o=i.column-c.column;r<h;r++){if(t=s[r],t.start.row>e)break;t.end.row<e&&(f<t.end.row||f==t.end.row&&i.column<t.end.column)?(t.end.row=f,t.end.column=i.column):t.end.row==e?t.end.column<=c.column?(u||t.end.column>i.column)&&(t.end.column=i.column,t.end.row=i.row):(t.end.column+=o,t.end.row+=u):t.end.row>e&&(t.end.row+=u);t.start.row<e&&(f<t.start.row||f==t.start.row&&i.column<t.start.column)?(t.start.row=f,t.start.column=i.column):t.start.row==e?t.start.column<=c.column?(u||t.start.column>i.column)&&(t.start.column=i.column,t.start.row=i.row):(t.start.column+=o,t.start.row+=u):t.start.row>e&&(t.start.row+=u)}if(u!=0&&r<h)for(;r<h;r++)t=s[r],t.start.row+=u,t.end.row+=u}}).call(r.prototype);t.RangeList=r});define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(n,t){"use strict";function r(n,t){n.row-=t.row;n.row==0&&(n.column-=t.column)}function o(n,t){r(n.start,t);r(n.end,t)}function u(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row}function s(n,t){u(n.start,t);u(n.end,t)}var f=n("../range_list").RangeList,e=n("../lib/oop"),i=t.Fold=function(n,t){this.foldLine=null;this.placeholder=t;this.range=n;this.start=n.start;this.end=n.end;this.sameRow=n.start.row==n.end.row;this.subFolds=this.ranges=[]};e.inherits(i,f),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(n){this.foldLine=n;this.subFolds.forEach(function(t){t.setFoldLine(n)})};this.clone=function(){var t=this.range.clone(),n=new i(t,this.placeholder);return this.subFolds.forEach(function(t){n.subFolds.push(t.clone())}),n.collapseChildren=this.collapseChildren,n};this.addSubFold=function(n){var i,h,c,u,f,r,t,e,l,s;if(!this.range.isEqual(n)){for(o(n,this.start),u=n.start.row,f=n.start.column,i=0,t=-1;i<this.subFolds.length;i++)if(t=this.subFolds[i].range.compare(u,f),t!=1)break;if(h=this.subFolds[i],c=0,t==0){if(h.range.containsRange(n))return h.addSubFold(n);c=1}for(u=n.range.end.row,f=n.range.end.column,r=i,t=-1;r<this.subFolds.length;r++)if(t=this.subFolds[r].range.compare(u,f),t!=1)break;for(t==0&&r++,e=this.subFolds.splice(i,r-i,n),l=t==0?e.length-1:e.length,s=c;s<l;s++)n.addSubFold(e[s]);return n.setFoldLine(this.foldLine),n}};this.restoreRange=function(n){return s(n,this.start)}}.call(i.prototype)});define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(n,t){"use strict";function e(){this.getFoldAt=function(n,t,i){var e=this.getFoldLine(n),f,u,r;if(!e)return null;for(f=e.folds,u=0;u<f.length;u++)if(r=f[u].range,r.contains(n,t)){if(i==1&&r.isEnd(n,t)&&!r.isEmpty())continue;else if(i==-1&&r.isStart(n,t)&&!r.isEmpty())continue;return f[u]}};this.getFoldsInRange=function(n){var o=n.start,s=n.end,u=this.$foldData,h=[],i,t,f,r,e;for(o.column+=1,s.column-=1,i=0;i<u.length;i++){if(t=u[i].range.compareRange(n),t==2)continue;else if(t==-2)break;for(f=u[i].folds,r=0;r<f.length;r++){if(e=f[r],t=e.range.compareRange(n),t==-2)break;else if(t==2)continue;else if(t==42)break;h.push(e)}}return o.column-=1,s.column+=1,h};this.getFoldsInRangeList=function(n){var t;return Array.isArray(n)?(t=[],n.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)):t=this.getFoldsInRange(n),t};this.getAllFolds=function(){for(var t,r=[],i=this.$foldData,n=0;n<i.length;n++)for(t=0;t<i[n].folds.length;t++)r.push(i[n].folds[t]);return r};this.getFoldStringAt=function(n,t,i,r){var u,f,e,o,s;if(r=r||this.getFoldLine(n),!r)return null;for(u={end:{column:0}},o=0;o<r.folds.length;o++){if(e=r.folds[o],s=e.range.compareEnd(n,t),s==-1){f=this.getLine(e.start.row).substring(u.end.column,e.start.column);break}else if(s===0)return null;u=e}return f||(f=this.getLine(e.start.row).substring(u.end.column)),i==-1?f.substring(0,t-u.end.column):i==1?f.substring(t-u.end.column):f};this.getFoldLine=function(n,t){var u=this.$foldData,i=0,r;for(t&&(i=u.indexOf(t)),i==-1&&(i=0),i;i<u.length;i++){if(r=u[i],r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null};this.getNextFoldLine=function(n,t){var r=this.$foldData,i=0,u;for(t&&(i=r.indexOf(t)),i==-1&&(i=0),i;i<r.length;i++)if(u=r[i],u.end.row>=n)return u;return null};this.getFoldedRowCount=function(n,t){for(var e=this.$foldData,r=t-n+1,f=0;f<e.length;f++){var o=e[f],u=o.end.row,i=o.start.row;if(u>=t){i<t&&(i>=n?r-=t-i:r=0);break}else u>=n&&(r-=i>=n?u-i:u-n+1)}return r};this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(n,t){return n.start.row-t.start.row}),n};this.addFold=function(n,t){var a=this.$foldData,v=!1,i,c,s,f,l;n instanceof u?i=n:(i=new u(t,n),i.collapseChildren=t.collapseChildren);this.$clipRangeToDocument(i.range);var y=i.start.row,p=i.start.column,o=i.end.row,w=i.end.column,e=this.getFoldAt(y,p,1),h=this.getFoldAt(o,w,-1);if(e&&h==e)return e.addSubFold(i);for(e&&!e.range.isStart(y,p)&&this.removeFold(e),h&&!h.range.isEnd(o,w)&&this.removeFold(h),c=this.getFoldsInRange(i.range),c.length>0&&(this.removeFolds(c),i.collapseChildren||c.forEach(function(n){i.addSubFold(n)})),s=0;s<a.length;s++)if(f=a[s],o==f.start.row){f.addFold(i);v=!0;break}else if(y==f.end.row){if(f.addFold(i),v=!0,!i.sameRow&&(l=a[s+1],l&&l.start.row==o)){f.merge(l);break}break}else if(o<=f.start.row)break;return v||(f=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i};this.addFolds=function(n){n.forEach(function(n){this.addFold(n)},this)};this.removeFold=function(n){var i=n.foldLine,u=i.start.row,f=i.end.row,e=this.$foldData,t=i.folds,r;t.length==1?e.splice(e.indexOf(i),1):i.range.isEnd(n.end.row,n.end.column)?(t.pop(),i.end.row=t[t.length-1].end.row,i.end.column=t[t.length-1].end.column):i.range.isStart(n.start.row,n.start.column)?(t.shift(),i.start.row=t[0].start.row,i.start.column=t[0].start.column):n.sameRow?t.splice(t.indexOf(n),1):(r=i.split(n.start.row,n.start.column),t=r.folds,t.shift(),r.start.row=t[0].start.row,r.start.column=t[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f));this.$modified=!0;this._signal("changeFold",{data:n,action:"remove"})};this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(n){this.removeFold(n)},this);this.$modified=!0};this.expandFold=function(n){this.removeFold(n);n.subFolds.forEach(function(t){n.restoreRange(t);this.addFold(t)},this);n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1);n.subFolds=[]};this.expandFolds=function(n){n.forEach(function(n){this.expandFold(n)},this)};this.unfold=function(n,t){var u,r,f;if(n==null)u=new i(0,0,this.getLength(),0),t==null&&(t=!0);else if(typeof n=="number")u=new i(n,0,n,this.getLine(n).length);else if("row"in n)u=i.fromPoints(n,n);else{if(Array.isArray(n))return r=[],n.forEach(function(n){r=r.concat(this.unfold(n))},this),r;u=n}for(r=this.getFoldsInRangeList(u),f=r;r.length==1&&i.comparePoints(r[0].start,u.start)<0&&i.comparePoints(r[0].end,u.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(u);return t!=!1?this.removeFolds(r):this.expandFolds(r),f.length?f:void 0};this.isRowFolded=function(n,t){return!!this.getFoldLine(n,t)};this.getRowFoldEnd=function(n,t){var i=this.getFoldLine(n,t);return i?i.end.row:n};this.getRowFoldStart=function(n,t){var i=this.getFoldLine(n,t);return i?i.start.row:n};this.getFoldDisplayLine=function(n,t,i,r,u){r==null&&(r=n.start.row);u==null&&(u=0);t==null&&(t=n.end.row);i==null&&(i=this.getLine(t).length);var e=this.doc,f="";return n.walk(function(n,t,i,o){if(!(t<r)){if(t==r){if(i<u)return;o=Math.max(u,o)}f+=n!=null?n:e.getLine(t).substring(o,i)}},t,i),f};this.getDisplayLine=function(n,t,i,r){var f=this.getFoldLine(n),u;return f?this.getFoldDisplayLine(f,n,t,i,r):(u=this.doc.getLine(n),u.substring(r||0,t||u.length))};this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var i=t.folds.map(function(n){return n.clone()});return new r(n,i)})};this.toggleFold=function(n){var o=this.selection,t=o.getRange(),i,r,u,e,f;if(t.isEmpty()){if(u=t.start,i=this.getFoldAt(u.row,u.column),i){this.expandFold(i);return}(r=this.findMatchingBracket(u))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:u.row,column:u.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(u.row,u.column)||t}else{if(e=this.getFoldsInRange(t),n&&e.length){this.expandFolds(e);return}e.length==1&&(i=e[0])}if(i||(i=this.getFoldAt(t.start.row,t.start.column)),i&&i.range.toString()==t.toString()){this.expandFold(i);return}if(f="...",!t.isMultiLine()){if(f=this.getTextRange(t),f.length<4)return;f=f.trim().substring(0,2)+".."}this.addFold(f,t)};this.getCommentFoldRange=function(n,t,r){var u=new f(this,n,t),e=u.getCurrentToken(),o=e&&e.type,h,s,c,l;if(e&&/^comment|string/.test(o)){if(o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start"),h=new RegExp(o),s=new i,r!=1){do e=u.stepBackward();while(e&&h.test(e.type));u.stepForward()}if(s.start.row=u.getCurrentTokenRow(),s.start.column=u.getCurrentTokenColumn()+2,u=new f(this,n,t),r!=-1){c=-1;do if(e=u.stepForward(),c==-1)l=this.getState(u.$row),h.test(l)||(c=u.$row);else if(u.$row>c)break;while(e&&h.test(e.type));e=u.stepBackward()}else e=u.getCurrentToken();return s.end.row=u.getCurrentTokenRow(),s.end.column=u.getCurrentTokenColumn()+e.value.length-2,s}};this.foldAll=function(n,t,i,r){var e,u,f;if(i==undefined&&(i=1e5),e=this.foldWidgets,e)for(t=t||this.getLength(),n=n||0,u=n;u<t;u++)(e[u]==null&&(e[u]=this.getFoldWidget(u)),e[u]=="start")&&(!r||r(u))&&(f=this.getFoldWidgetRange(u),f&&f.isMultiLine()&&f.end.row<=t&&f.start.row>=n&&(u=f.end.row,f.collapseChildren=i,this.addFold("...",f)))};this.foldToLevel=function(n){for(this.foldAll();n-->0;)this.unfold(null,!1)};this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(t){for(var i,u=n.getTokens(t),r=0;r<u.length;r++)if(i=u[r],i.type!="text"||!/^\s+$/.test(i.value))return/comment/.test(i.type)?!0:!1})};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n;n=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)}};this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle);this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}};this.getParentFoldRangeData=function(n,t){var u=this.foldWidgets,i,e,f,r;if(!u||t&&u[n])return{};for(i=n-1;i>=0;){if(f=u[i],f==null&&(f=u[i]=this.getFoldWidget(i)),f=="start"&&(r=this.getFoldWidgetRange(i),e||(e=r),r&&r.end.row>=n))break;i--}return{range:i!==-1&&r,firstRange:e}};this.onFoldWidgetClick=function(n,t){var r,u,i;t=t.domEvent;r={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};u=this.$toggleFoldWidget(n,r);u||(i=t.target||t.srcElement,i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid"))};this.$toggleFoldWidget=function(n,t){var i,u,o,f;if(this.getFoldWidget){var s=this.getFoldWidget(n),h=this.getLine(n),e=s==="end"?-1:1,r=this.getFoldAt(n,e===-1?0:h.length,e);return r?(t.children||t.all?this.removeFold(r):this.expandFold(r),r):(i=this.getFoldWidgetRange(n,!0),i&&!i.isMultiLine()&&(r=this.getFoldAt(i.start.row,i.start.column,1),r&&i.isEqual(r.range)))?(this.removeFold(r),r):(t.siblings?(u=this.getParentFoldRangeData(n),u.range&&(o=u.range.start.row+1,f=u.range.end.row),this.foldAll(o,f,t.all?1e4:0)):t.children?(f=i?i.end.row:this.getLength(),this.foldAll(n+1,f,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}};this.toggleFoldWidget=function(){var n=this.selection.getCursor().row,t,i,r;(n=this.getRowFoldStart(n),t=this.$toggleFoldWidget(n,{}),t)||(i=this.getParentFoldRangeData(n,!0),t=i.range||i.firstRange,t&&(n=t.start.row,r=this.getFoldAt(n,this.getLine(n).length,1),r?this.removeFold(r):this.addFold("...",t)))};this.updateFoldWidgets=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.foldWidgets[t]=null:n.action=="remove"?this.foldWidgets.splice(t,i+1,null):(r=Array(i+1),r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r))};this.tokenizerUpdateFoldWidgets=function(n){var t=n.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=n("../range").Range,r=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator;t.Folding=e});define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t){"use strict";function u(){this.findMatchingBracket=function(n,t){var r,i;return n.column==0?null:(r=t||this.getLine(n.row).charAt(n.column-1),r=="")?null:(i=r.match(/([\(\[\{])|([\)\]\}])/),!i)?null:i[1]?this.$findClosingBracket(i[1],n):this.$findOpeningBracket(i[2],n)};this.getBracketRange=function(n){var o=this.getLine(n.row),e=!0,t,f=o.charAt(n.column-1),r=f&&f.match(/([\(\[\{])|([\)\]\}])/),u;if(r||(f=o.charAt(n.column),n={row:n.row,column:n.column+1},r=f&&f.match(/([\(\[\{])|([\)\]\}])/),e=!1),!r)return null;if(r[1]){if(u=this.$findClosingBracket(r[1],n),!u)return null;t=i.fromPoints(n,u);e||(t.end.column++,t.start.column--);t.cursor=t.end}else{if(u=this.$findOpeningBracket(r[2],n),!u)return null;t=i.fromPoints(u,n);e||(t.start.column++,t.end.column--);t.cursor=t.start}return t};this.getMatchingBracketRanges=function(n){var e=this.getLine(n.row),u=e.charAt(n.column-1),t=u&&u.match(/([\(\[\{])|([\)\]\}])/),f,r,o;return(t||(u=e.charAt(n.column),n={row:n.row,column:n.column+1},t=u&&u.match(/([\(\[\{])|([\)\]\}])/)),!t)?null:(f=new i(n.row,n.column-1,n.row,n.column),r=t[1]?this.$findClosingBracket(t[1],n):this.$findOpeningBracket(t[2],n),!r)?[f]:(o=new i(r.row,r.column,r.row,r.column+1),[f,o])};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"};this.$findOpeningBracket=function(n,t,i){var c=this.$brackets[n],s=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,o,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn()-2,o=u.value;;){while(e>=0){if(h=o.charAt(e),h==c){if(s-=1,s==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(s+=1);e-=1}do u=f.stepBackward();while(u&&!i.test(u.type));if(u==null)break;o=u.value;e=o.length-1}return null}};this.$findClosingBracket=function(n,t,i){var l=this.$brackets[n],o=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,s,c,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn();;){for(s=u.value,c=s.length;e<c;){if(h=s.charAt(e),h==l){if(o-=1,o==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(o+=1);e+=1}do u=f.stepForward();while(u&&!i.test(u.type));if(u==null)break;e=0}return null}}}var r=n("../token_iterator").TokenIterator,i=n("../range").Range;t.BracketMatch=u});define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t){"use strict";var e=n("./lib/oop"),f=n("./lib/lang"),o=n("./bidihandler").BidiHandler,u=n("./config"),s=n("./lib/event_emitter").EventEmitter,h=n("./selection").Selection,c=n("./mode/text").Mode,i=n("./range").Range,l=n("./document").Document,a=n("./background_tokenizer").BackgroundTokenizer,v=n("./search_highlight").SearchHighlight,r=function(n,t){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++r.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);typeof n=="object"&&n.getLine||(n=new l(n));this.setDocument(n);this.selection=new h(this);this.$bidiHandler=new o(this);u.resetOptions(this);this.setMode(t);u._signal("session",this)};r.$uid=0,function(){function o(n){return n<4352?!1:n>=4352&&n<=4447||n>=4515&&n<=4519||n>=4602&&n<=4607||n>=9001&&n<=9002||n>=11904&&n<=11929||n>=11931&&n<=12019||n>=12032&&n<=12245||n>=12272&&n<=12283||n>=12288&&n<=12350||n>=12353&&n<=12438||n>=12441&&n<=12543||n>=12549&&n<=12589||n>=12593&&n<=12686||n>=12688&&n<=12730||n>=12736&&n<=12771||n>=12784&&n<=12830||n>=12832&&n<=12871||n>=12880&&n<=13054||n>=13056&&n<=19903||n>=19968&&n<=42124||n>=42128&&n<=42182||n>=43360&&n<=43388||n>=44032&&n<=55203||n>=55216&&n<=55238||n>=55243&&n<=55291||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65106||n>=65108&&n<=65126||n>=65128&&n<=65131||n>=65281&&n<=65376||n>=65504&&n<=65510}e.implement(this,s);this.setDocument=function(n){this.doc&&this.doc.off("change",this.$onChange);this.doc=n;n.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(n){if(!n){this.$docRowCache=[];this.$screenRowCache=[];return}var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,n)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))};this.$getRowCacheIndex=function(n,t){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=r+u>>1,f=n[i],t>f)r=i+1;else if(t<f)u=i-1;else return i;return r-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(n){var t=n.data;this.$resetRowCache(t.start.row)};this.onChange=function(n){this.$modified=!0;this.$bidiHandler.onChange(n);this.$resetRowCache(n.start.row);var t=this.$updateInternalDataOnChange(n);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(n,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule());this.bgTokenizer&&this.bgTokenizer.$updateOnChange(n);this._signal("change",n)};this.setValue=function(n){this.doc.setValue(n);this.selection.moveTo(0,0);this.$resetRowCache(0);this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(n){return this.bgTokenizer.getState(n)};this.getTokens=function(n){return this.bgTokenizer.getTokens(n)};this.getTokenAt=function(n,t){var u=this.bgTokenizer.getTokens(n),r,f=0,i;if(t==null)i=u.length-1,f=this.getLine(n).length;else for(i=0;i<u.length;i++)if(f+=u[i].value.length,f>=t)break;return(r=u[i],!r)?null:(r.index=i,r.start=f-r.value.length,r)};this.setUndoManager=function(n){if(this.$undoManager=n,this.$informUndoManager&&this.$informUndoManager.cancel(),n){var t=this;n.addSession(this);this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();t.mergeUndoDeltas=!1};this.$informUndoManager=f.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(n){this.setOption("useSoftTabs",n)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(n){this.setOption("tabSize",n)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(n){return this.$useSoftTabs&&n.column%this.$tabSize==0};this.setNavigateWithinSoftTabs=function(n){this.setOption("navigateWithinSoftTabs",n)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(n){this.setOption("overwrite",n)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(n,t){this.$decorations[n]||(this.$decorations[n]="");this.$decorations[n]+=" "+t;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(n,t){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(n){this.$breakpoints=[];for(var t=0;t<n.length;t++)this.$breakpoints[n[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(n,t){t===undefined&&(t="ace_breakpoint");t?this.$breakpoints[n]=t:delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(n){delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.addMarker=function(n,t,i,r){var u=this.$markerId++,f={range:n,type:i||"line",renderer:typeof i=="function"?i:null,clazz:t,inFront:!!r,id:u};return r?(this.$frontMarkers[u]=f,this._signal("changeFrontMarker")):(this.$backMarkers[u]=f,this._signal("changeBackMarker")),u};this.addDynamicMarker=function(n,t){if(n.update){var i=this.$markerId++;return n.id=i,n.inFront=!!t,t?(this.$frontMarkers[i]=n,this._signal("changeFrontMarker")):(this.$backMarkers[i]=n,this._signal("changeBackMarker")),n}};this.removeMarker=function(n){var t=this.$frontMarkers[n]||this.$backMarkers[n],i;t&&(i=t.inFront?this.$frontMarkers:this.$backMarkers,delete i[n],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))};this.getMarkers=function(n){return n?this.$frontMarkers:this.$backMarkers};this.highlight=function(n){if(!this.$searchHighlight){var t=new v(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(n)};this.highlightLines=function(n,t,r,u){typeof t!="number"&&(r=t,t=n);r||(r="ace_step");var f=new i(n,0,t,Infinity);return f.id=this.addMarker(f,r,"fullLine",u),f};this.setAnnotations=function(n){this.$annotations=n;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"};this.getWordRange=function(n,t){var u=this.getLine(n),e=!1,o,r,f;if(t>0&&(e=!!u.charAt(t-1).match(this.tokenRe)),e||(e=!!u.charAt(t).match(this.tokenRe)),o=e?this.tokenRe:/^\s+$/.test(u.slice(t-1,t+1))?/\s/:this.nonTokenRe,r=t,r>0){do r--;while(r>=0&&u.charAt(r).match(o));r++}for(f=t;f<u.length&&u.charAt(f).match(o);)f++;return new i(n,r,n,f)};this.getAWordRange=function(n,t){for(var i=this.getWordRange(n,t),r=this.getLine(i.end.row);r.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i};this.setNewLineMode=function(n){this.doc.setNewLineMode(n)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(n){this.setOption("useWorker",n)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(n){var t=n.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",n)};this.$modes=u.$modes;this.$mode=null;this.$modeId=null;this.setMode=function(n,t){if(n&&typeof n=="object"){if(n.getTokenizer)return this.$onChangeMode(n);var r=n,i=r.path}else i=n||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!r){this.$onChangeMode(this.$modes[i]);t&&t();return}this.$modeId=i;u.loadModule(["mode",i],function(n){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!r?this.$onChangeMode(this.$modes[i]):n&&n.Mode&&(n=new n.Mode(r),r||(this.$modes[i]=n,n.$id=i),this.$onChangeMode(n));t&&t()}.bind(this));this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)};this.$onChangeMode=function(n,t){var r,i,u,f;if(t||(this.$modeId=n.$id),this.$mode!==n){if(r=this.$mode,this.$mode=n,this.$stopWorker(),this.$useWorker&&this.$startWorker(),i=n.getTokenizer(),i.on!==undefined){u=this.onReloadTokenizer.bind(this);i.on("update",u)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new a(i);f=this;this.bgTokenizer.on("update",function(n){f._signal("tokenizerUpdate",n)})}this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=n.tokenRe;this.nonTokenRe=n.nonTokenRe;t||(n.attachToSession&&n.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(n.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:r,mode:n}))}};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(n){u.warn("Could not load worker",n);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(n){this.$scrollTop===n||isNaN(n)||(this.$scrollTop=n,this._signal("changeScrollTop",n))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(n){this.$scrollLeft===n||isNaN(n)||(this.$scrollLeft=n,this._signal("changeScrollLeft",n))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return(this.$computeWidth(),this.lineWidgets)?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>n&&(n=t.screenWidth)}),this.lineWidgetWidth=n};this.$computeWidth=function(n){var t;if(this.$modified||n){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var f=this.doc.getAllLines(),r=this.$rowLengthCache,u=0,e=0,i=this.$foldData[e],o=i?i.start.row:Infinity,s=f.length;for(t=0;t<s;t++){if(t>o){if(t=i.end.row+1,t>=s)break;i=this.$foldData[e++];o=i?i.start.row:Infinity}r[t]==null&&(r[t]=this.$getStringScreenWidth(f[t])[0]);r[t]>u&&(u=r[t])}this.screenWidth=u}};this.getLine=function(n){return this.doc.getLine(n)};this.getLines=function(n,t){return this.doc.getLines(n,t)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(n){return this.doc.getTextRange(n||this.selection.getRange())};this.insert=function(n,t){return this.doc.insert(n,t)};this.remove=function(n){return this.doc.remove(n)};this.removeFullLines=function(n,t){return this.doc.removeFullLines(n,t)};this.undoChanges=function(n,t){var r,i;if(n.length){for(this.$fromUndo=!0,r=n.length-1;r!=-1;r--)i=n[r],i.action=="insert"||i.action=="remove"?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds);!t&&this.$undoSelect&&(n.selectionBefore?this.selection.fromJSON(n.selectionBefore):this.selection.setRange(this.$getUndoSelection(n,!0)));this.$fromUndo=!1}};this.redoChanges=function(n,t){var i,r;if(n.length){for(this.$fromUndo=!0,i=0;i<n.length;i++)r=n[i],(r.action=="insert"||r.action=="remove")&&this.doc.$safeApplyDelta(r);!t&&this.$undoSelect&&(n.selectionAfter?this.selection.fromJSON(n.selectionAfter):this.selection.setRange(this.$getUndoSelection(n,!1)));this.$fromUndo=!1}};this.setUndoSelect=function(n){this.$undoSelect=n};this.$getUndoSelection=function(n,t){function o(n){return t?n.action!=="insert":n.action==="insert"}for(var r,f,u,e=0;e<n.length;e++)if(r=n[e],r.start){if(!f){f=o(r)?i.fromPoints(r.start,r.end):i.fromPoints(r.start,r.start);continue}o(r)?(u=r.start,f.compare(u.row,u.column)==-1&&f.setStart(u),u=r.end,f.compare(u.row,u.column)==1&&f.setEnd(u)):(u=r.start,f.compare(u.row,u.column)==-1&&(f=i.fromPoints(r.start,r.start)))}return f};this.replace=function(n,t){return this.doc.replace(n,t)};this.moveText=function(n,t,r){var c=this.getTextRange(n),s=this.getFoldsInRange(n),u=i.fromPoints(t,t),f,e;if(r||(this.remove(n),f=n.start.row-n.end.row,e=f?-n.end.column:n.start.column-n.end.column,e&&(u.start.row==n.end.row&&u.start.column>n.end.column&&(u.start.column+=e),u.end.row==n.end.row&&u.end.column>n.end.column&&(u.end.column+=e)),f&&u.start.row>=n.end.row&&(u.start.row+=f,u.end.row+=f)),u.end=this.insert(u.start,c),s.length){var o=n.start,h=u.start,f=h.row-o.row,e=h.column-o.column;this.addFolds(s.map(function(n){return n=n.clone(),n.start.row==o.row&&(n.start.column+=e),n.end.row==o.row&&(n.end.column+=e),n.start.row+=f,n.end.row+=f,n}))}return u};this.indentRows=function(n,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=n;r<=t;r++)this.doc.insertInLine({row:r,column:0},i)};this.outdentRows=function(n){for(var f,t,e=n.collapseRows(),r=new i(0,0,0,0),o=this.getTabSize(),u=e.start.row;u<=e.end.row;++u){for(f=this.getLine(u),r.start.row=u,r.end.row=u,t=0;t<o;++t)if(f.charAt(t)!=" ")break;t<o&&f.charAt(t)=="\t"?(r.start.column=t,r.end.column=t+1):(r.start.column=0,r.end.column=t);this.remove(r)}};this.$moveLines=function(n,t,r){var f,u;if(n=this.getRowFoldStart(n),t=this.getRowFoldEnd(t),r<0){if(f=this.getRowFoldStart(n+r),f<0)return 0;u=f-n}else if(r>0){if(f=this.getRowFoldEnd(t+r),f>this.doc.getLength()-1)return 0;u=f-t}else n=this.$clipRowToDocument(n),t=this.$clipRowToDocument(t),u=t-n+1;var o=new i(n,0,t,Number.MAX_VALUE),e=this.getFoldsInRange(o).map(function(n){return n=n.clone(),n.start.row+=u,n.end.row+=u,n}),s=r==0?this.doc.getLines(n,t):this.doc.removeFullLines(n,t);return this.doc.insertFullLines(n+u,s),e.length&&this.addFolds(e),u};this.moveLinesUp=function(n,t){return this.$moveLines(n,t,-1)};this.moveLinesDown=function(n,t){return this.$moveLines(n,t,1)};this.duplicateLines=function(n,t){return this.$moveLines(n,t,0)};this.$clipRowToDocument=function(n){return Math.max(0,Math.min(n,this.doc.getLength()-1))};this.$clipColumnToRow=function(n,t){return t<0?0:Math.min(this.doc.getLine(n).length,t)};this.$clipPositionToDocument=function(n,t){if(t=Math.max(0,t),n<0)n=0,t=0;else{var i=this.doc.getLength();n>=i?(n=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(n).length,t)}return{row:n,column:t}};this.$clipRangeToDocument=function(n){n.start.row<0?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var t=this.doc.getLength()-1;return n.end.row>t?(n.end.row=t,n.end.column=this.doc.getLine(t).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(n,t){(this.$wrapLimitRange.min!==n||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:n,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))};this.adjustWrapLimit=function(n,t){var i=this.$wrapLimitRange,r;return(i.max<0&&(i={min:t,max:t}),r=this.$constrainWrapLimit(n,i.min,i.max),r!=this.$wrapLimit&&r>1)?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(n,t,i){return t&&(n=Math.max(t,n)),i&&(n=Math.min(i,n)),n};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(n){this.setWrapLimitRange(n,n)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(n){var l=this.$useWrapMode,p=n.action,f=n.start,e=n.end,i=f.row,s=e.row,r=s-i,h=null,o,u,c,a,v,y,t;if(this.$updating=!0,r!=0)if(p==="remove"){for(this[l?"$wrapData":"$rowLengthCache"].splice(i,r),o=this.$foldData,h=this.getFoldsInRange(n),this.removeFolds(h),t=this.getFoldLine(e.row),u=0,t&&(t.addRemoveChars(e.row,e.column,f.column-e.column),t.shiftRow(-r),c=this.getFoldLine(i),c&&c!==t&&(c.merge(t),t=c),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=e.row&&t.shiftRow(-r);s=i}else{a=Array(r);a.unshift(i,0);v=l?this.$wrapData:this.$rowLengthCache;v.splice.apply(v,a);var o=this.$foldData,t=this.getFoldLine(i),u=0;for(t&&(y=t.range.compareInside(f.row,f.column),y==0?(t=t.split(f.row,f.column),t&&(t.shiftRow(r),t.addRemoveChars(s,0,e.column-f.column))):y==-1&&(t.addRemoveChars(i,0,e.column-f.column),t.shiftRow(r)),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=i&&t.shiftRow(r)}else r=Math.abs(n.start.column-n.end.column),p==="remove"&&(h=this.getFoldsInRange(n),this.removeFolds(h),r=-r),t=this.getFoldLine(i),t&&t.addRemoveChars(i,f.column,r);return l&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,l?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),h};this.$updateRowLengthCache=function(n,t){this.$rowLengthCache[n]=null;this.$rowLengthCache[t]=null};this.$updateWrapData=function(t,i){var o=this.doc.getAllLines(),s=this.getTabSize(),h=this.$wrapData,c=this.$wrapLimit,u,f,e=t;for(i=Math.min(i,o.length-1);e<=i;)f=this.getFoldLine(e,f),f?(u=[],f.walk(function(t,i,f,e){var s,h;if(t!=null)for(s=this.$getDisplayTokens(t,u.length),s[0]=n,h=1;h<s.length;h++)s[h]=r;else s=this.$getDisplayTokens(o[i].substring(e,f),u.length);u=u.concat(s)}.bind(this),f.end.row,o[f.end.row].length+1),h[f.start.row]=this.$computeWrapSplits(u,c,s),e=f.end.row+1):(u=this.$getDisplayTokens(o[e]),h[e]=this.$computeWrapSplits(u,c,s),e++)};var h=1,l=2,n=3,r=4,y=9,t=10,p=11,w=12;this.$computeWrapSplits=function(i,u,f){function nt(){var n=0,r,u;if(d===0)return n;if(v)for(r=0;r<i.length;r++)if(u=i[r],u==t)n+=1;else if(u==p)n+=f;else if(u==w)continue;else break;return k&&v!==!1&&(n+=f),Math.min(n,d)}function c(n){for(var r,u=n-o,t=o;t<n;t++)r=i[t],(r===12||r===2)&&(u-=1);a.length||(s=nt(),a.indent=s);b+=u;a.push(b);o=n}var s,e,h;if(i.length==0)return[];var a=[],g=i.length,o=0,b=0,k=this.$wrapAsCode,v=this.$indentedSoftWrap,d=u<=Math.max(2*f,8)||v===!1?0:Math.floor(u/2);for(s=0;g-o>u-s;){if(e=o+u-s,i[e-1]>=t&&i[e]>=t){c(e);continue}if(i[e]==n||i[e]==r){for(e;e!=o-1;e--)if(i[e]==n)break;if(e>o){c(e);continue}for(e=o+u,e;e<i.length;e++)if(i[e]!=r)break;if(e==i.length)break;c(e);continue}for(h=Math.max(e-(u-(u>>2)),o-1);e>h&&i[e]<n;)e--;if(k){while(e>h&&i[e]<n)e--;while(e>h&&i[e]==y)e--}else while(e>h&&i[e]<t)e--;if(e>h){c(++e);continue}e=o+u;i[e]==l&&e--;c(e-s)}return a};this.$getDisplayTokens=function(n,i){var u=[],s,f,r,e;for(i=i||0,f=0;f<n.length;f++)if(r=n.charCodeAt(f),r==9)for(s=this.getScreenTabSize(u.length+i),u.push(p),e=1;e<s;e++)u.push(w);else r==32?u.push(t):r>39&&r<48||r>57&&r<64?u.push(y):r>=4352&&o(r)?u.push(h,l):u.push(h);return u};this.$getStringScreenWidth=function(n,t,i){if(t==0)return[0,0];t==null&&(t=Infinity);i=i||0;for(var u,r=0;r<n.length;r++)if(u=n.charCodeAt(r),i+=u==9?this.getScreenTabSize(i):u>=4352&&o(u)?2:1,i>t)break;return[i,r]};this.lineWidgets=null;this.getRowLength=function(n){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0),this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+t:t};this.getRowLineCount=function(n){return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1:1};this.getRowWrapIndent=function(n){if(this.$useWrapMode){var i=this.screenToDocumentPosition(n,Number.MAX_VALUE),t=this.$wrapData[i.row];return t.length&&t[0]<i.column?t.indent:0}return 0};this.getScreenLastRowColumn=function(n){var t=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)};this.getDocumentLastRowColumn=function(n,t){var i=this.documentToScreenRow(n,t);return this.getScreenLastRowColumn(i)};this.getDocumentLastRowColumnPosition=function(n,t){var i=this.documentToScreenRow(n,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)};this.getRowSplitData=function(n){return this.$useWrapMode?this.$wrapData[n]:undefined};this.getScreenTabSize=function(n){return this.$tabSize-(n%this.$tabSize|0)};this.screenToDocumentRow=function(n,t){return this.screenToDocumentPosition(n,t).row};this.screenToDocumentColumn=function(n,t){return this.screenToDocumentPosition(n,t).column};this.screenToDocumentPosition=function(n,t,i){var b,w,s,f;if(n<0)return{row:0,column:0};var h,r=0,e=0,v,o=0,c=0,l=this.$screenRowCache,y=this.$getRowCacheIndex(l,n),p=l.length;if(p&&y>=0)var o=l[y],r=this.$docRowCache[y],b=n>l[p-1];else b=!p;for(var a=this.getLength()-1,u=this.getNextFoldLine(r),k=u?u.start.row:Infinity;o<=n;){if(c=this.getRowLength(r),o+c>n||r>=a)break;else o+=c,r++,r>k&&(r=u.end.row+1,u=this.getNextFoldLine(r,u),k=u?u.start.row:Infinity);b&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(u&&u.start.row<=r)h=this.getFoldDisplayLine(u),r=u.start.row;else{if(o+c<=n||r>a)return{row:a,column:this.getLine(a).length};h=this.getLine(r);u=null}return(w=0,s=Math.floor(n-o),this.$useWrapMode&&(f=this.$wrapData[r],f&&(v=f[s],s>0&&f.length&&(w=f.indent,e=f[s-1]||f[f.length-1],h=h.substring(e)))),i!==undefined&&this.$bidiHandler.isBidiRow(o+s,r,s)&&(t=this.$bidiHandler.offsetToCol(i)),e+=this.$getStringScreenWidth(h,t-w)[1],this.$useWrapMode&&e>=v&&(e=v-1),u)?u.idxToPosition(e):{row:r,column:e}};this.documentToScreenPosition=function(n,t){var a,b,r,l,u,w,o,s;a=typeof t=="undefined"?this.$clipPositionToDocument(n.row,n.column):this.$clipPositionToDocument(n,t);n=a.row;t=a.column;var f=0,v=null,h=null;h=this.getFoldAt(n,t,1);h&&(n=h.start.row,t=h.start.column);var e,i=0,c=this.$docRowCache,y=this.$getRowCacheIndex(c,n),p=c.length;if(p&&y>=0)var i=c[y],f=this.$screenRowCache[y],b=n>c[p-1];else b=!p;for(r=this.getNextFoldLine(i),l=r?r.start.row:Infinity;i<n;){if(i>=l){if(e=r.end.row+1,e>n)break;r=this.getNextFoldLine(e,r);l=r?r.start.row:Infinity}else e=i+1;f+=this.getRowLength(i);i=e;b&&(this.$docRowCache.push(i),this.$screenRowCache.push(f))}if(u="",r&&i>=l?(u=this.getFoldDisplayLine(r,n,t),v=r.start.row):(u=this.getLine(n).substring(0,t),v=n),w=0,this.$useWrapMode&&(o=this.$wrapData[v],o)){for(s=0;u.length>=o[s];)f++,s++;u=u.substring(o[s-1]||0,u.length);w=s>0?o.indent:0}return this.lineWidgets&&this.lineWidgets[i]&&this.lineWidgets[i].rowsAbove&&(f+=this.lineWidgets[i].rowsAbove),{row:f,column:w+this.$getStringScreenWidth(u)[0]}};this.documentToScreenColumn=function(n,t){return this.documentToScreenPosition(n,t).column};this.documentToScreenRow=function(n,t){return this.documentToScreenPosition(n,t).row};this.getScreenLength=function(){var i=0,n=null,u,t,f;if(this.$useWrapMode)for(var o=this.$wrapData.length,r=0,t=0,n=this.$foldData[t++],e=n?n.start.row:Infinity;r<o;)f=this.$wrapData[r],i+=f?f.length+1:1,r++,r>e&&(r=n.end.row+1,n=this.$foldData[t++],e=n?n.start.row:Infinity);else for(i=this.getLength(),u=this.$foldData,t=0;t<u.length;t++)n=u[t],i-=n.end.row-n.start.row;return this.lineWidgets&&(i+=this.$getWidgetScreenLength()),i};this.$setFontMetrics=function(n){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(i===0)return[0,0];i||(i=Infinity);r=r||0;for(var f,u=0;u<t.length;u++)if(f=t.charAt(u),r+=f==="\t"?this.getScreenTabSize(r):n.getCharacterWidth(f),r>i)break;return[r,u]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker();this.removeAllListeners();this.doc&&this.doc.off("change",this.$onChange);this.selection.detach()};this.isFullWidth=o}.call(r.prototype);n("./edit_session/folding").Folding.call(r.prototype);n("./edit_session/bracket_match").BracketMatch.call(r.prototype);u.defineOptions(r.prototype,"session",{wrap:{set:function(n){if(n&&n!="off"?n=="free"?n=!0:n=="printMargin"?n=-1:typeof n=="string"&&(n=parseInt(n,10)||!1):n=!1,this.$wrap!=n)if(this.$wrap=n,n){var t=typeof n=="number"?n:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(n){n=n=="auto"?this.$mode.type!="text":n!="text";n!=this.$wrapAsCode&&(this.$wrapAsCode=n,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(n){this.$useWorker=n;this.$stopWorker();n&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(n){n=parseInt(n);n>0&&this.$tabSize!==n&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=n,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(n){this.setFoldStyle(n)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(n){this.doc.setNewLineMode(n)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(n){this.setMode(n)},get:function(){return this.$modeId},handlesSet:!0}});t.EditSession=r});define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";function e(n,t){function i(n){return/\w/.test(n)||t.regExp?"\\b":""}return i(n[0])+n+i(n[n.length-1])}var i=n("./lib/lang"),f=n("./lib/oop"),r=n("./range").Range,u=function(){this.$options={}};(function(){this.set=function(n){return f.mixin(this.$options,n),this};this.getOptions=function(){return i.copyObject(this.$options)};this.setOptions=function(n){this.$options=n};this.find=function(n){var t=this.$options,u=this.$matchIterator(n,t),i;return u?(i=null,u.forEach(function(n,u,f,e){return(i=new r(n,u,f,e),u==e&&t.start&&t.start.start&&t.skipCurrent!=!1&&i.isEqual(t.start))?(i=null,!1):!0}),i):!1};this.findAll=function(n){var l=this.$options,s,p,a,e,u,y,t,v;if(!l.needle)return[];this.$assembleRegExp(l);var o=l.range,h=o?n.getLines(o.start.row,o.end.row):n.doc.getAllLines(),f=[],c=l.re;if(l.$isMultiLine){s=c.length;p=h.length-s;n:for(e=c.offset||0;e<=p;e++){for(t=0;t<s;t++)if(h[e+t].search(c[t])==-1)continue n;var w=h[e],k=h[e+s-1],b=w.length-w.match(c[0])[0].length,d=k.match(c[s-1])[0].length;a&&a.end.row===e&&a.end.column>b||(f.push(a=new r(e,b,e+s-1,d)),s>2&&(e=e+s-2))}}else for(u=0;u<h.length;u++)for(y=i.getMatchOffsets(h[u],c),t=0;t<y.length;t++)v=y[t],f.push(new r(u,v.offset,u,v.offset+v.length));if(o){for(var g=o.start.column,nt=o.start.column,u=0,t=f.length-1;u<t&&f[u].start.column<g&&f[u].start.row==o.start.row;)u++;while(u<t&&f[t].end.column>nt&&f[t].end.row==o.end.row)t--;for(f=f.slice(u,t+1),u=0,t=f.length;u<t;u++)f[u].start.row+=o.start.row,f[u].end.row+=o.start.row}return f};this.replace=function(n,t){var u=this.$options,f=this.$assembleRegExp(u),e,i,r;if(u.$isMultiLine)return t;if(f){if(e=f.exec(n),!e||e[0].length!=n.length)return null;if(t=n.replace(f,t),u.preserveCase){for(t=t.split(""),i=Math.min(n.length,n.length);i--;)r=n[i],t[i]=r&&r.toLowerCase()!=r?t[i].toUpperCase():t[i].toLowerCase();t=t.join("")}return t}};this.$assembleRegExp=function(n,t){var r,u,f;if(n.needle instanceof RegExp)return n.re=n.needle;if(r=n.needle,!n.needle)return n.re=!1;if(n.regExp||(r=i.escapeRegExp(r)),n.wholeWord&&(r=e(r,n)),u=n.caseSensitive?"gm":"gmi",n.$isMultiLine=!t&&/[\n\r]/.test(r),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(r,u);try{f=new RegExp(r,u)}catch(o){f=!1}return n.re=f};this.$assembleMultilineRegExp=function(n,t){for(var r=n.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),u=[],i=0;i<r.length;i++)try{u.push(new RegExp(r[i],t))}catch(f){return!1}return u};this.$matchIterator=function(n,t){var i=this.$assembleRegExp(t),s,h,c,o,u;if(!i)return!1;var f=t.backwards==!0,l=t.skipCurrent!=!1,e=t.range,r=t.start;return r||(r=e?e[f?"end":"start"]:n.selection.getRange()),r.start&&(r=r[l!=f?"end":"start"]),s=e?e.start.row:0,h=e?e.end.row:n.getLength()-1,c=f?function(n){var i=r.row;if(!u(i,r.column,n)){for(i--;i>=s;i--)if(u(i,Number.MAX_VALUE,n))return;if(t.wrap!=!1)for(i=h,s=r.row;i>=s;i--)if(u(i,Number.MAX_VALUE,n))return}}:function(n){var i=r.row;if(!u(i,r.column,n)){for(i=i+1;i<=h;i++)if(u(i,0,n))return;if(t.wrap!=!1)for(i=s,h=r.row;i<=h;i++)if(u(i,0,n))return}},t.$isMultiLine?(o=i.length,u=function(t,r,u){var e=f?t-o+1:t,s,c,h,l;if(!(e<0)&&!(e+o>n.getLength())&&(s=n.getLine(e),c=s.search(i[0]),(f||!(c<r))&&c!==-1)){for(h=1;h<o;h++)if(s=n.getLine(e+h),s.search(i[h])==-1)return;if(l=s.match(i[o-1])[0].length,!f||!(l>r))return u(e,c,e+o-1,l)?!0:void 0}}):u=f?function(t,r,u){var l=n.getLine(t),s=[],e,h=0,o,c,f;for(i.lastIndex=0;e=i.exec(l);){if(f=e[0].length,h=e.index,!f){if(h>=l.length)break;i.lastIndex=h+=1}if(e.index+f>r)break;s.push(e.index,f)}for(o=s.length-1;o>=0;o-=2)if(c=s[o-1],f=s[o],u(t,c,t,c+f))return!0}:function(t,r,u){var s=n.getLine(t),f,e,o;for(i.lastIndex=r;e=i.exec(s);){if(o=e[0].length,f=e.index,u(t,f,t,f+o))return!0;if(!o&&(i.lastIndex=f+=1,f>=s.length))return!1}},{forEach:c}}}).call(u.prototype);t.Search=u});define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function u(n,t){this.platform=t||(e.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(n);this.$singleCommand=!0}function f(n,t){u.call(this,n,t);this.$singleCommand=!1}var i=n("../lib/keys"),e=n("../lib/useragent"),r=i.KEY_MODS;f.prototype=u.prototype,function(){function n(n){return typeof n=="object"&&n.bindKey&&n.bindKey.position||(n.isDefault?-100:0)}this.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n);this.commands[n.name]=n;n.bindKey&&this._buildKeyHash(n)};this.removeCommand=function(n,t){var e=n&&(typeof n=="string"?n:n.name),r,u,i,f;n=this.commands[e];t||delete this.commands[e];r=this.commandKeyBinding;for(u in r)i=r[u],i==n?delete r[u]:Array.isArray(i)&&(f=i.indexOf(n),f!=-1&&(i.splice(f,1),i.length==1&&(r[u]=i[0])))};this.bindKey=function(n,t,i){if(typeof n=="object"&&n&&(i==undefined&&(i=n.position),n=n[this.platform]),n){if(typeof t=="function")return this.addCommand({exec:t,bindKey:n,name:t.name||n});n.split("|").forEach(function(n){var u="",f,e,o;n.indexOf(" ")!=-1&&(f=n.split(/\s+/),n=f.pop(),f.forEach(function(n){var t=this.parseKeys(n),i=r[t.hashId]+t.key;u+=(u?" ":"")+i;this._addCommandToBinding(u,"chainKeys")},this),u+=" ");e=this.parseKeys(n);o=r[e.hashId]+e.key;this._addCommandToBinding(u+o,t,i)},this)}};this._addCommandToBinding=function(t,i,r){var u=this.commandKeyBinding,f,e,o,s;if(i)if(!u[t]||this.$singleCommand)u[t]=i;else{for(Array.isArray(u[t])?(f=u[t].indexOf(i))!=-1&&u[t].splice(f,1):u[t]=[u[t]],typeof r!="number"&&(r=n(i)),e=u[t],f=0;f<e.length;f++)if(o=e[f],s=n(o),s>r)break;e.splice(f,0,i)}else delete u[t]};this.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var i=n[t];if(i){if(typeof i=="string")return this.bindKey(i,t);(typeof i=="function"&&(i={exec:i}),typeof i=="object")&&(i.name||(i.name=t),this.addCommand(i))}},this)};this.removeCommands=function(n){Object.keys(n).forEach(function(t){this.removeCommand(n[t])},this)};this.bindKeys=function(n){Object.keys(n).forEach(function(t){this.bindKey(t,n[t])},this)};this._buildKeyHash=function(n){this.bindKey(n.bindKey,n)};this.parseKeys=function(n){var t=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(n){return n}),r=t.pop(),o=i[r],f,u,e;if(i.FUNCTION_KEYS[o])r=i.FUNCTION_KEYS[o].toLowerCase();else if(t.length){if(t.length==1&&t[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(f=0,u=t.length;u--;){if(e=i.KEY_MODS[t[u]],e==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[u]+" in "+n),!1;f|=e}return{key:r,hashId:f}};this.findKeyCommand=function(n,t){var i=r[n]+t;return this.commandKeyBinding[i]};this.handleKeyboard=function(n,t,i,u){if(!(u<0)){var e=r[t]+i,f=this.commandKeyBinding[e];return(n.$keyChain&&(n.$keyChain+=" "+e,f=this.commandKeyBinding[n.$keyChain]||f),f&&(f=="chainKeys"||f[f.length-1]=="chainKeys"))?(n.$keyChain=n.$keyChain||e,{command:"null"}):(n.$keyChain&&(t&&t!=4||i.length!=1?(t==-1||u>0)&&(n.$keyChain=""):n.$keyChain=n.$keyChain.slice(0,-e.length-1)),{command:f})}};this.getStatusText=function(n,t){return t.$keyChain||""}}.call(u.prototype);t.HashHandler=u;t.MultiHashHandler=f});define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("../lib/oop"),u=n("../keyboard/hash_handler").MultiHashHandler,f=n("../lib/event_emitter").EventEmitter,i=function(n,t){u.call(this,t,n);this.byName=this.commands;this.setDefaultHandler("exec",function(n){return n.command.exec(n.editor,n.args||{})})};r.inherits(i,u),function(){r.implement(this,f);this.exec=function(n,t,i){var u,r;if(Array.isArray(n)){for(u=n.length;u--;)if(this.exec(n[u],t,i))return!0;return!1}return(typeof n=="string"&&(n=this.commands[n]),!n)?!1:t&&t.$readOnly&&!n.readOnly?!1:this.$checkCommandState!=!1&&n.isAvailable&&!n.isAvailable(t)?!1:(r={editor:t,command:n,args:i},r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0)};this.toggleRecording=function(n){if(!this.$inReplay){if(n&&n._emit("changeStatus"),this.recording)return this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1;this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this));this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=!0}};this.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0;this.macro.forEach(function(t){typeof t=="string"?this.exec(t,n):this.exec(t[0],n,t[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=function(n){return n.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})}}.call(i.prototype);t.CommandManager=i});define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t){"use strict";function i(n,t){return{win:n,mac:t}}var e=n("../lib/lang"),u=n("../config"),f=n("../range").Range,r;for(t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(n){u.loadModule("ace/ext/settings_menu",function(t){t.init(n);n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(n){u.loadModule("./ext/error_marker",function(t){t.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(n){u.loadModule("./ext/error_marker",function(t){t.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(n,t){typeof t!="number"||isNaN(t)||n.gotoLine(t);n.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll();n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(n,t){n.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(n,t){n.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(n,t){n.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(n,t){n.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(n){var i=n.$copyWithEmptySelection&&n.selection.isEmpty(),t=i?n.selection.getLineRange():n.selection.getRange();n._emit("cut",t);t.isEmpty()||n.session.remove(t);n.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(n,t){n.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n,!0)})}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(n){if(n.selection.isEmpty())n.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(n){var t=n.selection.getRange();t.start.column=0;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(n){var t=n.selection.getRange();t.end.column=Number.MAX_VALUE;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(n,t){n.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(n,t){n.insert(e.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(n){n.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var t=n.selection.getRange();t.start.column=t.end.column=0;t.end.row++;n.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(n){for(var r,h=n.selection.isBackwards(),t=h?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),u=h?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),i=n.session.doc.getLine(t.row).length,l=n.session.doc.getTextRange(n.selection.getRange()),c=l.replace(/\n\s*/," ").length,o=n.session.doc.getLine(t.row),s=t.row+1;s<=u.row+1;s++)r=e.stringTrimLeft(e.stringTrimRight(n.session.doc.getLine(s))),r.length!==0&&(r=" "+r),o+=r;u.row+1<n.session.doc.getLength()-1&&(o+=n.session.doc.getNewLineCharacter());n.clearSelection();n.session.doc.replace(new f(t.row,0,u.row+2,0),o);c>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+c)):(i=n.session.doc.getLine(t.row).length>i?i+1:i,n.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(n){var u=n.session.doc.getLength()-1,e=n.session.doc.getLine(u).length,i=n.selection.rangeList.ranges,r=[],t;for(i.length<1&&(i=[n.selection.getRange()]),t=0;t<i.length;t++)t==i.length-1&&(i[t].end.row===u&&i[t].end.column===e||r.push(new f(i[t].end.row,i[t].end.column,u,e))),t===0?i[t].start.row===0&&i[t].start.column===0||r.push(new f(0,0,i[t].start.row,i[t].start.column)):r.push(new f(i[t-1].end.row,i[t-1].end.column,i[t].start.row,i[t].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),t=0;t<r.length;t++)n.selection.addRange(r[t],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(n){n.selection.clearSelection();n.navigateLineEnd();n.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(n){n.selection.clearSelection();var t=n.getCursorPosition();n.selection.moveTo(t.row-1,Number.MAX_VALUE);n.insert("\n");t.row===0&&n.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:i("F1","F1"),exec:function(n){n.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(n){n.prompt({$type:"modes"})},readOnly:!0}],r=1;r<9;r++)t.commands.push({name:"foldToLevel"+r,description:"Fold To Level "+r,level:r,exec:function(n){n.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(n,t){"use strict";var o;n("./lib/fixoldbrowsers");var s=n("./lib/oop"),u=n("./lib/dom"),r=n("./lib/lang"),l=n("./lib/useragent"),a=n("./keyboard/textinput").TextInput,v=n("./mouse/mouse_handler").MouseHandler,y=n("./mouse/fold_handler").FoldHandler,p=n("./keyboard/keybinding").KeyBinding,w=n("./edit_session").EditSession,b=n("./search").Search,i=n("./range").Range,k=n("./lib/event_emitter").EventEmitter,d=n("./commands/command_manager").CommandManager,g=n("./commands/default_commands").commands,f=n("./config"),h=n("./token_iterator").TokenIterator,c=n("./clipboard"),e=function(n,t,i){this.$toDestroy=[];var u=n.getContainerElement();this.container=u;this.renderer=n;this.id="editor"+ ++e.$uid;this.commands=new d(l.isMac?"mac":"win",g);typeof document=="object"&&(this.textInput=new a(n.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new v(this),new y(this));this.keyBinding=new p(this);this.$search=(new b).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(n,t){t._$emitInputEvent.schedule(31)});this.setSession(t||i&&i.session||new w(""));f.resetOptions(this);i&&this.setOptions(i);f._signal("editor",this)};e.$uid=0,function(){s.implement(this,k);this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0));this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(n){if(this.curOp){if(!n||this.curOp.command)return;this.prevOp=this.curOp}n||(this.previousCommand=null,n={});this.$opResetTimer.schedule();this.curOp=this.session.curOp={command:n.command||{},args:n.args,scrollTop:this.renderer.scrollTop};this.curOp.selectionBefore=this.selection.toJSON()};this.endOperation=function(n){var i,t,r,u,f;if(this.curOp&&this.session){if(n&&n.returnValue===!1||!this.session)return this.curOp=null;if(n==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;if(this._signal("beforeEndOperation"),!this.curOp)return;if(i=this.curOp.command,t=i&&i.scrollIntoView,t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":r=this.selection.getRange();u=this.renderer.layerConfig;(r.start.row>=u.lastRow||r.end.row<=u.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}t=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}f=this.selection.toJSON();this.curOp.selectionAfter=f;this.$lastSel=this.selection.toJSON();this.session.getUndoManager().addSelection(f);this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(n){var u;if(this.$mergeUndoDeltas){var i=this.prevOp,r=this.$mergeableCommands,t=i.command&&n.command.name==i.command.name;n.command.name=="insertstring"?(u=n.args,this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),t=t&&this.mergeNextCommand&&(!/\s/.test(u)||/\s/.test(i.args)),this.mergeNextCommand=!0):t=t&&r.indexOf(n.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(t=!1);t?this.session.mergeUndoDeltas=!0:r.indexOf(n.command.name)!==-1&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(n,t){if(n&&typeof n=="string"&&n!="ace"){this.$keybindingId=n;var i=this;f.loadModule(["keybinding",n],function(r){i.$keybindingId==n&&i.keyBinding.setKeyboardHandler(r&&r.handler);t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(n),t&&t()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(n){var t,i;if(this.session!=n){if(this.curOp&&this.endOperation(),this.curOp={},t=this.session,t&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),i=this.session.getSelection(),i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),this.session=n,n){this.$onDocumentChange=this.onDocumentChange.bind(this);n.on("change",this.$onDocumentChange);this.renderer.setSession(n);this.$onChangeMode=this.onChangeMode.bind(this);n.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);n.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);n.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);n.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);n.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);n.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=n.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.onCursorChange();this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else this.selection=null,this.renderer.setSession(n);this._signal("changeSession",{session:n,oldSession:t});this.curOp=null;t&&t._signal("changeEditor",{oldEditor:this});n&&n._signal("changeEditor",{editor:this});n&&n.bgTokenizer&&n.bgTokenizer.scheduleStart()}};this.getSession=function(){return this.session};this.setValue=function(n,t){return this.session.doc.setValue(n),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),n};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(n){this.renderer.onResize(n)};this.setTheme=function(n,t){this.renderer.setTheme(n,t)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(n){this.renderer.setStyle(n)};this.unsetStyle=function(n){this.renderer.unsetStyle(n)};this.getFontSize=function(){return this.getOption("fontSize")||u.computedStyle(this.container).fontSize};this.setFontSize=function(n){this.setOption("fontSize",n)};this.$highlightBrackets=function(){if(!this.$highlightPending){var n=this;this.$highlightPending=!0;setTimeout(function(){var r,t,u;(n.$highlightPending=!1,r=n.session,r&&r.bgTokenizer)&&(r.$bracketHighlight&&(r.$bracketHighlight.markerIds.forEach(function(n){r.removeMarker(n)}),r.$bracketHighlight=null),t=r.getMatchingBracketRanges(n.getCursorPosition()),!t&&r.$mode.getMatching&&(t=r.$mode.getMatching(n.session)),t)&&(u="ace_bracket",Array.isArray(t)?t.length==1&&(u="ace_error_bracket"):t=[t],t.length==2&&(i.comparePoints(t[0].end,t[1].start)==0?t=[i.fromPoints(t[0].start,t[1].end)]:i.comparePoints(t[0].start,t[1].end)==0&&(t=[i.fromPoints(t[1].start,t[0].end)])),r.$bracketHighlight={ranges:t,markerIds:t.map(function(n){return r.addMarker(n,u,"text")})})},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var n=this;this.$highlightTagPending=!0;setTimeout(function(){var r,l,o,a;if(n.$highlightTagPending=!1,r=n.session,r&&r.bgTokenizer){var v=n.getCursorPosition(),u=new h(n.session,v.row,v.column),t=u.getCurrentToken();if(!t||!/\b(?:tag-open|tag-name)/.test(t.type)){r.removeMarker(r.$tagHighlight);r.$tagHighlight=null;return}if(t.type.indexOf("tag-open")===-1||(t=u.stepForward(),t)){var s=t.value,c=t.value,e=0,f=u.stepBackward();if(f.value==="<"){do f=t,t=u.stepForward(),t&&(t.type.indexOf("tag-name")!==-1?(c=t.value,s===c&&(f.value==="<"?e++:f.value==="<\/"&&e--)):s===c&&t.value==="/>"&&e--);while(t&&e>=0)}else{do if(t=f,f=u.stepBackward(),t)if(t.type.indexOf("tag-name")!==-1)s===t.value&&(f.value==="<"?e++:f.value==="<\/"&&e--);else if(t.value==="/>"){for(l=0,o=f;o;){if(o.type.indexOf("tag-name")!==-1&&o.value===s){e--;break}else if(o.value==="<")break;o=u.stepBackward();l++}for(a=0;a<l;a++)u.stepForward()}while(f&&e<=0);u.stepForward()}if(!t){r.removeMarker(r.$tagHighlight);r.$tagHighlight=null;return}var y=u.getCurrentTokenRow(),p=u.getCurrentTokenColumn(),w=new i(y,p,y,p+t.value.length),b=r.$backMarkers[r.$tagHighlight];r.$tagHighlight&&b!=undefined&&w.compareRange(b.range)!==0&&(r.removeMarker(r.$tagHighlight),r.$tagHighlight=null);r.$tagHighlight||(r.$tagHighlight=r.addMarker(w,"ace_bracket","text"))}}},50)}};this.focus=function(){var n=this;setTimeout(function(){n.isFocused()||n.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(n){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",n))};this.onBlur=function(n){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",n))};this.$cursorChange=function(){this.renderer.updateCursor();this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine()};this.onDocumentChange=function(n){var t=this.session.$useWrapMode,i=n.start.row==n.end.row?n.end.row:Infinity;this.renderer.updateLines(n.start.row,i,t);this._signal("change",n);this.$cursorChange()};this.onTokenizerUpdate=function(n){var t=n.data;this.renderer.updateLines(t.first,t.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var t=this.getSession(),n,r;this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(n=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(n=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(n=!1));t.$highlightLineMarker&&!n?(t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null):!t.$highlightLineMarker&&n?(r=new i(n.row,n.column,n.row,Infinity),r.id=t.addMarker(r,"ace_active-line","screenLine"),t.$highlightLineMarker=r):n&&(t.$highlightLineMarker.start.row=n.row,t.$highlightLineMarker.end.row=n.row,t.$highlightLineMarker.start.column=n.column,t._signal("changeBackMarker"))};this.onSelectionChange=function(){var n=this.session,t,i,r;n.$selectionMarker&&n.removeMarker(n.$selectionMarker);n.$selectionMarker=null;this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var o=this.session,n=this.getSelectionRange(),i,e;if(!n.isEmpty()&&!n.isMultiLine()){var r=n.start.column,u=n.end.column,f=o.getLine(n.start.row),t=f.substring(r,u);if(!(t.length>5e3)&&/[\w\d]/.test(t))return(i=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t}),e=f.substring(r-1,u+1),!i.test(e))?void 0:i}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(n){this.renderer.updateText();this._emit("changeMode",n)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var r=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),f=!1,t,n,u,i;if(!r&&this.$copyWithEmptySelection)for(f=!0,t=this.selection.getAllRanges(),n=0;n<t.length;n++)(u=t[n],n&&t[n-1].start.row==u.start.row)||(r+=this.session.getLine(u.start.row)+e);return i={text:r},this._signal("copy",i),c.lineMode=f?i.text:!1,i.text};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(n,t){var i={text:n,event:t};this.commands.exec("paste",this,i)};this.$handlePaste=function(n){var u,f;typeof n=="string"&&(n={text:n});this._signal("paste",n);var t=n.text,o=t===c.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)o?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(o)this.selection.rangeList.ranges.forEach(function(n){r.insert({row:n.start.row,column:0},t)});else{var i=t.split(/\r\n|\r|\n/),e=this.selection.rangeList.ranges,s=i.length==2&&(!i[0]||!i[1]);if(i.length!=e.length||s)return this.commands.exec("insertstring",this,t);for(u=e.length;u--;)f=e[u],f.isEmpty()||r.remove(f),r.insert(f.start,i[u])}};this.execCommand=function(n,t){return this.commands.exec(n,this,t)};this.insert=function(n,t){var f=this.session,s=f.getMode(),r=this.getCursorPosition(),u,e,o,c,a;this.getBehavioursEnabled()&&!t&&(u=s.transformAction(f.getState(r.row),"insertion",this,f,n),u&&(n!==u.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),n=u.text));n=="\t"&&(n=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&n.indexOf("\n")==-1&&(e=new i.fromPoints(r,r),e.end.column+=n.length,this.session.remove(e)):(e=this.getSelectionRange(),r=this.session.remove(e),this.clearSelection());(n=="\n"||n=="\r\n")&&(o=f.getLine(r.row),r.column>o.search(/\S|$/)&&(c=o.substr(r.column).search(/\S|$/),f.doc.removeInLine(r.row,r.column,r.column+c)));this.clearSelection();var l=r.column,h=f.getState(r.row),o=f.getLine(r.row),v=s.checkOutdent(h,o,n);f.insert(r,n);u&&u.selection&&(u.selection.length==2?this.selection.setSelectionRange(new i(r.row,l+u.selection[0],r.row,l+u.selection[1])):this.selection.setSelectionRange(new i(r.row+u.selection[0],u.selection[1],r.row+u.selection[2],u.selection[3])));this.$enableAutoIndent&&(f.getDocument().isNewLine(n)&&(a=s.getNextLineIndent(h,o.slice(0,r.column),f.getTabString()),f.insert({row:r.row+1,column:0},a)),v&&s.autoOutdent(h,f,r.row))};this.autoIndent=function(){var t=this.session,f=t.getMode(),e,o,s,n;this.selection.isEmpty()?(e=0,o=t.doc.getLength()-1):(s=this.getSelectionRange(),e=s.start.row,o=s.end.row);var h="",c="",r="",l,u,a,v=t.getTabString();for(n=e;n<=o;n++)n>0&&(h=t.getState(n-1),c=t.getLine(n-1),r=f.getNextLineIndent(h,c,v)),l=t.getLine(n),u=f.$getIndent(l),r!==u&&(u.length>0&&(a=new i(n,0,n,u.length),t.remove(a)),r.length>0&&t.insert({row:n,column:0},r)),f.autoOutdent(h,t,n)};this.onTextInput=function(n,t){if(!t)return this.keyBinding.onTextInput(n);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,n,t);this.selection.rangeCount?this.forEachSelection(i):i();this.endOperation()};this.applyComposition=function(n,t){var i;(t.extendLeft||t.extendRight)&&(i=this.selection.getRange(),i.start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),n||i.isEmpty()||this.remove());(n||!this.selection.isEmpty())&&this.insert(n,!0);(t.restoreStart||t.restoreEnd)&&(i=this.selection.getRange(),i.start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))};this.onCommandKey=function(n,t,i){return this.keyBinding.onCommandKey(n,t,i)};this.setOverwrite=function(n){this.session.setOverwrite(n)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(n){this.setOption("scrollSpeed",n)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(n){this.setOption("dragDelay",n)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(n){this.setOption("selectionStyle",n)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(n){this.setOption("highlightActiveLine",n)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(n){this.setOption("highlightSelectedWord",n)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(n){this.renderer.setAnimatedScroll(n)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(n){this.renderer.setShowInvisibles(n)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(n){this.renderer.setDisplayIndentGuides(n)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(n){this.renderer.setShowPrintMargin(n)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(n){this.renderer.setPrintMarginColumn(n)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(n){this.setOption("readOnly",n)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(n){this.setOption("behavioursEnabled",n)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(n){this.setOption("wrapBehavioursEnabled",n)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(n){this.setOption("showFoldWidgets",n)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(n){var t,r,u;if(this.selection.isEmpty()&&(n=="left"?this.selection.selectLeft():this.selection.selectRight()),t=this.getSelectionRange(),this.getBehavioursEnabled()){var i=this.session,e=i.getState(t.start.row),f=i.getMode().transformAction(e,"deletion",this,i,t);t.end.column===0&&(r=i.getTextRange(t),r[r.length-1]=="\n"&&(u=i.getLine(t.end.row),/^\s+$/.test(u)&&(t.end.column=u.length)));f&&(t=f)}this.session.remove(t);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.selection.isEmpty()&&this.selection.selectLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var n=this.getSelectionRange();n.start.column==n.end.column&&n.start.row==n.end.row&&(n.end.column=0,n.end.row++);this.session.remove(n);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var n=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(n)};this.transposeLetters=function(){var t,n,r,f,u;this.selection.isEmpty()&&(t=this.getCursorPosition(),n=t.column,n!==0)&&(r=this.session.getLine(t.row),n<r.length?(f=r.charAt(n)+r.charAt(n-1),u=new i(t.row,n-1,t.row,n+1)):(f=r.charAt(n-1)+r.charAt(n-2),u=new i(t.row,n-2,t.row,n)),this.session.replace(u,f),this.session.selection.moveToPosition(u.end))};this.toLowerCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toLowerCase());this.selection.setSelectionRange(i)};this.toUpperCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toUpperCase());this.selection.setSelectionRange(i)};this.indent=function(){var t=this.session,n=this.getSelectionRange(),o,i,e,u;if(n.start.row<n.end.row){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}if(n.start.column<n.end.column&&(o=t.getTextRange(n),!/^\s+$/.test(o))){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}var c=t.getLine(n.start.row),s=n.start,f=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())u=f-h%f,e=r.stringRepeat(" ",u);else{for(u=h%f;c[n.start.column-1]==" "&&u;)n.start.column--,u--;this.selection.setSelectionRange(n);e="\t"}return this.insert(e)};this.blockIndent=function(){var n=this.$getSelectedRows();this.session.indentRows(n.first,n.last,"\t")};this.blockOutdent=function(){var n=this.session.getSelection();this.session.outdentRows(n.getRange())};this.sortLines=function(){for(var r,e,t=this.$getSelectedRows(),u=this.session,f=[],n=t.first;n<=t.last;n++)f.push(u.getLine(n));for(f.sort(function(n,t){return n.toLowerCase()<t.toLowerCase()?-1:n.toLowerCase()>t.toLowerCase()?1:0}),r=new i(0,0,0,0),n=t.first;n<=t.last;n++)e=u.getLine(n),r.start.row=n,r.end.row=n,r.end.column=e.length,u.replace(r,f[n-t.first])};this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)};this.toggleBlockComment=function(){var n=this.getCursorPosition(),t=this.session.getState(n.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,n)};this.getNumberAt=function(n,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g,u,i;for(r.lastIndex=0,u=this.session.getLine(n);r.lastIndex<t;)if(i=r.exec(u),i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length};return null};this.modifyNumber=function(n){var u=this.selection.getCursor().row,r=this.selection.getCursor().column,l=new i(u,r-1,u,r),h=this.session.getTextRange(l),t,s,c;if(!isNaN(parseFloat(h))&&isFinite(h)){if(t=this.getNumberAt(u,r),t){var e=t.value.indexOf(".")>=0?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-e,f=parseFloat(t.value);f*=Math.pow(10,o);n*=e!==t.end&&r<e?Math.pow(10,t.end-r-1):Math.pow(10,t.end-r);f+=n;f/=Math.pow(10,o);s=f.toFixed(o);c=new i(u,t.start,u,t.end);this.session.replace(c,s);this.moveCursorTo(u,Math.max(t.start+1,r+s.length-t.value.length))}}else this.toggleWord()};this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]];this.toggleWord=function(){var y=this.selection.getCursor().row,w=this.selection.getCursor().column,c,l,o,i,t,a,v,p;this.selection.selectWord();var n=this.getSelectedText(),s=this.selection.getWordRange().start.column,b=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),u=w-s-1;u<0&&(u=0);var f=0,e=0,h=this;for(n.match(/[A-Za-z0-9_]+/)&&b.forEach(function(t){e=f+t.length;u>=f&&u<=e&&(n=t,h.selection.clearSelection(),h.moveCursorTo(y,f+s),h.selection.selectTo(y,e+s));f=e}),c=this.$toggleWordPairs,o=0;o<c.length;o++)for(i=c[o],t=0;t<=1;t++)a=+!t,v=n.match(new RegExp("^\\s?_?("+r.escapeRegExp(i[t])+")\\s?$","i")),v&&(p=n.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(v[1])+")($|\\s)","g")),p&&(l=n.replace(new RegExp(r.escapeRegExp(i[t]),"i"),function(n){var t=i[a];return n.toUpperCase()==n?t=t.toUpperCase():n.charAt(0).toUpperCase()==n.charAt(0)&&(t=t.substr(0,0)+i[a].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(l),l=""))};this.removeLines=function(){var n=this.$getSelectedRows();this.session.removeFullLines(n.first,n.last);this.clearSelection()};this.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),f=t.isBackwards(),r,u,e;n.isEmpty()?(r=n.start.row,i.duplicateLines(r,r)):(u=f?n.start:n.end,e=i.insert(u,i.getTextRange(n),!1),n.start=u,n.end=e,t.setSelectionRange(n,f))};this.moveLinesDown=function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(n,t,i){return this.session.moveText(n,t,i)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(n,t){var f,l,r=this.selection,h,u,i,o,y,s,c;if(!r.inMultiSelectMode||this.inVirtualSelectionMode)h=r.toOrientedRange(),f=this.$getSelectedRows(h),l=this.session.$moveLines(f.first,f.last,t?0:n),t&&n==-1&&(l=0),h.moveBy(l,0),r.fromOrientedRange(h);else{u=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var e=0,a=0,v=u.length;for(i=0;i<v;i++){for(o=i,u[i].moveBy(e,0),f=this.$getSelectedRows(u[i]),y=f.first,s=f.last;++i<v;){if(a&&u[i].moveBy(a,0),c=this.$getSelectedRows(u[i]),t&&c.first!=s)break;else if(!t&&c.first>s+1)break;s=c.last}for(i--,e=this.session.$moveLines(y,s,t?0:n),t&&n==-1&&(o=i+1);o<=i;)u[o].moveBy(e,0),o++;t||(e=0);a+=e}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(n){return n=(n||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(n.start.row),last:this.session.getRowFoldEnd(n.end.row)}};this.onCompositionStart=function(n){this.renderer.showComposition(n)};this.onCompositionUpdate=function(n){this.renderer.setCompositionText(n)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(n){return n>=this.getFirstVisibleRow()&&n<=this.getLastVisibleRow()};this.isRowFullyVisible=function(n){return n>=this.renderer.getFirstFullyVisibleRow()&&n<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(n,t){var i=this.renderer,r=this.renderer.layerConfig,u=n*Math.floor(r.height/r.lineHeight),f;t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(u,0)}):t===!1&&(this.selection.moveCursorBy(u,0),this.selection.clearSelection());f=i.scrollTop;i.scrollBy(0,u*r.lineHeight);t!=null&&i.scrollCursorIntoView(null,.5);i.animateScrolling(f)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(n){this.renderer.scrollToRow(n)};this.scrollToLine=function(n,t,i,r){this.renderer.scrollToLine(n,t,i,r)};this.centerSelection=function(){var n=this.getSelectionRange(),t={row:Math.floor(n.start.row+(n.end.row-n.start.row)/2),column:Math.floor(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(t,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.selection.selectAll()};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(n,t){this.selection.moveCursorTo(n,t)};this.moveCursorToPosition=function(n){this.selection.moveCursorToPosition(n)};this.jumpToMatching=function(n,t){var c=this.getCursorPosition(),e=new h(this.session,c.row,c.column),s=e.getCurrentToken(),r=s||e.stepForward(),u,f,p;if(r){var y,l=!1,o={},a=c.column-r.start,v,w={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;a<r.value.length&&!l;a++)if(w[r.value[a]]){v=w[r.value[a]]+"."+r.type.replace("rparen","lparen");isNaN(o[v])&&(o[v]=0);switch(r.value[a]){case"(":case"[":case"{":o[v]++;break;case")":case"]":case"}":o[v]--;o[v]===-1&&(y="bracket",l=!0)}}}else r.type.indexOf("tag-name")!==-1&&(isNaN(o[r.value])&&(o[r.value]=0),s.value==="<"?o[r.value]++:s.value==="<\/"&&o[r.value]--,o[r.value]===-1&&(y="tag",l=!0));l||(s=r,r=e.stepForward(),a=0)}while(r&&!l);if(y){if(y==="bracket")u=this.session.getBracketRange(c),u||(u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1),f=u.start,(t||f.row===c.row&&Math.abs(f.column-c.column)<2)&&(u=this.session.getBracketRange(f)));else if(y==="tag"){if(r&&r.type.indexOf("tag-name")!==-1)p=r.value;else return;if(u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2),u.compare(c.row,c.column)===0){l=!1;do r=s,s=e.stepBackward(),s&&(s.type.indexOf("tag-close")!==-1&&u.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),r.value===p&&r.type.indexOf("tag-name")!==-1&&(s.value==="<"?o[p]++:s.value==="<\/"&&o[p]--,o[p]===0&&(l=!0)));while(s&&!l)}r&&r.type.indexOf("tag-name")&&(f=u.start,f.row==c.row&&Math.abs(f.column-c.column)<2&&(f=u.end))}f=u&&u.cursor||f;f&&(n?u&&t?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}};this.gotoLine=function(n,t,i){this.selection.clearSelection();this.session.unfold({row:n-1,column:t||0});this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(n-1,t||0);this.isRowFullyVisible(n-1)||this.scrollToLine(n-1,!0,i)};this.navigateTo=function(n,t){this.selection.moveTo(n,t)};this.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-n||-1,0)};this.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(n||1,0)};this.navigateLeft=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateRight=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(n,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,n)&&(r=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),r):r};this.replaceAll=function(n,t){var i,r,f,u;if(t&&this.$search.set(t),i=this.$search.findAll(this.session),r=0,!i.length)return r;for(f=this.getSelectionRange(),this.selection.moveTo(0,0),u=i.length-1;u>=0;--u)this.$tryReplace(i[u],n)&&r++;return this.selection.setSelectionRange(f),r};this.$tryReplace=function(n,t){var i=this.session.getTextRange(n);return t=this.$search.replace(i,t),t!==null?(n.end=this.session.replace(n,t),n):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(n,t,i){var r,u;if(t||(t={}),typeof n=="string"||n instanceof RegExp?t.needle=n:typeof n=="object"&&s.mixin(t,n),r=this.selection.getRange(),t.needle==null&&(n=this.session.getTextRange(r)||this.$search.$options.needle,n||(r=this.session.getWordRange(r.start.row,r.start.column),n=this.session.getTextRange(r)),this.$search.set({needle:n})),this.$search.set(t),t.start||this.$search.set({start:r}),u=this.$search.find(this.session),t.preventScroll)return u;if(u)return this.revealRange(u,i),u;t.backwards?r.start=r.end:r.end=r.start;this.selection.setRange(r)};this.findNext=function(n,t){this.find({skipCurrent:!0,backwards:!1},n,t)};this.findPrevious=function(n,t){this.find(n,{skipCurrent:!0,backwards:!0},t)};this.revealRange=function(n,t){this.session.unfold(n);this.selection.setSelectionRange(n);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(n.start,n.end,.5);t!==!1&&this.renderer.animateScrolling(i)};this.undo=function(){this.session.getUndoManager().undo(this.session);this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.session.getUndoManager().redo(this.session);this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(n){n.destroy()}),this.$toDestroy=null);this.$mouseHandler&&this.$mouseHandler.destroy();this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy();this._$emitInputEvent&&this._$emitInputEvent.cancel();this.removeAllListeners()};this.setAutoScrollEditorIntoView=function(n){var u,r,t,i;if(n){r=this;t=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));i=this.$scrollAnchor;i.style.cssText="position:absolute";this.container.insertBefore(i,this.container.firstChild);var f=this.on("changeSelection",function(){t=!0}),e=this.renderer.on("beforeRender",function(){t&&(u=r.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(t&&u&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var e=r.renderer,n=e.$cursorLayer.$pixelPos,f=e.layerConfig,o=n.top-f.offset;t=n.top>=0&&o+u.top<0?!0:n.top<f.height&&n.top+u.top+f.lineHeight>window.innerHeight?!1:null;t!=null&&(i.style.top=o+"px",i.style.left=n.left+"px",i.style.height=f.lineHeight+"px",i.scrollIntoView(t));t=u=null}});this.setAutoScrollEditorIntoView=function(n){n||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",e))}}};this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&t!="wide",u.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))};this.prompt=function(n,t,i){var r=this;f.loadModule("./ext/prompt",function(u){u.prompt(r,n,t,i)})}}.call(e.prototype);f.defineOptions(e.prototype,"editor",{selectionStyle:{set:function(n){this.onSelectionChange();this._signal("changeSelectionStyle",{data:n})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(n){this.textInput.setReadOnly(n);this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(n){this.textInput.setCopyWithEmptySelection(n)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(n){this.setAutoScrollEditorIntoView(n)}},keyboardHandler:{set:function(n){this.setKeyboardHandler(n)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(n){this.session.setValue(n)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(n){this.setSession(n)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(n){this.renderer.$gutterLayer.setShowLineNumbers(n);this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);n&&this.$relativeLineNumbers?o.attach(this):o.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(n){this.$showLineNumbers&&n?o.attach(this):o.detach(this)}},placeholder:{set:function(){if(!this.$updatePlaceholder){this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.getValue()),n;if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),u.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder);u.addCssClass(this.container,"ace_hasPlaceholder");n=u.createElement("div");n.className="ace_placeholder";n.textContent=this.$placeholder||"";this.renderer.placeholderNode=n;this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this);this.on("input",this.$updatePlaceholder)}this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});o={getText:function(n,t){return(Math.abs(n.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(n,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(n,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(n){n.renderer.$gutterLayer.$renderer=this;n.on("changeSelection",this.update);this.update(null,n)},detach:function(n){n.renderer.$gutterLayer.$renderer==this&&(n.renderer.$gutterLayer.$renderer=null);n.off("changeSelection",this.update);this.update(null,n)}};t.Editor=e});define("ace/undomanager",["require","exports","module","ace/range"],function(n,t){"use strict";function v(n,t){for(var r,u,i=t;i--;)if(r=n[i],r&&!r[0].ignore){while(i<t-1)u=p(n[i],n[i+1]),n[i]=u[0],n[i+1]=u[1],i++;return!0}}function f(n){return{row:n.row,column:n.column}}function y(n){return{start:f(n.start),end:f(n.end),action:n.action,lines:n.lines.slice()}}function e(n){if(n=n||this,Array.isArray(n))return n.map(e).join("\n");var t="";return n.action?t=(n.action=="insert"?"+":"-")+("["+n.lines+"]"):n.value&&(t=Array.isArray(n.value)?n.value.map(o).join("\n"):o(n.value)),n.start&&(t+=o(n)),(n.id||n.rev)&&(t+="\t("+(n.id||n.rev)+")"),t}function o(n){return n.start.row+":"+n.start.column+"=>"+n.end.row+":"+n.end.column}function l(n,t){var u=n.action=="insert",f=t.action=="insert";if(u&&f)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.start,n.start)<=0)i(n,t,1);else return null;else if(u&&!f)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return null;else if(!u&&f)if(r(t.start,n.start)>=0)i(t,n,1);else if(r(t.start,n.start)<=0)i(n,t,1);else return null;else if(!u&&!f)if(r(t.start,n.start)>=0)i(t,n,1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return null;return[t,n]}function p(n,t){for(var i,r=n.length;r--;)for(i=0;i<t.length;i++)if(!l(n[r],t[i])){while(r<n.length){while(i--)l(t[i],n[r]);i=t.length;r++}return[n,t]}return n.selectionBefore=t.selectionBefore=n.selectionAfter=t.selectionAfter=null,[t,n]}function w(n,t){var e=n.action=="insert",o=t.action=="insert",h,f;if(e&&o)r(n.start,t.start)<0?i(t,n,1):i(n,t,1);else if(e&&!o)r(n.start,t.end)>=0?i(n,t,-1):r(n.start,t.start)<=0?i(t,n,1):(i(n,u.fromPoints(t.start,n.start),-1),i(t,n,1));else if(!e&&o)r(t.start,n.end)>=0?i(t,n,-1):r(t.start,n.start)<=0?i(n,t,1):(i(t,u.fromPoints(n.start,t.start),-1),i(n,t,1));else if(!e&&!o)if(r(t.start,n.end)>=0)i(t,n,-1);else if(r(t.end,n.start)<=0)i(n,t,-1);else return r(n.start,t.start)<0&&(h=n,n=a(n,t.start)),r(n.end,t.end)>0&&(f=a(n,t.end)),s(t.end,n.start,n.end,-1),f&&!h&&(n.lines=f.lines,n.start=f.start,n.end=f.end,f=n),[t,h,f].filter(Boolean);return[t,n]}function i(n,t,i){s(n.start,t.start,t.end,i);s(n.end,t.start,t.end,i)}function s(n,t,i,r){n.row==(r==1?t:i).row&&(n.column+=r*(i.column-t.column));n.row+=r*(i.row-t.row)}function a(n,t){var r=n.lines,o=n.end;n.end=f(t);var u=n.end.row-n.start.row,i=r.splice(u,r.length),e=u?t.column:t.column-n.start.column;return r.push(i[0].substring(0,e)),i[0]=i[0].substr(e),{start:f(t),end:o,lines:i,action:n.action}}function b(n,t){var f,u,i,e,r;for(t=y(t),f=n.length;f--;){for(u=n[f],i=0;i<u.length;i++)e=u[i],r=w(e,t),t=r[0],r.length!=2&&(r[2]?(u.splice(i+1,1,r[1],r[2]),i++):r[1]||(u.splice(i,1),i--));u.length||n.splice(f,1)}return n}function k(n,t){for(var u,r,i=0;i<t.length;i++)for(u=t[i],r=0;r<u.length;r++)b(n,u[r])}var h=function(){this.$maxRev=0;this.$fromUndo=!1;this.reset()};(function(){this.addSession=function(n){this.$session=n};this.add=function(n,t){this.$fromUndo||n!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),t!==!1&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),n.id=this.$rev=++this.$maxRev),(n.action=="remove"||n.action=="insert")&&(this.$lastDelta=n),this.lastDeltas.push(n))};this.addSelection=function(n,t){this.selections.push({value:n,rev:t||this.$rev})};this.startNewGroup=function(){return this.lastDeltas=null,this.$rev};this.markIgnored=function(n,t){var r,u,i;for(t==null&&(t=this.$rev+1),r=this.$undoStack,u=r.length;u--;){if(i=r[u][0],i.id<=n)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null};this.getSelection=function(n,t){for(var i,r=this.selections,u=r.length;u--;)if(i=r[u],i.rev<n)return t&&(i=r[u+1]),i};this.getRevision=function(){return this.$rev};this.getDeltas=function(n,t){var i,f;t==null&&(t=this.$rev+1);var r=this.$undoStack,u=null,e=0;for(i=r.length;i--;)if(f=r[i][0],f.id<t&&!u&&(u=i+1),f.id<=n){e=i+1;break}return r.slice(e,u)};this.getChangedRanges=function(n,t){t==null&&(t=this.$rev+1)};this.getChangedLines=function(n,t){t==null&&(t=this.$rev+1)};this.undo=function(n,t){var i,r,u;if(this.lastDeltas=null,i=this.$undoStack,v(i,i.length))return n||(n=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,r=i.pop(),u=null,r&&(u=n.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,u};this.redo=function(n,t){var u,i,r;return this.lastDeltas=null,n||(n=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(u=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),k(this.$redoStack,u),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(n){n[0].id=++this.$maxRev},this)),i=this.$redoStack.pop(),r=null,i&&(r=n.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r};this.$syncRev=function(){var n=this.$undoStack,t=n[n.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i;this.$rev=i};this.reset=function(){this.lastDeltas=null;this.$lastDelta=null;this.$undoStack=[];this.$redoStack=[];this.$rev=0;this.mark=0;this.$redoStackBaseRev=this.$rev;this.selections=[]};this.canUndo=function(){return this.$undoStack.length>0};this.canRedo=function(){return this.$redoStack.length>0};this.bookmark=function(n){n==undefined&&(n=this.$rev);this.mark=n};this.isAtBookmark=function(){return this.$rev===this.mark};this.toJSON=function(){};this.fromJSON=function(){};this.hasUndo=this.canUndo;this.hasRedo=this.canRedo;this.isClean=this.isAtBookmark;this.markClean=this.bookmark;this.$prettyPrint=function(n){return n?e(n):e(this.$undoStack)+"\n---\n"+e(this.$redoStack)}}).call(h.prototype);var u=n("./range").Range,r=u.comparePoints,c=u.comparePoints;t.UndoManager=h});define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(n,t){this.element=n;this.canvasHeight=t||5e5;this.element.style.height=this.canvasHeight*2+"px";this.cells=[];this.cellCache=[];this.$offsetCoefficient=0};(function(){this.moveContainer=function(n){i.translate(this.element,0,-(n.firstRowScreen*n.lineHeight%this.canvasHeight)-n.offset*this.$offsetCoefficient)};this.pageChanged=function(n,t){return Math.floor(n.firstRowScreen*n.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)};this.computeLineTop=function(n,t,i){var r=t.firstRowScreen*t.lineHeight,u=Math.floor(r/this.canvasHeight),f=i.documentToScreenRow(n,0)*t.lineHeight;return f-u*this.canvasHeight};this.computeLineHeight=function(n,t,i){return t.lineHeight*i.getRowLineCount(n)};this.getLength=function(){return this.cells.length};this.get=function(n){return this.cells[n]};this.shift=function(){this.$cacheCell(this.cells.shift())};this.pop=function(){this.$cacheCell(this.cells.pop())};this.push=function(n){var r,t;if(Array.isArray(n)){for(this.cells.push.apply(this.cells,n),r=i.createFragment(this.element),t=0;t<n.length;t++)r.appendChild(n[t].element);this.element.appendChild(r)}else this.cells.push(n),this.element.appendChild(n.element)};this.unshift=function(n){var t,r;if(Array.isArray(n)){for(this.cells.unshift.apply(this.cells,n),t=i.createFragment(this.element),r=0;r<n.length;r++)t.appendChild(n[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(n),this.element.insertAdjacentElement("afterbegin",n.element)};this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null};this.$cacheCell=function(n){n&&(n.element.remove(),this.cellCache.push(n))};this.createCell=function(n,t,r,u){var f=this.cellCache.pop(),e;return f||(e=i.createElement("div"),u&&u(e),this.element.appendChild(e),f={element:e,text:"",row:n}),f.row=n,f}}).call(r.prototype);t.Lines=r});define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(n,t){"use strict";function u(n){var r=document.createTextNode(""),t;return n.appendChild(r),t=i.createElement("span"),n.appendChild(t),n}var i=n("../lib/dom"),f=n("../lib/oop"),e=n("../lib/lang"),o=n("../lib/event_emitter").EventEmitter,s=n("./lines").Lines,r=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_gutter-layer";n.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$lines=new s(this.element);this.$lines.$offsetCoefficient=1};(function(){f.implement(this,o);this.setSession=function(n){if(this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n)n.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(n,t)};this.setAnnotations=function(n){var r,i,f;for(this.$annotations=[],r=0;r<n.length;r++){var u=n[r],o=u.row,t=this.$annotations[o];t||(t=this.$annotations[o]={text:[]});i=u.text;i=i?e.escapeHTML(i):u.html||"";t.text.indexOf(i)===-1&&t.text.push(i);f=u.type;f=="error"?t.className=" ace_error":f=="warning"&&t.className!=" ace_error"?t.className=" ace_warning":f!="info"||t.className||(t.className=" ace_info")}};this.$updateAnnotations=function(n){var t,i,r;this.$annotations.length&&(t=n.start.row,i=n.end.row-t,i===0||(n.action=="remove"?this.$annotations.splice(t,i+1,null):(r=new Array(i+1),r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r))))};this.update=function(n){this.config=n;var f=this.session,e=n.firstRow,o=Math.min(n.lastRow+n.gutterOffset,f.getLength()-1);this.oldLastRow=o;this.config=n;this.$lines.moveContainer(n);this.$updateCursorRow();for(var t=f.getNextFoldLine(e),s=t?t.start.row:Infinity,r=null,h=-1,i=e;;){if(i>s&&(i=t.end.row+1,t=f.getNextFoldLine(i,t),s=t?t.start.row:Infinity),i>o){while(this.$lines.getLength()>h+1)this.$lines.pop();break}r=this.$lines.get(++h);r?r.row=i:(r=this.$lines.createCell(i,n,this.session,u),this.$lines.push(r));this.$renderCell(r,n,t,i);i++}this._signal("afterRender");this.$updateGutterWidth(n)};this.$updateGutterWidth=function(n){var i=this.session,f=i.gutterRenderer||this.$renderer,e=i.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"",t,u;(this.$fixedWidth||i.$useWrapMode)&&(r=i.getLength()+e-1);t=f?f.getWidth(i,r,n):r.toString().length*n.characterWidth;u=this.$padding||this.$computePadding();t+=u.left+u.right;t===this.gutterWidth||isNaN(t)||(this.gutterWidth=t,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",t))};this.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}};this.updateLineHighlight=function(){var r,i,n,t,u;if(this.$highlightGutterLine&&(r=this.session.selection.cursor.row,this.$cursorRow=r,!this.$cursorCell||this.$cursorCell.row!=r))for(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),i=this.$lines.cells,this.$cursorCell=null,n=0;n<i.length;n++)if(t=i[n],t.row>=this.$cursorRow){if(t.row>this.$cursorRow)if(u=this.session.getFoldLine(this.$cursorRow),n>0&&u&&u.start.row==i[n-1].row)t=i[n-1];else break;t.element.className="ace_gutter-active-line "+t.element.className;this.$cursorCell=t;break}};this.scrollLines=function(n){var t=this.config,i,r,u;if((this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),i=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),r=this.oldLastRow,this.oldLastRow=i,!t||r<n.firstRow)||i<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(u=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);u>0;u--)this.$lines.shift();if(r>i)for(u=this.session.getFoldedRowCount(i+1,r);u>0;u--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,t.firstRow-1));i>r&&this.$lines.push(this.$renderLines(n,r+1,i));this.updateLineHighlight();this._signal("afterRender");this.$updateGutterWidth(n)};this.$renderLines=function(n,t,i){for(var o=[],r=t,f=this.session.getNextFoldLine(r),s=f?f.start.row:Infinity,e;;){if(r>s&&(r=f.end.row+1,f=this.session.getNextFoldLine(r,f),s=f?f.start.row:Infinity),r>i)break;e=this.$lines.createCell(r,n,this.session,u);this.$renderCell(e,n,f,r);o.push(e);r++}return o};this.$renderCell=function(n,t,r,u){var h=n.element,e=this.session,a=h.childNodes[0],o=h.childNodes[1],k=e.$firstLineNumber,v=e.$breakpoints,y=e.$decorations,p=e.gutterRenderer||this.$renderer,l=this.$showFoldWidgets&&e.foldWidgets,w=r?r.start.row:Number.MAX_VALUE,f="ace_gutter-cell ",s,b,c;return this.$highlightGutterLine&&(u==this.$cursorRow||r&&u<this.$cursorRow&&u>=w&&this.$cursorRow<=r.end.row)&&(f+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),v[u]&&(f+=v[u]),y[u]&&(f+=y[u]),this.$annotations[u]&&(f+=this.$annotations[u].className),h.className!=f&&(h.className=f),l&&(s=l[u],s==null&&(s=l[u]=e.getFoldWidget(u))),s?(f="ace_fold-widget ace_"+s,f+=s=="start"&&u==w&&u<r.end.row?" ace_closed":" ace_open",o.className!=f&&(o.className=f),b=t.lineHeight+"px",i.setStyle(o.style,"height",b),i.setStyle(o.style,"display","inline-block")):o&&i.setStyle(o.style,"display","none"),c=(p?p.getText(e,u):u+k).toString(),c!==a.data&&(a.data=c),i.setStyle(n.element.style,"height",this.$lines.computeLineHeight(u,t,e)+"px"),i.setStyle(n.element.style,"top",this.$lines.computeLineTop(u,t,e)+"px"),n.text=c,n};this.$fixedWidth=!1;this.$highlightGutterLine=!0;this.$renderer="";this.setHighlightGutterLine=function(n){this.$highlightGutterLine=n};this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(n){n?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=n;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding};this.getRegion=function(n){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return n.x<t.left+i.left?"markers":this.$showFoldWidgets&&n.x>i.right-t.right?"foldWidgets":void 0}}).call(r.prototype);t.Gutter=r});define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t){"use strict";var r=n("../range").Range,u=n("../lib/dom"),i=function(n){this.element=u.createElement("div");this.element.className="ace_layer ace_marker-layer";n.appendChild(this.element)};(function(){function n(n,t,i,r){return(n?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setMarkers=function(n){this.markers=n};this.elt=function(n,t){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1);i.style.cssText=t;i.className=n};this.update=function(n){var r,u,t,i,f,e;if(n){this.config=n;this.i=0;for(u in this.markers){if(t=this.markers[u],!t.range){t.update(r,this,this.session,n);continue}(i=t.range.clipRows(n.firstRow,n.lastRow),i.isEmpty())||(i=i.toScreenRange(this.session),t.renderer?(f=this.$getTop(i.start.row,n),e=this.$padding+i.start.column*n.characterWidth,t.renderer(r,i,e,f,n)):t.type=="fullLine"?this.drawFullLineMarker(r,i,t.clazz,n):t.type=="screenLine"?this.drawScreenLineMarker(r,i,t.clazz,n):i.isMultiLine()?t.type=="text"?this.drawTextMarker(r,i,t.clazz,n):this.drawMultiLineMarker(r,i,t.clazz,n):this.drawSingleLineMarker(r,i,t.clazz+" ace_start ace_br15",n))}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}};this.$getTop=function(n,t){return(n-t.firstRowScreen)*t.lineHeight};this.drawTextMarker=function(t,i,u,f,e){for(var v=this.session,s=i.start.row,h=i.end.row,o=s,y=0,c=0,a=v.getScreenLastRowColumn(o),l=new r(o,i.start.column,o,c);o<=h;o++)l.start.row=l.end.row=o,l.start.column=o==s?i.start.column:v.getRowWrapIndent(o),l.end.column=a,y=c,c=a,a=o+1<h?v.getScreenLastRowColumn(o+1):o==h?0:i.end.column,this.drawSingleLineMarker(t,l,u+(o==s?" ace_start":"")+" ace_br"+n(o==s||o==s+1&&i.start.column,y<c,c>a,o==h),f,o==h?0:1,e)};this.drawMultiLineMarker=function(n,t,i,r,u){var s=this.$padding,e=r.lineHeight,o=this.$getTop(t.start.row,r),l=s+t.start.column*r.characterWidth,f,c,h;(u=u||"",this.session.$bidiHandler.isBidiRow(t.start.row)?(f=t.clone(),f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(n,f,i+" ace_br1 ace_start",r,null,u)):this.elt(i+" ace_br1 ace_start","height:"+e+"px;right:0;top:"+o+"px;left:"+l+"px;"+(u||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?(f=t.clone(),f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(n,f,i+" ace_br12",r,null,u)):(o=this.$getTop(t.end.row,r),c=t.end.column*r.characterWidth,this.elt(i+" ace_br12","height:"+e+"px;width:"+c+"px;top:"+o+"px;left:"+s+"px;"+(u||""))),e=(t.end.row-t.start.row-1)*r.lineHeight,e<=0)||(o=this.$getTop(t.start.row+1,r),h=(t.start.column?1:0)|(t.end.column?0:8),this.elt(i+(h?" ace_br"+h:""),"height:"+e+"px;right:0;top:"+o+"px;left:"+s+"px;"+(u||"")))};this.drawSingleLineMarker=function(n,t,i,r,u,f){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(n,t,i,r,u,f);var e=r.lineHeight,o=(t.end.column+(u||0)-t.start.column)*r.characterWidth,s=this.$getTop(t.start.row,r),h=this.$padding+t.start.column*r.characterWidth;this.elt(i,"height:"+e+"px;width:"+o+"px;top:"+s+"px;left:"+h+"px;"+(f||""))};this.drawBidiSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=this.$getTop(t.start.row,r),s=this.$padding,h=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);h.forEach(function(n){this.elt(i,"height:"+e+"px;width:"+n.width+(u||0)+"px;top:"+o+"px;left:"+(s+n.left)+"px;"+(f||""))},this)};this.drawFullLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;t.start.row!=t.end.row&&(e+=this.$getTop(t.end.row,r)-f);this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))};this.drawScreenLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))}}).call(i.prototype);t.Marker=i});define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("../lib/oop"),r=n("../lib/dom"),i=n("../lib/lang"),e=n("./lines").Lines,o=n("../lib/event_emitter").EventEmitter,u=function(n){this.dom=r;this.element=this.dom.createElement("div");this.element.className="ace_layer ace_text-layer";n.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this);this.$lines=new e(this.element)};(function(){f.implement(this,o);this.EOF_CHAR="¶";this.EOL_CHAR_LF="¬";this.EOL_CHAR_CRLF="¤";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="—";this.SPACE_CHAR="·";this.$padding=0;this.MAX_LINE_LENGTH=1e4;this.$updateEolChar=function(){var n=this.session.doc,i=n.getNewLineCharacter()=="\n"&&n.getNewLineMode()!="windows",t=i?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0};this.setPadding=function(n){this.$padding=n;this.element.style.margin="0 "+n+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(n){this.$fontMetrics=n;this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(n){this.session=n;n&&this.$computeTabString()};this.showInvisibles=!1;this.showSpaces=!1;this.showTabs=!1;this.showEOL=!1;this.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var u=this.session.getTabSize(),r,t,n;for(this.tabSize=u,r=this.$tabStrings=[0],t=1;t<u+1;t++)this.showTabs?(n=this.dom.createElement("span"),n.className="ace_invisible ace_invisible_tab",n.textContent=i.stringRepeat(this.TAB_CHAR,t),r.push(n)):r.push(this.dom.createTextNode(i.stringRepeat(" ",t),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",e=this.showSpaces?i.stringRepeat(this.SPACE_CHAR,this.tabSize):i.stringRepeat(" ",this.tabSize),s=this.showTabs?" ace_invisible ace_invisible_tab":"",h=this.showTabs?i.stringRepeat(this.TAB_CHAR,this.tabSize):e,n=this.dom.createElement("span");n.className=f+o;n.textContent=e;this.$tabStrings[" "]=n;n=this.dom.createElement("span");n.className=f+s;n.textContent=h;this.$tabStrings["\t"]=n}};this.updateLines=function(n,t,i){var r,u,f,c,l;if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;var e=Math.max(t,n.firstRow),a=Math.min(i,n.lastRow),v=this.element.childNodes,o=0;for(r=n.firstRow;r<e;r++){if(u=this.session.getFoldLine(r),u)if(u.containsRow(e)){e=u.start.row;break}else r=u.end.row;o++}for(var s=!1,r=e,u=this.session.getNextFoldLine(r),h=u?u.start.row:Infinity;;){if(r>h&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),h=u?u.start.row:Infinity),r>a)break;f=v[o++];f&&(this.dom.removeChildren(f),this.$renderLine(f,r,r==h?u:!1),s&&(f.style.top=this.$lines.computeLineTop(r,n,this.session)+"px"),c=n.lineHeight*this.session.getRowLength(r)+"px",f.style.height!=c&&(s=!0,f.style.height=c));r++}if(s)while(o<this.$lines.cells.length)l=this.$lines.cells[o++],l.element.style.top=this.$lines.computeLineTop(l.row,n,this.session)+"px"};this.scrollLines=function(n){var t=this.config,r,u,i;if((this.config=n,this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),r=n.lastRow,u=t?t.lastRow:-1,!t||u<n.firstRow)||r<t.firstRow||!t||t.lastRow<n.firstRow||n.lastRow<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(i=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>n.lastRow)for(i=this.session.getFoldedRowCount(n.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,t.firstRow-1));n.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(n,t.lastRow+1,n.lastRow))};this.$renderLinesFragment=function(n,t,i){for(var h=[],u=t,f=this.session.getNextFoldLine(u),o=f?f.start.row:Infinity,s,e;;){if(u>o&&(u=f.end.row+1,f=this.session.getNextFoldLine(u,f),o=f?f.start.row:Infinity),u>i)break;s=this.$lines.createCell(u,n,this.session);e=s.element;this.dom.removeChildren(e);r.setStyle(e.style,"height",this.$lines.computeLineHeight(u,n,this.session)+"px");r.setStyle(e.style,"top",this.$lines.computeLineTop(u,n,this.session)+"px");this.$renderLine(e,u,u==o?f:!1);e.className=this.$useLineGroups()?"ace_line_group":"ace_line";h.push(s);u++}return h};this.update=function(n){this.$lines.moveContainer(n);this.config=n;for(var i=n.firstRow,r=n.lastRow,t=this.$lines;t.getLength();)t.pop();t.push(this.$renderLinesFragment(n,i,r))};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(n,t,r,u){for(var e=this,b=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,s=this.dom.createFragment(this.element),o,h=0,l,a,w,f;o=b.exec(u);){var k=o[1],c=o[2],v=o[3],y=o[4],p=o[5];(e.showSpaces||!c)&&(l=h!=o.index?u.slice(h,o.index):"",h=o.index+o[0].length,l&&s.appendChild(this.dom.createTextNode(l,this.element)),k?(a=e.session.getScreenTabSize(t+o.index),s.appendChild(e.$tabStrings[a].cloneNode(!0)),t+=a-1):c?e.showSpaces?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space",f.textContent=i.stringRepeat(e.SPACE_CHAR,c.length),s.appendChild(f)):s.appendChild(this.com.createTextNode(c,this.element)):v?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space ace_invalid",f.textContent=i.stringRepeat(e.SPACE_CHAR,v.length),s.appendChild(f)):y?(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className=e.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",f.textContent=e.showSpaces?e.SPACE_CHAR:y,s.appendChild(f)):p&&(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className="ace_cjk",f.textContent=p,s.appendChild(f)))}return s.appendChild(this.dom.createTextNode(h?u.slice(h):u,this.element)),this.$textToken[r.type]?n.appendChild(s):(w="ace_"+r.type.replace(/\./g," ace_"),f=this.dom.createElement("span"),r.type=="fold"&&(f.style.width=r.value.length*this.config.characterWidth+"px"),f.className=w,f.appendChild(s),n.appendChild(f)),t+u.length};this.renderIndentGuide=function(n,t,i){var r=t.search(this.$indentGuideRe),f,u;if(r<=0||r>=i)return t;if(t[0]==" "){for(r-=r%this.tabSize,f=r/this.tabSize,u=0;u<f;u++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if(t[0]=="\t"){for(u=0;u<r;u++)n.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t};this.$createLineElement=function(){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n};this.$renderWrappedLine=function(n,t,r){var f=0,l=0,s=r[0],o=0,e=this.$createLineElement(),h,c,u;for(n.appendChild(e),h=0;h<t.length;h++){if(c=t[h],u=c.value,h==0&&this.displayIndentGuides){if(f=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;f-=u.length}if(f+u.length<s)o=this.$renderToken(e,o,c,u),f+=u.length;else{while(f+u.length>=s)o=this.$renderToken(e,o,c,u.substring(0,s-f)),u=u.substring(s-f),f=s,e=this.$createLineElement(),n.appendChild(e),e.appendChild(this.dom.createTextNode(i.stringRepeat(" ",r.indent),this.element)),l++,o=0,s=r[l]||Number.MAX_VALUE;u.length!=0&&(f+=u.length,o=this.$renderToken(e,o,c,u))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(e,o,null,"",!0)};this.$renderSimpleLine=function(n,t){var r=0,u=t[0],i=u.value,f;for(this.displayIndentGuides&&(i=this.renderIndentGuide(n,i)),i&&(r=this.$renderToken(n,r,u,i)),f=1;f<t.length;f++){if(u=t[f],i=u.value,r+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,r,u,i);r=this.$renderToken(n,r,u,i)}};this.$renderOverflowMessage=function(n,t,i,r,u){i&&this.$renderToken(n,t,i,r.slice(0,this.MAX_LINE_LENGTH-t));var f=this.dom.createElement("span");f.className="ace_inline_button ace_keyword ace_toggle_wrap";f.textContent=u?"<hide>":"<click to see more...>";n.appendChild(f)};this.$renderLine=function(n,t,i){var u,f,r,e;i||i==!1||(i=this.session.getFoldLine(t));u=i?this.$getFoldLineTokens(t,i):this.session.getTokens(t);r=n;u.length?(f=this.session.getRowSplitData(t),f&&f.length?(this.$renderWrappedLine(n,u,f),r=n.lastChild):(r=n,this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r)),this.$renderSimpleLine(r,u))):this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r));this.showEOL&&r&&(i&&(t=i.end.row),e=this.dom.createElement("span"),e.className="ace_invisible ace_invisible_eol",e.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(e))};this.$getFoldLineTokens=function(n,t){function f(n,t,r){for(var u=0,e=0,f;e+n[u].value.length<t;)if(e+=n[u].value.length,u++,u==n.length)return;for(e!=t&&(f=n[u].value.substring(t-e),f.length>r-t&&(f=f.substring(0,r-t)),i.push({type:n[u].type,value:f}),e=t+f.length,u+=1);e<r&&u<n.length;)f=n[u].value,f.length+e>r?i.push({type:n[u].type,value:f.substring(0,r-e)}):i.push(n[u]),e+=f.length,u+=1}var u=this.session,i=[],r=u.getTokens(n);return t.walk(function(n,t,e,o,s){n!=null?i.push({type:"fold",value:n}):(s&&(r=u.getTokens(t)),r.length&&f(r,o,e))},t.end.row,this.session.getLine(t.end.row).length),i};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){}}).call(u.prototype);t.Text=u});define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";n.appendChild(this.element);this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(n){for(var t=this.cursors,r=t.length;r--;)i.setStyle(t[r].style,"opacity",n?"":"0")};this.$startCssAnimation=function(){for(var n=this.cursors,t=n.length;t--;)n[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0;setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))};this.$stopCssAnimation=function(){this.$isAnimating=!1;i.removeCssClass(this.element,"ace_animate-blinking")};this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setBlinking=function(n){n!=this.isBlinking&&(this.isBlinking=n,this.restartTimer())};this.setBlinkInterval=function(n){n!=this.blinkInterval&&(this.blinkInterval=n,this.restartTimer())};this.setSmoothBlinking=function(n){n!=this.smoothBlinking&&(this.smoothBlinking=n,i.setCssClass(this.element,"ace_smooth-blinking",n),this.$updateCursors(!0),this.restartTimer())};this.addCursor=function(){var n=i.createElement("div");return n.className="ace_cursor",this.element.appendChild(n),this.cursors.push(n),n};this.removeCursor=function(){if(this.cursors.length>1){var n=this.cursors.pop();return n.parentNode.removeChild(n),n}};this.hideCursor=function(){this.isVisible=!1;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var n=this.$updateCursors,t;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),n(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)));i.HAS_CSS_ANIMATION?this.$startCssAnimation():(t=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){n(!0);t()},this.blinkInterval),t())};this.getPixelPosition=function(n,t){if(!this.config||!this.session)return{left:0,top:0};n||(n=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),u=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:u}};this.isCursorInView=function(n,t){return n.top>=0&&n.top<t.maxHeight};this.update=function(n){var u,s,t,e,f,h;this.config=n;var r=this.session.$selectionMarkers,u=0,o=0;for((r===undefined||r.length===0)&&(r=[{cursor:null}]),u=0,s=r.length;u<s;u++)(t=this.getPixelPosition(r[u].cursor,!0),(t.top>n.height+n.offset||t.top<0)&&u>1)||(e=this.cursors[o++]||this.addCursor(),f=e.style,this.drawCursor?this.drawCursor(e,t,n,r[u],this.session):this.isCursorInView(t,n)?(i.setStyle(f,"display","block"),i.translate(e,t.left,t.top),i.setStyle(f,"width",Math.round(n.characterWidth)+"px"),i.setStyle(f,"height",n.lineHeight+"px")):i.setStyle(f,"display","none"));while(this.cursors.length>o)this.removeCursor();h=this.session.getOverwrite();this.$setOverwrite(h);this.$pixelPos=t;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(n){n!=this.overwrite&&(this.overwrite=n,n?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(r.prototype);t.Cursor=r});define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("./lib/oop"),e=n("./lib/dom"),o=n("./lib/event"),h=n("./lib/event_emitter").EventEmitter,s=32768,r=function(n){this.element=e.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=e.createElement("div");this.inner.className="ace_scrollbar-inner";this.inner.textContent=" ";this.element.appendChild(this.inner);n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;o.addListener(this.element,"scroll",this.onScroll.bind(this));o.addListener(this.element,"mousedown",o.preventDefault)},i,u;(function(){f.implement(this,h);this.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1}}).call(r.prototype);i=function(n,t){r.call(this,n);this.scrollTop=0;this.scrollHeight=0;t.$scrollbarWidth=this.width=e.scrollbarWidth(n.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=0};f.inherits(i,r),function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(n){this.element.style.height=n+"px"};this.setInnerHeight=this.setScrollHeight=function(n){this.scrollHeight=n;n>s?(this.coeff=s/n,n=s):this.coeff!=1&&(this.coeff=1);this.inner.style.height=n+"px"};this.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)}}.call(i.prototype);u=function(n,t){r.call(this,n);this.scrollLeft=0;this.height=t.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};f.inherits(u,r),function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(n){this.element.style.width=n+"px"};this.setInnerWidth=function(n){this.inner.style.width=n+"px"};this.setScrollWidth=function(n){this.inner.style.width=n+"px"};this.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)}}.call(u.prototype);t.ScrollBar=i;t.ScrollBarV=i;t.ScrollBarH=u;t.VScrollBar=i;t.HScrollBar=u});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t){"use strict";var i=n("./lib/event"),r=function(n,t){this.onRender=n;this.pending=!1;this.changes=0;this.$recursionLimit=2;this.window=t||window;var r=this;this._flush=function(){r.pending=!1;var n=r.changes;if(n){i.blockIdle(100);r.changes=0;r.onRender(n)}if(r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}};(function(){this.schedule=function(n){this.changes=this.changes|n;this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)};this.clear=function(){var n=this.changes;return this.changes=0,n}}).call(r.prototype);t.RenderLoop=r});define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){var o=n("../lib/oop"),r=n("../lib/dom"),f=n("../lib/lang"),e=n("../lib/event"),s=n("../lib/useragent"),h=n("../lib/event_emitter").EventEmitter,u=256,c=typeof ResizeObserver=="function",i=200,l=t.FontMetrics=function(n){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);n.appendChild(this.el);this.$measureNode.textContent=f.stringRepeat("X",u);this.$characterSize={width:0,height:0};c?this.$addObserver():this.checkForSizeChanges()};(function(){o.implement(this,h);this.$characterSize={width:0,height:0};this.$setMeasureNodeStyles=function(n,t){n.width=n.height="auto";n.left=n.top="0px";n.visibility="hidden";n.position="absolute";n.whiteSpace="pre";s.isIE<8?n["font-family"]="inherit":n.font="inherit";n.overflow=t?"hidden":"visible"};this.checkForSizeChanges=function(n){if(n===undefined&&(n=this.$measureSizes()),n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=n;this.charSizes=Object.create(null);this.allowBoldFonts=t&&t.width===n.width&&t.height===n.height;this._emit("changeCharacterSize",{data:n})}};this.$addObserver=function(){var n=this;this.$observer=new window.ResizeObserver(function(){n.checkForSizeChanges()});this.$observer.observe(this.$measureNode)};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var n=this;return this.$pollSizeChangesTimer=e.onIdle(function t(){n.checkForSizeChanges();e.onIdle(t,500)},500)};this.setPolling=function(n){n?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(n){var t={height:(n||this.$measureNode).clientHeight,width:(n||this.$measureNode).clientWidth/u};return t.width===0||t.height===0?null:t};this.$measureCharWidth=function(n){this.$main.textContent=f.stringRepeat(n,u);var t=this.$main.getBoundingClientRect();return t.width/u};this.getCharacterWidth=function(n){var t=this.charSizes[n];return t===undefined&&(t=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),t};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$observer&&this.$observer.disconnect();this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)};this.$getZoom=function n(t){return!t||!t.parentElement?1:(window.getComputedStyle(t).zoom||1)*n(t.parentElement)};this.$initTransformMeasureNodes=function(){var n=function(n,t){return["div",{style:"position: absolute;top:"+n+"px;left:"+t+"px;"}]};this.els=r.buildDom([n(0,0),n(i,0),n(0,i),n(i,i)],this.el)};this.transformCoordinates=function(n,t){function p(n,t,i){var r=n[1]*t[0]-n[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/r,(+n[1]*i[0]-n[0]*i[1])/r]}function u(n,t){return[n[0]-t[0],n[1]-t[1]]}function o(n,t){return[n[0]+t[0],n[1]+t[1]]}function r(n,t){return[n*t[0],n*t[1]]}function s(n){var t=n.getBoundingClientRect();return[t.left,t.top]}var y,c,k;n&&(y=this.$getZoom(this.el),n=r(1/y,n));this.els||this.$initTransformMeasureNodes();var e=s(this.els[0]),l=s(this.els[1]),a=s(this.els[2]),v=s(this.els[3]),f=p(u(v,l),u(v,a),u(o(l,a),o(v,e))),w=r(1+f[0],u(l,e)),b=r(1+f[1],u(a,e));if(t){var h=t,d=f[0]*h[0]/i+f[1]*h[1]/i+1,g=o(r(h[0],w),r(h[1],b));return o(r(1/d/i,g),e)}return c=u(n,e),k=p(u(w,r(f[0],c)),u(b,r(f[1],c)),c),r(i,k)}}).call(l.prototype)});define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(n,t){"use strict";var s=n("./lib/oop"),i=n("./lib/dom"),r=n("./config"),h=n("./layer/gutter").Gutter,e=n("./layer/marker").Marker,c=n("./layer/text").Text,l=n("./layer/cursor").Cursor,a=n("./scrollbar").HScrollBar,v=n("./scrollbar").VScrollBar,y=n("./renderloop").RenderLoop,p=n("./layer/font_metrics").FontMetrics,w=n("./lib/event_emitter").EventEmitter,o='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',u=n("./lib/useragent"),b=u.isIE,f;i.importCssString(o,"ace_editor.css",!1);f=function(n,t){var f=this,o;this.container=n||i.createElement("div");i.addCssClass(this.container,"ace_editor");i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi");this.setTheme(t);r.get("useStrictCSP")==null&&r.set("useStrictCSP",!1);this.$gutter=i.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=i.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=i.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new h(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new e(this.content);o=this.$textLayer=new c(this.content);this.canvas=o.element;this.$markerFront=new e(this.content);this.$cursorLayer=new l(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new v(this.container,this);this.scrollBarH=new a(this.container,this);this.scrollBarV.on("scroll",function(n){f.$scrollAnimation||f.session.setScrollTop(n.data-f.scrollMargin.top)});this.scrollBarH.on("scroll",function(n){f.$scrollAnimation||f.session.setScrollLeft(n.data-f.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new p(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.on("changeCharacterSize",function(n){f.updateCharacterSize();f.onResize(!0,f.gutterWidth,f.$size.width,f.$size.height);f._signal("changeCharacterSize",n)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$keepTextAreaAtCursor=!u.isIOS;this.$loop=new y(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);r.resetOptions(this);r._signal("renderer",this)},function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;s.implement(this,w);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin();i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")};this.setSession=function(n){if(this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=n,n&&this.scrollMargin.top&&n.getScrollTop()<=0&&n.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(n),this.$markerBack.setSession(n),this.$markerFront.setSession(n),this.$gutterLayer.setSession(n),this.$textLayer.setSession(n),n){this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)}};this.updateLines=function(n,t,i){if(t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>n&&(this.$changedLines.firstRow=n),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:n,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow)if(i)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(n){n?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(n,t,i,r){var u,f;if(!(this.resizing>2)){if(this.resizing>0?this.resizing++:this.resizing=n?1:0,u=this.container,r||(r=u.clientHeight||u.scrollHeight),i||(i=u.clientWidth||u.scrollWidth),f=this.$updateCachedSize(n,t,i,r),!this.$size.scrollerHeight||!i&&!r)return this.resizing=0;n&&(this.$gutterLayer.$padding=null);n?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(n,t,r,u){var o;u-=this.$extraHeight||0;var e=0,f=this.$size,s={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};return u&&(n||f.height!=u)&&(f.height=u,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e=e|this.CHANGE_SCROLL),r&&(n||f.width!=r)&&(e|=this.CHANGE_SIZE,f.width=r,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),f.scrollerWidth=Math.max(0,r-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px"),o=this.scrollBarV.getWidth()+"px",i.setStyle(this.scrollBarH.element.style,"right",o),i.setStyle(this.scroller.style,"right",o),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||n)&&(e|=this.CHANGE_FULL)),f.$dirty=!r||!u,e&&this._signal("resize",s),e};this.onGutterResize=function(n){var t=this.$showGutter?n:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()};this.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(n/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(n){this.setOption("animatedScroll",n)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(n){this.setOption("showInvisibles",n);this.session.$bidiHandler.setShowInvisibles(n)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(n){this.setOption("displayIndentGuides",n)};this.setShowPrintMargin=function(n){this.setOption("showPrintMargin",n)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(n){this.setOption("printMarginColumn",n)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(n){return this.setOption("showGutter",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updatePrintMargin=function(){var n,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||(n=i.createElement("div"),n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)),t=this.$printMarginEl.style,t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit())};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){var o,n,u,e,r,h,c;if(!this.$isMousePressed){if(o=this.textarea.style,n=this.$composition,!this.$keepTextAreaAtCursor&&!n){i.translate(this.textarea,-100,0);return}if(u=this.$cursorLayer.$pixelPos,u){n&&n.markerRange&&(u=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var s=this.layerConfig,t=u.top,f=u.left;if(t-=s.offset,e=n&&n.useTextareaForIME?this.lineHeight:b?0:1,t<0||t>s.height-e){i.translate(this.textarea,0,0);return}r=1;h=this.$size.height-e;n?n.useTextareaForIME?(c=this.textarea.value,r=this.characterWidth*this.session.$getStringScreenWidth(c)[0]):t+=this.lineHeight+2:t+=this.lineHeight;f-=this.scrollLeft;f>this.$size.scrollerWidth-r&&(f=this.$size.scrollerWidth-r);f+=this.gutterWidth+this.margin.left;i.setStyle(o,"height",e+"px");i.setStyle(o,"width",r+"px");i.translate(this.textarea,Math.min(f,this.$size.scrollerWidth-r),Math.min(t,h))}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)};this.getLastFullyVisibleRow=function(){var n=this.layerConfig,t=n.lastRow,i=this.session.documentToScreenRow(t,0)*n.lineHeight;return i-this.session.getScrollTop()>n.height-n.lineHeight?t-1:t};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(n){this.$padding=n;this.$textLayer.setPadding(n);this.$cursorLayer.setPadding(n);this.$markerFront.setPadding(n);this.$markerBack.setPadding(n);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(n,t,i,r){var u=this.scrollMargin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;u.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-u.top);this.updateFull()};this.setMargin=function(n,t,i,r){var u=this.margin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(n){this.setOption("hScrollBarAlwaysVisible",n)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(n){this.setOption("vScrollBarAlwaysVisible",n)};this.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-t&&(n=this.scrollTop+t,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(n+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(n,t){var r,u,f,e;if(this.$changes&&(n|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!n&&!t){this.$changes|=n;return}if(this.$size.$dirty){this.$changes|=n;return this.onResize(!0)}if(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",n),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),r=this.layerConfig,(n&this.CHANGE_FULL||n&this.CHANGE_SIZE||n&this.CHANGE_TEXT||n&this.CHANGE_LINES||n&this.CHANGE_SCROLL||n&this.CHANGE_H_SCROLL)&&(n|=this.$computeLayerConfig()|this.$loop.clear(),r.firstRow!=this.layerConfig.firstRow&&r.firstRowScreen==this.layerConfig.firstRowScreen&&(u=this.scrollTop+(r.firstRow-this.layerConfig.firstRow)*this.lineHeight,u>0&&(this.scrollTop=u,n=n|this.CHANGE_SCROLL|this.$computeLayerConfig()|this.$loop.clear())),r=this.layerConfig,this.$updateScrollBarV(),n&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-r.offset),f=r.width+2*this.$padding+"px",e=r.minHeight+"px",i.setStyle(this.content.style,"width",f),i.setStyle(this.content.style,"height",e)),n&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-r.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),n&this.CHANGE_FULL){this.$changedLines=null;this.$textLayer.update(r);this.$showGutter&&this.$gutterLayer.update(r);this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}if(n&this.CHANGE_SCROLL){this.$changedLines=null;n&this.CHANGE_TEXT||n&this.CHANGE_LINES?this.$textLayer.update(r):this.$textLayer.scrollLines(r);this.$showGutter&&(n&this.CHANGE_GUTTER||n&this.CHANGE_LINES?this.$gutterLayer.update(r):this.$gutterLayer.scrollLines(r));this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}n&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r)):n&this.CHANGE_LINES?(this.$updateLines()||n&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(r):n&this.CHANGE_TEXT||n&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(r):n&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(r);n&this.CHANGE_CURSOR&&(this.$cursorLayer.update(r),this.$moveTextAreaToCursor());n&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(r);n&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(r);this._signal("afterRender",n)};this.$autosize=function(){var i=this.session.getScreenLength()*this.lineHeight,r=this.$maxLines*this.lineHeight,n=Math.min(r,Math.max((this.$minLines||1)*this.lineHeight,i))+this.scrollMargin.v+(this.$extraHeight||0),u,t,f;this.$horizScroll&&(n+=this.scrollBarH.getHeight());this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);u=n<=2*this.lineHeight;t=!u&&i>r;(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||t!=this.$vScroll)&&(t!=this.$vScroll&&(this.$vScroll=t,this.scrollBarV.setVisible(t)),f=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,f,n),this.desiredHeight=n,this._signal("autosize"))};this.$computeLayerConfig=function(){var i=this.session,n=this.$size,k=n.height<=2*this.lineHeight,nt=this.session.getScreenLength(),e=nt*this.lineHeight,r=this.$getLongestLine(),v=!k&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-r-2*this.$padding<0),y=this.$horizScroll!==v,d,o,p,u,s,h,b,a;y&&(this.$horizScroll=v,this.scrollBarH.setVisible(v));d=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();o=n.scrollerHeight+this.lineHeight;p=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=p;u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,e-n.scrollerHeight+u.bottom)));this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-n.scrollerWidth+u.right)));s=!k&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+p<0||this.scrollTop>u.top);h=d!==s;h&&(this.$vScroll=s,this.scrollBarV.setVisible(s));var c=this.scrollTop%this.lineHeight,tt=Math.ceil(o/this.lineHeight)-1,t=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),l=t+tt,w,g,f=this.lineHeight;return t=i.screenToDocumentRow(t,0),b=i.getFoldLine(t),b&&(t=b.start.row),w=i.documentToScreenRow(t,0),g=i.getRowLength(t)*f,l=Math.min(i.screenToDocumentRow(l,0),i.getLength()-1),o=n.scrollerHeight+i.getRowLength(l)*f+g,c=this.scrollTop-w*f,a=0,(this.layerConfig.width!=r||y)&&(a=this.CHANGE_H_SCROLL),(y||h)&&(a|=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),h&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:t,firstRowScreen:w,lastRow:l,lineHeight:f,characterWidth:this.characterWidth,minHeight:o,maxHeight:e,offset:c,gutterOffset:f?Math.max(0,Math.ceil((c+n.height-n.scrollerHeight)/f)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),a};this.$updateLines=function(){var i,t,n;if(this.$changedLines&&(i=this.$changedLines.firstRow,t=this.$changedLines.lastRow,this.$changedLines=null,n=this.layerConfig,!(i>n.lastRow+1))&&!(t<n.firstRow)){if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n);this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,i,t),!0}};this.$getLongestLine=function(){var n=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(n+=1),this.$textLayer&&n>this.$textLayer.MAX_LINE_LENGTH&&(n=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(n*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(n,t){this.$gutterLayer.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){this.$gutterLayer.removeGutterDecoration(n,t)};this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(n){this.$gutterLayer.setAnnotations(n);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(n,t,i){this.scrollCursorIntoView(n,i);this.scrollCursorIntoView(t,i)};this.scrollCursorIntoView=function(n,t,i){var f;if(this.$size.scrollerHeight!==0){var s=this.$cursorLayer.getPixelPosition(n),u=s.left,r=s.top,h=i&&i.top||0,o=i&&i.bottom||0,e=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;e+h>r?(t&&e+h>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),r===0&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):e+this.$size.scrollerHeight-o<r+this.lineHeight&&(t&&e+this.$size.scrollerHeight-o<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+o-this.$size.scrollerHeight));f=this.scrollLeft;f>u?(u<this.$padding+2*this.layerConfig.characterWidth&&(u=-this.scrollMargin.left),this.session.setScrollLeft(u)):f+this.$size.scrollerWidth<u+this.characterWidth?this.session.setScrollLeft(Math.round(u+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&u-f<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(n){this.session.setScrollTop(n*this.lineHeight)};this.alignCursor=function(n,t){typeof n=="number"&&(n={row:n,column:0});var r=this.$cursorLayer.getPixelPosition(n),u=this.$size.scrollerHeight-this.lineHeight,i=r.top-u*(t||0);return this.session.setScrollTop(i),i};this.STEPS=8;this.$calcSteps=function(n,t){for(var i=0,u=this.STEPS,r=[],f=function(n,t,i){return i*(Math.pow(n-1,3)+1)+t},i=0;i<u;++i)r.push(f(i/this.STEPS,n,t-n));return r};this.scrollToLine=function(n,t,i,r){var e=this.$cursorLayer.getPixelPosition({row:n,column:0}),u=e.top,f;t&&(u-=this.$size.scrollerHeight/2);f=this.scrollTop;this.session.setScrollTop(u);i!==!1&&this.animateScrolling(f,r)};this.animateScrolling=function(n,t){var r=this.scrollTop,i,f,u;this.$animatedScroll&&(i=this,n!=r)&&(this.$scrollAnimation&&(f=this.$scrollAnimation.steps,f.length&&(n=f[0],n==r))||(u=i.$calcSteps(n,r),this.$scrollAnimation={from:n,to:r,steps:u},clearInterval(this.$timer),i.session.setScrollTop(u.shift()),i.session.$scrollTop=r,this.$timer=setInterval(function(){if(!i.session)return clearInterval(i.$timer);u.length?(i.session.setScrollTop(u.shift()),i.session.$scrollTop=r):r!=null?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)))};this.scrollToY=function(n){this.scrollTop!==n&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=n)};this.scrollToX=function(n){this.scrollLeft!==n&&(this.scrollLeft=n);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(n,t){this.session.setScrollTop(t);this.session.setScrollLeft(n)};this.scrollBy=function(n,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)};this.isScrollableBy=function(n,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:n<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:n>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0};this.pixelToScreenCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var f=n+this.scrollLeft-i.left-this.$padding,u=f/this.characterWidth,o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),e=this.$blockCursor?Math.floor(u):Math.round(u);return{row:o,column:e,side:u-e>0?1:-1,offsetX:f}};this.screenToTextCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var u=n+this.scrollLeft-i.left-this.$padding,f=u/this.characterWidth,e=this.$blockCursor?Math.floor(f):Math.round(f),o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(o,Math.max(e,0),u)};this.textToScreenCoordinates=function(n,t){var r=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(n,t),u=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),f=i.row*this.lineHeight;return{pageX:r.left+u-this.scrollLeft,pageY:r.top+f-this.scrollTop}};this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")};this.showComposition=function(n){this.$composition=n;n.cssText||(n.cssText=this.textarea.style.cssText);n.useTextareaForIME==undefined&&(n.useTextareaForIME=this.$useTextareaForIME);this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):n.markerId=this.session.addMarker(n.markerRange,"ace_composition_marker","text")};this.setCompositionText=function(n){var t=this.session.selection.cursor;this.addToken(n,"composition_placeholder",t.row,t.column);this.$moveTextAreaToCursor()};this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId);i.removeCssClass(this.textarea,"ace_composition");this.textarea.style.cssText=this.$composition.cssText;var n=this.session.selection.cursor;this.removeExtraToken(n.row,n.column);this.$composition=null;this.$cursorLayer.element.style.display=""}};this.addToken=function(n,t,i,r){var h=this.session,s,f,o,e,u;if(h.bgTokenizer.lines[i]=null,s={type:t,value:n},f=h.getTokens(i),r==null)f.push(s);else for(o=0,e=0;e<f.length;e++)if(u=f[e],o+=u.value.length,r<=o){var c=u.value.length-(o-r),l=u.value.slice(0,c),a=u.value.slice(c);f.splice(e,1,{type:u.type,value:l},s,{type:u.type,value:a});break}this.updateLines(i,i)};this.removeExtraToken=function(n){this.updateLines(n,n)};this.setTheme=function(n,t){function e(r){if(u.$themeId!=n)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");r.$id&&(u.$themeId=r.$id);i.importCssString(r.cssText,r.cssClass,u.container);u.theme&&i.removeCssClass(u.container,u.theme.cssClass);var f="padding"in r?r.padding:"padding"in(u.theme||{})?4:u.$padding;u.$padding&&f!=u.$padding&&u.setPadding(f);u.$theme=r.cssClass;u.theme=r;i.addCssClass(u.container,r.cssClass);i.setCssClass(u.container,"ace_dark",r.isDark);u.$size&&(u.$size.width=0,u.$updateSizeAsync());u._dispatchEvent("themeLoaded",{theme:r});t&&t()}var u=this,f;this.$themeId=n;u._dispatchEvent("themeChange",{theme:n});n&&typeof n!="string"?e(n):(f=n||this.$options.theme.initialValue,r.loadModule(["theme",f],e))};this.getTheme=function(){return this.$themeId};this.setStyle=function(n,t){i.setCssClass(this.container,n,t!==!1)};this.unsetStyle=function(n){i.removeCssClass(this.container,n)};this.setCursorStyle=function(n){i.setStyle(this.scroller.style,"cursor",n)};this.setMouseCursor=function(n){i.setStyle(this.scroller.style,"cursor",n)};this.attachToShadowRoot=function(){i.importCssString(o,"ace_editor.css",this.container)};this.destroy=function(){this.freeze();this.$fontMetrics.destroy();this.$cursorLayer.destroy();this.removeAllListeners();this.container.textContent=""}}.call(f.prototype);r.defineOptions(f.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(n){this.$textLayer.setShowInvisibles(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(n){typeof n=="number"&&(this.$printMarginColumn=n);this.$showPrintMargin=!!n;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(n){this.$gutter.style.display=n?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(n){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",n)},initialValue:!1},showFoldWidgets:{set:function(n){this.$gutterLayer.setShowFoldWidgets(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(n){this.$textLayer.setDisplayIndentGuides(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(n){this.$gutterLayer.setHighlightGutterLine(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(n){typeof n=="number"&&(n=n+"px");this.container.style.fontSize=n;this.updateFontSize()},initialValue:12},fontFamily:{set:function(n){this.container.style.fontFamily=n;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0);this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(n){(n=+n||0,this.$scrollPastEnd!=n)&&(this.$scrollPastEnd=n,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(n){this.$gutterLayer.$fixedWidth=!!n;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(n){this.setTheme(n)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!u.isMobile&&!u.isIE}});t.VirtualRenderer=f});define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t){"use strict";function h(n){var i="importScripts('"+u.qualifyURL(n)+"');",r,t;try{return new Blob([i],{type:"application/javascript"})}catch(f){return r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new r,t.append(i),t.getBlob("application/javascript")}}function e(n){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(i.get("loadWorkerFromBlob")){var t=h(n),r=window.URL||window.webkitURL,u=r.createObjectURL(t);return new Worker(u)}return new Worker(n)}var s=n("../lib/oop"),u=n("../lib/net"),f=n("../lib/event_emitter").EventEmitter,i=n("../config"),r=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments));this.$worker=n;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage},o;(function(){s.implement(this,f);this.$createWorkerFromOldConfig=function(t,r,u,f,o){var s,h;return n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),i.get("packaged")||!n.toUrl?f=f||i.moduleUrl(r,"worker"):(s=this.$normalizePath,f=f||s(n.toUrl("ace/worker/worker.js",null,"_")),h={},t.forEach(function(t){h[t]=s(n.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=e(f),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:h,module:r,classname:u}),this.$worker};this.onMessage=function(n){var t=n.data,i;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}};this.reportError=function(n){window.console&&console.error&&console.error(n)};this.$normalizePath=function(n){return u.qualifyURL(n)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(n,t){this.$worker.postMessage({command:n,args:t})};this.call=function(n,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i;t.push(r)}this.send(n,t)};this.emit=function(n,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code});this.$worker.postMessage({event:n,data:{data:t.data}})}catch(i){console.error(i.stack)}};this.attachToDocument=function(n){this.$doc&&this.terminate();this.$doc=n;this.call("setValue",[n.getValue()]);n.on("change",this.changeListener)};this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)};this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(r.prototype);o=function(n,t,u){var o=null,l=!1,e=Object.create(f),s=[],c=new r({messageBuffer:s,terminate:function(){},postMessage:function(n){(s.push(n),o)&&(l?setTimeout(h):h())}}),h;return c.setEmitSync=function(n){l=n},h=function(){var n=s.shift();n.command?o[n.command].apply(o,n.args):n.event&&e._signal(n.event,n.data)},e.postMessage=function(n){c.onMessage({data:n})},e.callback=function(n,t){this.postMessage({type:"call",id:t,data:n})},e.emit=function(n,t){this.postMessage({type:"event",name:n,data:t})},i.loadModule(["worker",t],function(n){for(o=new n[u](e);s.length;)h()}),c};t.UIWorkerClient=o;t.WorkerClient=r;t.createWorker=e});define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t){"use strict";var i=n("./range").Range,u=n("./lib/event_emitter").EventEmitter,f=n("./lib/oop"),r=function(n,t,i,r,u,f){var o=this,e;this.length=t;this.session=n;this.doc=n.getDocument();this.mainClass=u;this.othersClass=f;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=r;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=i;e=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=e.length;this.setup();n.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,u);this.setup=function(){var u=this,r=this.doc,t=this.session,n;this.selectionBefore=t.selection.toJSON();t.selection.inMultiSelectMode&&t.selection.toSingleRange();this.pos=r.createAnchor(this.$pos.row,this.$pos.column);n=this.pos;n.$insertRight=!0;n.detach();n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(n){var t=r.createAnchor(n.row,n.column);t.$insertRight=!0;t.detach();u.others.push(t)});t.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0;this.others.forEach(function(r){r.markerId=t.addMarker(new i(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}};this.onUpdate=function(n){var t,r,f,u;if(this.$updating)return this.updateAnchors(n);if((t=n,t.start.row===t.end.row)&&t.start.row===this.pos.row){this.$updating=!0;var e=n.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(n),o&&(this.length+=e),o&&!this.session.$fromUndo)if(n.action==="insert")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.insertMergedLines(u,n.lines);else if(n.action==="remove")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.remove(new i(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(n){this.pos.onChange(n);for(var t=this.others.length;t--;)this.others[t].onChange(n);this.updateMarkers()};this.updateMarkers=function(){var n;if(!this.$updating){var u=this,t=this.session,r=function(n,r){t.removeMarker(n.markerId);n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+u.length),r,null,!1)};for(r(this.pos,this.mainClass),n=this.others.length;n--;)r(this.others[n],this.othersClass)}};this.onCursorChange=function(n){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.off("change",this.$onUpdate);this.session.selection.off("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){var n,i,t;if(this.$undoStackDepth!==-1){for(n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;t<i;t++)n.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype);t.PlaceHolder=r});define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){function i(n,t){return n.row==t.row&&n.column==t.column}function f(n){var c=n.domEvent,h=c.altKey,l=c.shiftKey,k=c.ctrlKey,a=n.getAccelKey(),p=n.getButton(),o,b,y,e,it,ut,ft,et;if(k&&r.isMac&&(p=c.button),n.editor.inMultiSelectMode&&p==2){n.editor.textInput.onContextMenu(n.domEvent);return}if(!k&&!h&&!a){p===0&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode();return}if(p===0){var t=n.editor,f=t.selection,v=t.inMultiSelectMode,d=n.getDocumentPosition(),ot=f.getCursor(),st=n.inSelection()||f.isEmpty()&&i(d,ot),g=n.x,nt=n.y,ht=function(n){g=n.clientX;nt=n.clientY},rt=t.session,tt=t.renderer.pixelToScreenCoordinates(g,nt),w=tt,s;if(t.$mouseHandler.$enableJumpToDef)k&&h||a&&h?s=l?"block":"add":h&&t.$blockSelectEnabled&&(s="block");else if(a&&!h){if(s="add",!v&&l)return}else h&&t.$blockSelectEnabled&&(s="block");if(s&&r.isMac&&c.ctrlKey&&t.$mouseHandler.cancelContextMenu(),s=="add"){if(!v&&st)return;v||(o=f.toOrientedRange(),t.addSelectionMarker(o));b=f.rangeList.rangeAtPoint(d);t.inVirtualSelectionMode=!0;l&&(b=null,o=f.ranges[0]||o,t.removeSelectionMarker(o));t.once("mouseup",function(){var n=f.toOrientedRange();b&&n.isEmpty()&&i(b.cursor,n.cursor)?f.substractPoint(n.cursor):(l?f.substractPoint(o.cursor):o&&(t.removeSelectionMarker(o),f.addRange(o)),f.addRange(n));t.inVirtualSelectionMode=!1})}else if(s=="block")return n.stop(),t.inVirtualSelectionMode=!0,e=[],it=function(){var n=t.renderer.pixelToScreenCoordinates(g,nt),r=rt.screenToDocumentPosition(n.row,n.column,n.offsetX);i(w,n)&&i(r,f.lead)||(w=n,t.selection.moveToPosition(r),t.renderer.scrollCursorIntoView(),t.removeSelectionMarkers(e),e=f.rectangularRangeBlock(w,tt),t.$mouseHandler.$clickSelection&&e.length==1&&e[0].isEmpty()&&(e[0]=t.$mouseHandler.$clickSelection.clone()),e.forEach(t.addSelectionMarker,t),t.updateSelectionMarkers())},v&&!a?f.toSingleRange():!v&&a&&(y=f.toOrientedRange(),t.addSelectionMarker(y)),l?tt=rt.documentToScreenPosition(f.lead):f.moveToPosition(d),w={row:-1,column:-1},ut=function(){it();clearInterval(et);t.removeSelectionMarkers(e);e.length||(e=[f.toOrientedRange()]);y&&(t.removeSelectionMarker(y),f.toSingleRange(y));for(var n=0;n<e.length;n++)f.addRange(e[n]);t.inVirtualSelectionMode=!1;t.$mouseHandler.$clickSelection=null},ft=it,u.capture(t.container,ht,ut),et=setInterval(function(){ft()},20),n.preventDefault()}}var u=n("../lib/event"),r=n("../lib/useragent");t.onMouseDown=f});define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(n){n.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(n){n.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(n){n.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(n){n.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(n){n.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(n){n.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(n){n.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(n){n.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(n){n.multiSelect.rangeCount>1?n.multiSelect.joinSelections():n.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(n){n.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(n){n.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(n){n.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(n){n.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(n){return n&&n.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t){function y(n,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=i==-1,u.find(n)}function p(n,t){return n.row==t.row&&n.column==t.column}function a(n){if(!n.$multiselectOnSessionChange){n.$onAddRange=n.$onAddRange.bind(n);n.$onRemoveRange=n.$onRemoveRange.bind(n);n.$onMultiSelect=n.$onMultiSelect.bind(n);n.$onSingleSelect=n.$onSingleSelect.bind(n);n.$multiselectOnSessionChange=t.onSessionChange.bind(n);n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n);n.$multiselectOnSessionChange(n);n.on("changeSession",n.$multiselectOnSessionChange);n.on("mousedown",f);n.commands.addCommands(r.defaultCommands);w(n)}}function w(n){function r(){t&&(n.renderer.setMouseCursor(""),t=!1)}if(n.textInput){var i=n.textInput.getElement(),t=!1;e.addListener(i,"keydown",function(i){var u=i.keyCode==18&&!(i.ctrlKey||i.shiftKey||i.metaKey);n.$blockSelectEnabled&&u?t||(n.renderer.setMouseCursor("crosshair"),t=!0):t&&r()},n);e.addListener(i,"keyup",r,n);e.addListener(i,"blur",r,n)}}var v=n("./range_list").RangeList,i=n("./range").Range,s=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,e=n("./lib/event"),h=n("./lib/lang"),r=n("./commands/multi_select_commands"),c,u,l,o;t.commands=r.defaultCommands.concat(r.multiSelectCommands);c=n("./search").Search;u=new c;l=n("./edit_session").EditSession,function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}.call(l.prototype),function(){this.ranges=null;this.rangeList=null;this.addRange=function(n,t){var i,r;if(n){if(!this.inMultiSelectMode&&this.rangeCount===0){if(i=this.toOrientedRange(),this.rangeList.add(i),this.rangeList.add(n),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(i);this.$onAddRange(i)}return n.cursor||(n.cursor=n.end),r=this.rangeList.add(n),this.$onAddRange(n),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){var t=this.rangeList.substractPoint(n);if(t)return this.$onRemoveRange(t),t[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length&&this.$onRemoveRange(n)};this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){var t,i,r;for(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),n.push(t),this.rangeCount=0),i=n.length;i--;)r=this.ranges.indexOf(n[i]),this.ranges.splice(r,1);this._signal("removeRange",{ranges:n});this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));t=t||this.ranges[0];t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new v,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],n=[],t=0;t<e.length;t++){var u=e[t],r=u.start.row,f=u.end.row;if(r===f)n.push(u.clone());else{for(n.push(new i(r,u.start.column,r,this.session.getLine(r).length));++r<f;)n.push(this.getLineRange(r,!0));n.push(new i(f,0,f,u.end.column))}t!=0||this.isBackwards()||(n=n.reverse())}for(this.toSingleRange(),t=n.length;t--;)this.addRange(n[t])};this.joinSelections=function(){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)};this.toggleBlockSelection=function(){if(this.rangeCount>1){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)}else{var u=this.session.documentToScreenPosition(this.cursor),f=this.session.documentToScreenPosition(this.anchor),e=this.rectangularRangeBlock(u,f);e.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(n,t,r){var u=[],w=n.column<t.column,v,e,c,y,s,f,o,l,h;if(w)var a=n.column,b=t.column,k=n.offsetX,d=t.offsetX;else var a=t.column,b=n.column,k=t.offsetX,d=n.offsetX;for(v=n.row<t.row,v?(e=n.row,c=t.row):(e=t.row,c=n.row),a<0&&(a=0),e<0&&(e=0),e==c&&(r=!0),s=e;s<=c;s++){if(f=i.fromPoints(this.session.screenToDocumentPosition(s,a,k),this.session.screenToDocumentPosition(s,b,d)),f.isEmpty()){if(y&&p(f.end,y))break;y=f.end}f.cursor=w?f.start:f.end;u.push(f)}if(v&&u.reverse(),!r){for(o=u.length-1;u[o].isEmpty()&&o>0;)o--;if(o>0)for(l=0;u[l].isEmpty();)l++;for(h=o;h>=l;h--)u[h].isEmpty()&&u.splice(h,1)}return u}}.call(s.prototype);o=n("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var t=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",t),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var t=this.session.$selectionMarkers.indexOf(n);t!=-1&&this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length}};this.removeSelectionMarkers=function(n){for(var t,r,i=this.session.$selectionMarkers,u=n.length;u--;)(t=n[u],t.marker)&&(this.session.removeMarker(t.marker),r=i.indexOf(t),r!=-1&&i.splice(r,1));this.session.selectionMarkerCount=i.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var i=n.command,t=n.editor,r;if(t.multiSelect)return i.multiSelectAction?i.multiSelectAction=="forEach"?r=t.forEachSelection(i,n.args):i.multiSelectAction=="forEachLine"?r=t.forEachSelection(i,n.args,!0):i.multiSelectAction=="single"?(t.exitMultiSelectMode(),r=i.exec(t,n.args||{})):r=i.multiSelectAction(t,n.args||{}):(r=i.exec(t,n.args||{}),t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()),r};this.forEachSelection=function(n,t,i){var a,e,u,l,o;if(!this.inVirtualSelectionMode){var v=i&&i.keepOrder,y=i==!0||i&&i.$byLines,h=this.session,r=this.selection,p=r.rangeList,f=(v?r:p).ranges,c;if(!f.length)return n.exec?n.exec(this,t||{}):n(this,t||{});for(a=r._eventRegistry,r._eventRegistry={},e=new s(h),this.inVirtualSelectionMode=!0,u=f.length;u--;){if(y)while(u>0&&f[u].start.row==f[u-1].end.row)u--;e.fromOrientedRange(f[u]);e.index=u;this.selection=h.selection=e;l=n.exec?n.exec(this,t||{}):n(this,t||{});c||l===undefined||(c=l);e.toOrientedRange(f[u])}return e.detach(),this.selection=h.selection=r,this.inVirtualSelectionMode=!1,r._eventRegistry=a,r.mergeOverlappingRanges(),r.ranges[0]&&r.fromOrientedRange(r.ranges[0]),o=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),o&&o.from==o.to&&this.renderer.animateScrolling(o.from),c}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="",r,t,i,u;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(r=this.multiSelect.rangeList.ranges,t=[],i=0;i<r.length;i++)t.push(this.session.getTextRange(r[i]));u=this.session.getDocument().getNewLineCharacter();n=t.join(u);n.length==(t.length-1)*u.length&&(n="")}else this.selection.isEmpty()||(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,t){var i,r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){if(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}};this.findAll=function(n,t,i){var u,r,f,e;if(t=t||{},t.needle=n||t.needle,t.needle==undefined&&(u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(u)),this.$search.set(t),r=this.$search.findAll(this.session),!r.length)return 0;for(f=this.multiSelect,i||f.toSingleRange(r[0]),e=r.length;e--;)f.addRange(r[e],!0);return u&&f.rangeList.rangeAtPoint(u.start)&&f.addRange(u,!0),r.length};this.selectMoreLines=function(n,t){var r=this.selection.toOrientedRange(),c=r.cursor==r.end,f=this.session.documentToScreenPosition(r.cursor),e,s,o,u,h;this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);e=this.session.screenToDocumentPosition(f.row+n,f.column);r.isEmpty()?o=e:(s=this.session.documentToScreenPosition(c?r.end:r.start),o=this.session.screenToDocumentPosition(s.row+n,s.column));c?(u=i.fromPoints(e,o),u.cursor=u.start):(u=i.fromPoints(o,e),u.cursor=u.end);u.desiredColumn=f.column;this.selection.inMultiSelectMode?t&&(h=r.cursor):this.selection.addRange(r);this.selection.addRange(u);h&&this.selection.substractPoint(h)};this.transposeSelections=function(n){for(var u,t,r,e=this.session,o=e.multiSelect,f=o.ranges,i=f.length;i--;)t=f[i],t.isEmpty()&&(r=e.getWordRange(t.start.row,t.start.column),t.start.row=r.start.row,t.start.column=r.start.column,t.end.row=r.end.row,t.end.column=r.end.column);for(o.mergeOverlappingRanges(),u=[],i=f.length;i--;)t=f[i],u.unshift(e.getTextRange(t));for(n<0?u.unshift(u.pop()):u.push(u.shift()),i=f.length;i--;)t=f[i],r=t.clone(),e.replace(t,u[i]),t.start.row=r.start.row,t.start.column=r.start.column;o.fromOrientedRange(o.ranges[0])};this.selectMore=function(n,t,i){var f=this.session,o=f.multiSelect,r=o.toOrientedRange(),e,u;r.isEmpty()&&(r=f.getWordRange(r.start.row,r.start.column),r.cursor=n==-1?r.start:r.end,this.multiSelect.addRange(r),i)||(e=f.getTextRange(r),u=y(f,e,n),u&&(u.cursor=n==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor))};this.alignCursors=function(){var e=this.session,l=e.multiSelect,t=l.ranges,y=-1,p=t.filter(function(n){if(n.cursor.row==y)return!0;y=n.cursor.row}),o,s,u;if(t.length&&p.length!=t.length-1){p.forEach(function(n){l.substractPoint(n.cursor)});var c=0,v=Infinity,w=t.map(function(n){var i=n.cursor,r=e.getLine(i.row),t=r.substr(i.column).search(/\S/g);return t==-1&&(t=0),i.column>c&&(c=i.column),t<v&&(v=t),t});t.forEach(function(n,t){var r=n.cursor,u=c-r.column,f=w[t]-v;u>f?e.insert(r,h.stringRepeat(" ",u-f)):e.remove(new i(r.row,r.column,r.row,r.column-u+f));n.start.column=n.end.column=c;n.start.row=n.end.row=r.row;n.cursor=n.end});l.fromOrientedRange(t[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var f=this.selection.getRange(),n=f.start.row,r=f.end.row,a=n==r;if(a){o=this.session.getLength();do s=this.session.getLine(r);while(/[=:]/.test(s)&&++r<o);do s=this.session.getLine(n);while(/[=:]/.test(s)&&--n>0);n<0&&(n=0);r>=o&&(r=o-1)}u=this.session.removeFullLines(n,r);u=this.$reAlignText(u,a);this.session.insert({row:n,column:0},u.join("\n")+"\n");a||(f.start.column=0,f.end.column=u[u.length-1].length);this.selection.setRange(f)}};this.$reAlignText=function(n,t){function f(n){return h.stringRepeat(" ",n)}function s(n){return n[2]?f(i)+n[2]+f(u-n[2].length+r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function c(n){return n[2]?f(i+u-n[2].length)+n[2]+f(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function l(n){return n[2]?f(i)+n[2]+f(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var e=!0,o=!0,i,u,r;return n.map(function(n){var t=n.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,u=t[2].length,r=t[3].length,t):(i+u+r!=t[1].length+t[2].length+t[3].length&&(o=!1),i!=t[1].length&&(e=!1),i>t[1].length&&(i=t[1].length),u<t[2].length&&(u=t[2].length),r>t[3].length&&(r=t[3].length),t):[n]}).map(t?s:e?o?c:s:l)}}.call(o.prototype);t.onSessionChange=function(n){var t=n.session,i;if(t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect,i=n.oldSession,i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t){t.multiSelect.on("addRange",this.$onAddRange);t.multiSelect.on("removeRange",this.$onRemoveRange);t.multiSelect.on("multiSelect",this.$onMultiSelect);t.multiSelect.on("singleSelect",this.$onSingleSelect);t.multiSelect.lead.on("change",this.$checkMultiselectChange);t.multiSelect.anchor.on("change",this.$checkMultiselectChange)}t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};t.MultiSelect=a;n("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(n){if(a(this),n){this.on("changeSession",this.$multiselectOnSessionChange);this.on("mousedown",f)}else this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",f)},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(n,t,i){var r=n.getLine(i);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(n,t,r){var o=/\S/,s=n.getLine(t),h=s.search(o),f,e,l;if(h!=-1){for(var a=r||s.length,v=n.getLength(),c=t,u=t;++t<v;)if(f=n.getLine(t).search(o),f!=-1){if(f<=h&&(e=n.getTokenAt(t,0),!e||e.type!=="string"))break;u=t}if(u>c)return l=n.getLine(u).length,new i(c,a,u,l)}};this.openingBracketBlock=function(n,t,r,u,f){var s={row:r,column:u+1},e=n.$findClosingBracket(t,s,f),o;if(e)return o=n.foldWidgets[e.row],o==null&&(o=n.getFoldWidget(e.row)),o=="start"&&e.row>s.row&&(e.row--,e.column=n.getLine(e.row).length),i.fromPoints(s,e)};this.closingBracketBlock=function(n,t,r,u){var f={row:r,column:u},e=n.$findOpeningBracket(t,f);if(e)return e.column++,f.column--,i.fromPoints(e,f)}}).call(r.prototype)});define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";t.isDark=!1;t.cssClass="ace-tm";t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';t.$id="ace/theme/textmate";var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass,!1)});define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";function r(n){this.session=n;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}var i=n("./lib/dom");(function(){this.getRowLength=function(n){var t;return t=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t};this.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(n+=t.rowCount)}),n};this.$onChangeEditor=function(n){this.attach(n.editor)};this.attach=function(n){if((n&&n.widgetManager&&n.widgetManager!=this&&n.widgetManager.detach(),this.editor!=n)&&(this.detach(),this.editor=n,n)){n.widgetManager=this;n.renderer.on("beforeRender",this.measureWidgets);n.renderer.on("afterRender",this.renderWidgets)}};this.detach=function(){var n=this.editor,t;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),t=this.session.lineWidgets,t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))}))};this.updateOnFold=function(n,t){var i=t.lineWidgets,f;if(i&&n.action){var o=n.data,u=o.start.row,r=o.end.row,e=n.action=="add";for(f=u+1;f<r;f++)i[f]&&(i[f].hidden=e);i[r]&&(e?i[u]?i[r].hidden=e:i[u]=i[r]:(i[u]==i[r]&&(i[u]=undefined),i[r].hidden=e))}};this.updateOnChange=function(n){var i=this.session.lineWidgets,t,u,r,f;i&&(t=n.start.row,u=n.end.row-t,u===0||(n.action=="remove"?(r=i.splice(t+1,u),!i[t]&&r[r.length-1]&&(i[t]=r.pop()),r.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()):(f=new Array(u),i[t]&&i[t].column!=null&&n.start.column>i[t].column&&t++,f.unshift(t,0),i.splice.apply(i,f),this.$updateRows())))};this.$updateRows=function(){var t=this.session.lineWidgets,n;t&&(n=!0,t.forEach(function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),n&&(this.session.lineWidgets=null))};this.$registerLineWidget=function(n){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[n.row];return t&&(n.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[n.row]=n,n};this.addLineWidget=function(n){var r,t,u;if(this.$registerLineWidget(n),n.session=this.session,!this.editor)return n;r=this.editor.renderer;n.html&&!n.el&&(n.el=i.createElement("div"),n.el.innerHTML=n.html);n.el&&(i.addCssClass(n.el,"ace_lineWidgetContainer"),n.el.style.position="absolute",n.el.style.zIndex=5,r.container.appendChild(n.el),n._inDocument=!0,n.coverGutter||(n.el.style.zIndex=3),n.pixelHeight==null&&(n.pixelHeight=n.el.offsetHeight));n.rowCount==null&&(n.rowCount=n.pixelHeight/r.layerConfig.lineHeight);t=this.session.getFoldAt(n.row,0);n.$fold=t;t&&(u=this.session.lineWidgets,n.row!=t.end.row||u[t.start.row]?n.hidden=!0:u[t.start.row]=n);this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows();this.renderWidgets(null,r);this.onWidgetChanged(n);return n};this.removeLineWidget=function(n){if(n._inDocument=!1,n.session=null,n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el),n.editor&&n.editor.destroy)try{n.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[n.row];if(t==n){if(this.session.lineWidgets[n.row]=n.$oldWidget,n.$oldWidget)this.onWidgetChanged(n.$oldWidget)}else while(t){if(t.$oldWidget==n){t.$oldWidget=n.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows()};this.getWidgetsAtRow=function(n){for(var i=this.session.lineWidgets,t=i&&i[n],r=[];t;)r.push(t),t=t.$oldWidget;return r};this.onWidgetChanged=function(n){this.session._changedWidgets.push(n);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(n,t){var f=this.session._changedWidgets,o=t.layerConfig,u,e,i,r;if(f&&f.length){for(u=Infinity,e=0;e<f.length;e++)if((i=f[e],i&&i.el)&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0;t.container.appendChild(i.el)}i.h=i.el.offsetHeight;i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/o.characterWidth));r=i.h/o.lineHeight;i.coverLine&&(r-=this.session.getRowLineCount(i.row),r<0&&(r=0));i.rowCount!=r&&(i.rowCount=r,i.row<u&&(u=i.row))}u!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(n,t){var r=t.layerConfig,e=this.session.lineWidgets,u,h,f,i,o,s;if(e){for(u=Math.min(this.firstRow,r.firstRow),h=Math.max(this.lastRow,r.lastRow,e.length);u>0&&!e[u];)u--;for(this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r,f=u;f<=h;f++)if(i=e[f],i&&i.el){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,t.container.appendChild(i.el));o=t.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;i.coverLine||(o+=r.lineHeight*this.session.getRowLineCount(i.row));i.el.style.top=o-r.offset+"px";s=i.coverGutter?0:t.gutterWidth;i.fixedWidth||(s-=t.scrollLeft);i.el.style.left=s+"px";i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=r.width+2*r.padding+"px");i.el.style.right=i.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}).call(r.prototype);t.LineWidgets=r});define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(n,t){"use strict";function f(n,t,i){for(var u=0,f=n.length-1,r,e;u<=f;)if(r=u+f>>1,e=i(t,n[r]),e>0)u=r+1;else if(e<0)f=r-1;else return r;return-(u+1)}function e(n,t,i){var o=n.getAnnotations().sort(r.comparePoints),e,u,s;if(o.length&&(e=f(o,{row:t,column:-1},r.comparePoints),e<0&&(e=-e-1),e>=o.length?e=i>0?0:o.length-1:e===0&&i<0&&(e=o.length-1),u=o[e],u&&i)){if(u.row===t){do u=o[e+=i];while(u&&u.row===t);if(!u)return o.slice()}s=[];t=u.row;do s[i<0?"unshift":"push"](u),u=o[e+=i];while(u&&u.row==t);return s.length&&s}}var u=n("../line_widgets").LineWidgets,i=n("../lib/dom"),r=n("../range").Range;t.showErrorMarker=function(n,t){var o=n.session,a,h,s,w,y;o.widgetManager||(o.widgetManager=new u(o),o.widgetManager.attach(n));var f=n.getCursorPosition(),c=f.row,l=o.widgetManager.getWidgetsAtRow(c).filter(function(n){return n.type=="errorMarker"})[0];if(l?l.destroy():c-=t,a=e(o,c,t),a)s=a[0],f.column=(s.pos&&typeof s.column!="number"?s.pos.sc:s.column)||0,f.row=s.row,h=n.renderer.$gutterLayer.$annotations[f.row];else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}n.session.unfold(f.row);n.selection.moveToPosition(f);var r={row:f.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},v=r.el.appendChild(i.createElement("div")),p=r.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+h.className;w=n.renderer.$cursorLayer.getPixelPosition(f).left;p.style.left=w+n.renderer.gutterWidth-5+"px";r.el.className="error_widget_wrapper";v.className="error_widget "+h.className;v.innerHTML=h.text.join("<br>");v.appendChild(i.createElement("div"));y=function(n,t,i){if(t===0&&(i==="esc"||i==="return"))return r.destroy(),{command:"null"}};r.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(y),o.widgetManager.removeLineWidget(r),n.off("changeSelection",r.destroy),n.off("changeSession",r.destroy),n.off("mouseup",r.destroy),n.off("change",r.destroy))};n.keyBinding.addKeyboardHandler(y);n.on("changeSelection",r.destroy);n.on("changeSession",r.destroy);n.on("mouseup",r.destroy);n.on("change",r.destroy);n.session.widgetManager.addLineWidget(r);r.el.onmousedown=n.focus.bind(n);n.renderer.scrollCursorIntoView(null,.5,{bottom:r.el.offsetHeight})};i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)});define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(n,t){"use strict";n("./lib/fixoldbrowsers");var o=n("./lib/dom"),r=n("./lib/event"),s=n("./range").Range,i=n("./editor").Editor,u=n("./edit_session").EditSession,f=n("./undomanager").UndoManager,e=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client");n("./keyboard/hash_handler");n("./placeholder");n("./multi_select");n("./mode/folding/fold_mode");n("./theme/textmate");n("./ext/error_marker");t.config=n("./config");t.require=n;typeof define=="function"&&(t.define=define);t.edit=function(n,u){var l,c,s;if(typeof n=="string"&&(l=n,n=document.getElementById(l),!n))throw new Error("ace.edit can't find div #"+l);if(n&&n.env&&n.env.editor instanceof i)return n.env.editor;c="";n&&/input|textarea/i.test(n.tagName)?(s=n,c=s.value,n=o.createElement("pre"),s.parentNode.replaceChild(n,s)):n&&(c=n.textContent,n.innerHTML="");var a=t.createEditSession(c),f=new i(new e(n),a,u),h={document:a,editor:f,onResize:f.resize.bind(f,null)};s&&(h.textarea=s);r.addListener(window,"resize",h.onResize);f.on("destroy",function(){r.removeListener(window,"resize",h.onResize);h.editor.container.env=null});return f.container.env=f.env=h,f};t.createEditSession=function(n,t){var i=new u(n,t);return i.setUndoManager(new f),i};t.Range=s;t.Editor=i;t.EditSession=u;t.UndoManager=f;t.VirtualRenderer=e;t.version=t.config.version}),function(){window.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=window.define);window.ace||(window.ace=n);for(var t in n)n.hasOwnProperty(t)&&(window.ace[t]=n[t]);window.ace["default"]=window.ace;typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=window.ace)})}();define("ace/ext/themelist",["require","exports","module"],function(n,t){"use strict";t.themesByName={};t.themes=[["Chrome"],["Clouds"],["Crimson Editor"],["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],["IPlastic"],["Solarized Light"],["TextMate"],["Tomorrow"],["Xcode"],["Kuroir"],["KatzenMilch"],["SQL Server","sqlserver","light"],["Ambiance","ambiance","dark"],["Chaos","chaos","dark"],["Clouds Midnight","clouds_midnight","dark"],["Dracula","","dark"],["Cobalt","cobalt","dark"],["Gruvbox","gruvbox","dark"],["Green on Black","gob","dark"],["idle Fingers","idle_fingers","dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai","dark"],["Nord Dark","nord_dark","dark"],["One Dark","one_dark","dark"],["Pastel on dark","pastel_on_dark","dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow Night","tomorrow_night","dark"],["Tomorrow Night Blue","tomorrow_night_blue","dark"],["Tomorrow Night Bright","tomorrow_night_bright","dark"],["Tomorrow Night 80s","tomorrow_night_eighties","dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]].map(function(n){var i=n[1]||n[0].replace(/ /g,"_").toLowerCase(),r={caption:n[0],theme:"ace/theme/"+i,isDark:n[2]=="dark",name:i};return t.themesByName[i]=r,r})}),function(){window.require(["ace/ext/themelist"],function(n){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=n)})}();define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,t){"use strict";function i(n){var t=(new Date).toLocaleString("en-us",n);return t.length==1?"0"+t:t}var a=n("./lib/dom"),v=n("./lib/oop"),y=n("./lib/event_emitter").EventEmitter,s=n("./lib/lang"),h=n("./range").Range,p=n("./range_list").RangeList,w=n("./keyboard/hash_handler").HashHandler,b=n("./tokenizer").Tokenizer,c=n("./clipboard"),u={CURRENT_WORD:function(n){return n.session.getTextRange(n.session.getWordRange())},SELECTION:function(n,t,i){var r=n.session.getTextRange();return i?r.replace(/\n\r?([ \t]*\S)/g,"\n"+i+"$1"):r},CURRENT_LINE:function(n){return n.session.getLine(n.getCursorPosition().row)},PREV_LINE:function(n){return n.session.getLine(n.getCursorPosition().row-1)},LINE_INDEX:function(n){return n.getCursorPosition().row},LINE_NUMBER:function(n){return n.getCursorPosition().row+1},SOFT_TABS:function(n){return n.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(n){return n.session.getTabSize()},CLIPBOARD:function(){return c.getText&&c.getText()},FILENAME:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0]},FILENAME_BASE:function(n){return/[^/\\]*$/.exec(this.FILEPATH(n))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(n){return this.FILEPATH(n).replace(/[^/\\]*$/,"")},FILEPATH:function(){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(n){var t=n.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(n){var t=n.session.$mode||{};return t.lineCommentStart||""},CURRENT_YEAR:i.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:i.bind(null,{year:"2-digit"}),CURRENT_MONTH:i.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:i.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:i.bind(null,{month:"short"}),CURRENT_DATE:i.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:i.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:i.bind(null,{weekday:"short"}),CURRENT_HOUR:i.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:i.bind(null,{minute:"2-digit"}),CURRENT_SECOND:i.bind(null,{second:"2-digit"})},r,f,e,o,l;u.SELECTED_TEXT=u.SELECTION;r=function(){this.snippetMap={};this.snippetNameMap={}},function(){v.implement(this,y);this.getTokenizer=function(){return r.$tokenizer||this.createTokenizer()};this.createTokenizer=function(){function n(n){return(n=n.substr(1),/^\d+$/.test(n))?[{tabstopId:parseInt(n,10)}]:[{text:n}]}function t(n){return"(?:[^\\\\"+n+"]|\\\\.)"}var i={regex:"/("+t("/")+"+)/",onMatch:function(n,t,i){var r=i[0];return r.fmtString=!0,r.guard=n.slice(1,-1),r.flag="",""},next:"formatString"};return r.$tokenizer=new b({start:[{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1&&(n=r),[n]}},{regex:/}/,onMatch:function(n,t,i){return[i.length?i.shift():n]}},{regex:/\$(?:\d+|\w+)/,onMatch:n},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,i,r){var u=n(t.substr(1));return r.unshift(u[0]),u},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(n,t,i){var r=n.slice(1,-1).replace(/\\[,|\\]|,/g,function(n){return n.length==2?n[1]:"\x00"}).split("\x00").map(function(n){return{value:n}});return i[0].choices=r,[r[0]]},next:"start"},i,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(n,t,i){return i.length&&i[0].expectElse?(i[0].expectElse=!1,i[0].ifEnd={elseEnd:i[0]},[i[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(n,t,i){var r=n[1];return r=="}"&&i.length?n=r:"`$\\".indexOf(r)!=-1?n=r:r=="n"?n="\n":r=="t"?n="\t":"ulULE".indexOf(r)!=-1&&(n={changeCase:r,local:r>"a"}),[n]}},{regex:"/\\w*}",onMatch:function(n,t,i){var r=i.shift();return r&&(r.flag=n.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(n){return[{text:n.slice(1)}]}},{regex:/\${\w+/,onMatch:function(n,t,i){var r={text:n.slice(2)};return i.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(n,t,i){var r=i.shift();return this.next=r&&r.tabstopId?"start":"",[r||n]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(n,t,i){var r=i[0];return r.formatFunction=n.slice(2,-1),[i.shift()]},next:"formatString"},i,{regex:/:[\?\-+]?/,onMatch:function(n,t,i){n[1]=="+"&&(i[0].ifEnd=i[0]);n[1]=="?"&&(i[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),r.$tokenizer};this.tokenizeTmSnippet=function(n,t){return this.getTokenizer().getLineTokens(n,t).tokens.map(function(n){return n.value||n})};this.getVariableValue=function(n,t,i){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](n,t,i)),r==null?"":r};this.variables=u;this.tmStrFormat=function(n,t,i){var f,r;if(!t.fmt)return n;f=t.flag||"";r=t.guard;r=new RegExp(r,f.replace(/[^gim]/g,""));var e=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,u=this;return n.replace(r,function(){var s=u.variables.__,n,o,t,r,f;for(u.variables.__=[].slice.call(arguments),n=u.resolveVariables(e,i),o="E",t=0;t<n.length;t++)r=n[t],typeof r=="object"?(n[t]="",r.changeCase&&r.local?(f=n[t+1],f&&typeof f=="string"&&(n[t]=r.changeCase=="u"?f[0].toUpperCase():f[0].toLowerCase(),n[t+1]=f.substr(1))):r.changeCase&&(o=r.changeCase)):o=="U"?n[t]=r.toUpperCase():o=="L"&&(n[t]=r.toLowerCase());return u.variables.__=s,n.join("")})};this.tmFormatFunction=function(n,t){return t.formatFunction=="upcase"?n.toUpperCase():t.formatFunction=="downcase"?n.toLowerCase():n};this.resolveVariables=function(n,t){function h(t){var i=n.indexOf(t,r+1);i!=-1&&(r=i)}for(var i,e,u,f=[],s="",o=!0,r=0;r<n.length;r++){if(i=n[r],typeof i=="string"){f.push(i);i=="\n"?(o=!0,s=""):o&&(s=/^\t*/.exec(i)[0],o=/\S/.test(i));continue}i&&(o=!1,i.fmtString&&(e=n.indexOf(i,r+1),e==-1&&(e=n.length),i.fmt=n.slice(r+1,e),r=e),i.text?(u=this.getVariableValue(t,i.text,s)+"",i.fmtString&&(u=this.tmStrFormat(u,i,t)),i.formatFunction&&(u=this.tmFormatFunction(u,i,t)),u&&!i.ifEnd?(f.push(u),h(i)):!u&&i.ifEnd&&h(i.ifEnd)):i.elseEnd?h(i.elseEnd):i.tabstopId!=null?f.push(i):i.changeCase!=null&&f.push(i))}return f};this.insertSnippetForSelection=function(n,t){function d(n){for(var t,f,r=[],i=0;i<n.length;i++){if(t=n[i],typeof t=="object"){if(u[t.tabstopId])continue;f=n.lastIndexOf(t,i-1);t=r[f]||{tabstopId:t.tabstopId}}r[i]=t}return r}var v=n.getCursorPosition(),b=n.session.getLine(v.row),k=n.session.getTabString(),c=b.match(/^\s*/)[0],i,s,u,e,r,o;for(v.column<c.length&&(c=c.slice(0,v.column)),t=t.replace(/\r/g,""),i=this.tokenizeTmSnippet(t),i=this.resolveVariables(i,n),i=i.map(function(n){return n=="\n"?n+c:typeof n=="string"?n.replace(/\t/g,k):n}),s=[],i.forEach(function(n,t){var f,r,e,u,o;typeof n=="object"&&(f=n.tabstopId,r=s[f],r||(r=s[f]=[],r.index=f,r.value="",r.parents={}),r.indexOf(n)===-1)&&(n.choices&&!r.choices&&(r.choices=n.choices),r.push(n),e=i.indexOf(n,t+1),e!==-1)&&(u=i.slice(t+1,e),o=u.some(function(n){return typeof n=="object"}),o&&!r.value?r.value=u:u.length&&(!r.value||typeof r.value!="string")&&(r.value=u.join("")))}),s.forEach(function(n){n.length=0}),u={},e=0;e<i.length;e++)if(r=i[e],typeof r=="object"){var h=r.tabstopId,l=s[h],g=i.indexOf(r,e+1);if(u[h]){u[h]===r&&(delete u[h],Object.keys(u).forEach(function(n){l.parents[n]=!0}));continue}u[h]=r;o=l.value;typeof o!="string"?o=d(o):r.fmt&&(o=this.tmStrFormat(o,r,n));i.splice.apply(i,[e+1,Math.max(0,g-e)].concat(o,r));l.indexOf(r)===-1&&l.push(r)}var y=0,a=0,p="";i.forEach(function(n){if(typeof n=="string"){var t=n.split("\n");t.length>1?(a=t[t.length-1].length,y+=t.length-1):a+=n.length;p+=n}else n&&(n.start?n.end={row:y,column:a}:n.start={row:y,column:a})});var w=n.getSelectionRange(),nt=n.session.replace(w,p),tt=new f(n),it=n.inVirtualSelectionMode&&n.selection.index;tt.addTabstops(s,w.start,nt,it)};this.insertSnippet=function(n,t){var i=this;if(n.inVirtualSelectionMode)return i.insertSnippetForSelection(n,t);n.forEachSelection(function(){i.insertSnippetForSelection(n,t)},null,{keepOrder:!0});n.tabstopManager&&n.tabstopManager.tabNext()};this.$getScope=function(n){var t=n.session.$mode.$id||"",r,i;return t=t.split("/").pop(),(t==="html"||t==="php")&&(t!=="php"||n.session.$mode.inlinePhp||(t="html"),r=n.getCursorPosition(),i=n.session.getState(r.row),typeof i=="object"&&(i=i[0]),i.substring&&(i.substring(0,3)=="js-"?t="javascript":i.substring(0,4)=="css-"?t="css":i.substring(0,4)=="php-"&&(t="php"))),t};this.getActiveScopes=function(n){var t=this.$getScope(n),i=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&i.push.apply(i,r[t].includeScopes),i.push("_"),i};this.expandWithTab=function(n,t){var r=this,i=n.forEachSelection(function(){return r.expandSnippetForSelection(n,t)},null,{keepOrder:!0});return i&&n.tabstopManager&&n.tabstopManager.tabNext(),i};this.expandSnippetForSelection=function(n,t){var r=n.getCursorPosition(),u=n.session.getLine(r.row),f=u.substring(0,r.column),e=u.substr(r.column),o=this.snippetMap,i;return(this.getActiveScopes(n).some(function(n){var t=o[n];return t&&(i=this.findMatchingSnippet(t,f,e)),!!i},this),!i)?!1:t&&t.dryRun?!0:(n.session.doc.removeInLine(r.row,r.column-i.replaceBefore.length,r.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(n,i.content),this.variables.M__=this.variables.T__=null,!0)};this.findMatchingSnippet=function(n,t,i){for(var r,u=n.length;u--;)if((r=n[u],!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r};this.snippetMap={};this.snippetNameMap={};this.register=function(n,t){function u(n){return n&&!/^\^?\(.*\)\$?$|^\\b$/.test(n)&&(n="(?:"+n+")"),n||""}function f(n,t,i){return n=u(n),t=u(t),i?(n=t+n,n&&n[n.length-1]!="$"&&(n=n+"$")):(n=n+t,n&&n[0]!="^"&&(n="^"+n)),new RegExp(n)}function e(n){var u,e;(n.scope||(n.scope=t||"_"),t=n.scope,i[t]||(i[t]=[],r[t]={}),u=r[t],n.name&&(e=u[n.name],e&&o.unregister(e),u[n.name]=n),i[t].push(n),n.prefix&&(n.tabTrigger=n.prefix),!n.content&&n.body&&(n.content=Array.isArray(n.body)?n.body.join("\n"):n.body),n.tabTrigger&&!n.trigger&&(!n.guard&&/^\w/.test(n.tabTrigger)&&(n.guard="\\b"),n.trigger=s.escapeRegExp(n.tabTrigger)),n.trigger||n.guard||n.endTrigger||n.endGuard)&&(n.startRe=f(n.trigger,n.guard,!0),n.triggerRe=new RegExp(n.trigger),n.endRe=f(n.endTrigger,n.endGuard,!0),n.endTriggerRe=new RegExp(n.endTrigger))}var i=this.snippetMap,r=this.snippetNameMap,o=this;n||(n=[]);Array.isArray(n)?n.forEach(e):Object.keys(n).forEach(function(t){e(n[t])});this._signal("registerSnippets",{scope:t})};this.unregister=function(n,t){function i(n){var f=u[n.scope||t],i,e;f&&f[n.name]&&(delete f[n.name],i=r[n.scope||t],e=i&&i.indexOf(n),e>=0&&i.splice(e,1))}var r=this.snippetMap,u=this.snippetNameMap;n.content?i(n):Array.isArray(n)&&n.forEach(i)};this.parseSnippetFile=function(n){var u,i,f;n=n.replace(/\r/g,"");for(var e=[],t={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,r;r=o.exec(n);){if(r[1])try{t=JSON.parse(r[1]);e.push(t)}catch(s){}r[4]?(t.content=r[4].replace(/^\t/gm,""),e.push(t),t={}):(u=r[2],i=r[3],u=="regex"?(f=/\/((?:[^\/\\]|\\.)*)|$/g,t.guard=f.exec(i)[1],t.trigger=f.exec(i)[1],t.endTrigger=f.exec(i)[1],t.endGuard=f.exec(i)[1]):u=="snippet"?(t.tabTrigger=i.match(/^\S*/)[0],t.name||(t.name=i)):u&&(t[u]=i))}return e};this.getSnippetByName=function(n,t){var r=this.snippetNameMap,i;return this.getActiveScopes(t).some(function(t){var u=r[t];return u&&(i=u[n]),!!i},this),i}}.call(r.prototype);f=function(n){if(n.tabstopManager)return n.tabstopManager;n.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(n)},function(){this.attach=function(n){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=n;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(n){for(var t,l,o,i,r,s,f,h,a=n.action[0]=="r",u=this.selectedTabstop||{},v=u.parents||{},c=(this.tabstops||[]).slice(),e=0;e<c.length;e++){if(t=c[e],l=t==u||v[t.index],t.rangeList.$bias=l?0:1,n.action=="remove"&&t!==u)for(o=t.parents&&t.parents[u.index],i=t.rangeList.pointIndex(n.start,o),i=i<0?-i-1:i+1,r=t.rangeList.pointIndex(n.end,o),r=r<0?-r-1:r-1,s=t.rangeList.ranges.slice(i,r),f=0;f<s.length;f++)this.removeRange(s[f]);t.rangeList.$onChange(n)}h=this.editor.session;this.$inChange||!a||h.getLength()!=1||h.getValue()||this.detach()};this.updateLinkedFields=function(){var n=this.selectedTabstop,u,f,i,r,e,o;if(n&&n.hasLinkedRanges&&n.firstNonLinked){for(this.$inChange=!0,u=this.editor.session,f=u.getTextRange(n.firstNonLinked),i=0;i<n.length;i++)(r=n[i],r.linked)&&(e=r.original,o=t.snippetManager.tmStrFormat(f,e,this.editor),u.replace(r,o));this.$inChange=!1}};this.onAfterExec=function(n){n.command&&!n.command.readOnly&&this.updateLinkedFields()};this.onChangeSelection=function(){var n,r,u;if(this.editor){var t=this.editor.selection.lead,i=this.editor.selection.anchor,f=this.editor.selection.isEmpty();for(n=0;n<this.ranges.length;n++)if(!this.ranges[n].linked&&(r=this.ranges[n].contains(t.row,t.column),u=f||this.ranges[n].contains(i.row,i.column),r&&u))return;this.detach()}};this.onChangeSession=function(){this.detach()};this.tabNext=function(n){var i=this.tabstops.length,t=this.index+(n||1);t=Math.min(Math.max(t,1),i);t==i&&(t=0);this.selectTabstop(t);t===0&&this.detach()};this.selectTabstop=function(n){var t,i,u,r;if(this.$openTabstops=null,t=this.tabstops[this.index],t&&this.addTabstopMarkers(t),this.index=n,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,i=t.firstNonLinked||t,t.choices&&(i.cursor=i.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(i);else for(u=this.editor.multiSelect,u.toSingleRange(i),r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||u.addRange(t[r].clone(),!0);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}};this.addTabstops=function(n,t,i){var f=this.useLink||!this.editor.getOption("enableMultiselect"),u;this.$openTabstops||(this.$openTabstops=[]);n[0]||(u=h.fromPoints(i,i),o(u.start,t),o(u.end,t),n[0]=[u],n[0].index=0);var s=this.index,r=[s+1,0],c=this.ranges;n.forEach(function(n,i){for(var s,o,u=this.$openTabstops[i]||n,l=0;l<n.length;l++)s=n[l],o=h.fromPoints(s.start,s.end||s.start),e(o.start,t),e(o.end,t),o.original=s,o.tabstop=u,c.push(o),u!=n?u.unshift(o):u[l]=o,s.fmtString||u.firstNonLinked&&f?(o.linked=!0,u.hasLinkedRanges=!0):u.firstNonLinked||(u.firstNonLinked=o);u.firstNonLinked||(u.hasLinkedRanges=!1);u===n&&(r.push(u),this.$openTabstops[i]=u);this.addTabstopMarkers(u);u.rangeList=u.rangeList||new p;u.rangeList.$bias=0;u.rangeList.addList(u)},this);r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))};this.addTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){n.markerId||(n.markerId=t.addMarker(n,"ace_snippet-marker","text"))})};this.removeTabstopMarkers=function(n){var t=this.editor.session;n.forEach(function(n){t.removeMarker(n.markerId);n.markerId=null})};this.removeRange=function(n){var t=n.tabstop.indexOf(n);t!=-1&&n.tabstop.splice(t,1);t=this.ranges.indexOf(n);t!=-1&&this.ranges.splice(t,1);t=n.tabstop.rangeList.ranges.indexOf(n);t!=-1&&n.tabstop.splice(t,1);this.editor.session.removeMarker(n.markerId);n.tabstop.length||(t=this.tabstops.indexOf(n.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())};this.keyboardHandler=new w;this.keyboardHandler.bindKeys({Tab:function(n){t.snippetManager&&t.snippetManager.expandWithTab(n)||(n.tabstopManager.tabNext(1),n.renderer.scrollCursorIntoView())},"Shift-Tab":function(n){n.tabstopManager.tabNext(-1);n.renderer.scrollCursorIntoView()},Esc:function(n){n.tabstopManager.detach()}})}.call(f.prototype);e=function(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row};o=function(n,t){n.row==t.row&&(n.column-=t.column);n.row-=t.row};a.importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}","snippets.css",!1);t.snippetManager=new r;l=n("./editor").Editor,function(){this.insertSnippet=function(n,i){return t.snippetManager.insertSnippet(this,n,i)};this.expandSnippet=function(n){return t.snippetManager.expandWithTab(this,n)}}.call(l.prototype)});define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(n,t){"use strict";var f=n("../virtual_renderer").VirtualRenderer,e=n("../editor").Editor,r=n("../range").Range,o=n("../lib/event"),s=n("../lib/lang"),i=n("../lib/dom"),u=function(n){var i=new f(n),t;return i.$maxLines=4,t=new e(i),t.setHighlightActiveLine(!1),t.setShowPrintMargin(!1),t.renderer.setShowGutter(!1),t.renderer.setHighlightGutterLine(!1),t.$mouseHandler.$focusTimeout=0,t.$highlightTagPending=!0,t},h=function(n){var y=i.createElement("div"),t=new u(y),c,e,f,h,l,a,v;n&&n.appendChild(y);y.style.display="none";t.renderer.content.style.cursor="default";t.renderer.setStyle("ace_autocomplete");t.setOption("displayIndentGuides",!1);t.setOption("dragDelay",150);c=function(){};t.focus=c;t.$isFocused=!0;t.renderer.$cursorLayer.restartTimer=c;t.renderer.$cursorLayer.element.style.opacity=0;t.renderer.$maxLines=8;t.renderer.$keepTextAreaAtCursor=!1;t.setHighlightActiveLine(!1);t.session.highlight("");t.session.$searchHighlight.clazz="ace_highlight-marker";t.on("mousedown",function(n){var i=n.getDocumentPosition();t.selection.moveToPosition(i);h.start.row=h.end.row=i.row;n.stop()});f=new r(-1,0,-1,Infinity);h=new r(-1,0,-1,Infinity);h.id=t.session.addMarker(h,"ace_active-line","fullLine");t.setSelectOnHover=function(n){n?f.id&&(t.session.removeMarker(f.id),f.id=null):f.id=t.session.addMarker(f,"ace_line-hover","fullLine")};t.setSelectOnHover(!1);t.on("mousemove",function(n){if(!e){e=n;return}if(e.x!=n.x||e.y!=n.y){e=n;e.scrollTop=t.renderer.scrollTop;var i=e.getDocumentPosition().row;f.start.row!=i&&(f.id||t.setRow(i),a(i))}});t.renderer.on("beforeRender",function(){if(e&&f.start.row!=-1){e.$pos=null;var n=e.getDocumentPosition().row;f.id||t.setRow(n);a(n,!0)}});t.renderer.on("afterRender",function(){var u=t.getRow(),n=t.renderer.$textLayer,r=n.element.childNodes[u-n.config.firstRow];r!==n.selectedNode&&n.selectedNode&&i.removeCssClass(n.selectedNode,"ace_selected");n.selectedNode=r;r&&i.addCssClass(r,"ace_selected")});l=function(){a(-1)};a=function(n,i){n!==f.start.row&&(f.start.row=f.end.row=n,i||t.session._emit("changeBackMarker"),t._emit("changeHoverMarker"))};t.getHoveredRow=function(){return f.start.row};o.addListener(t.container,"mouseout",l);t.on("hide",l);t.on("changeSelection",l);t.session.doc.getLength=function(){return t.data.length};t.session.doc.getLine=function(n){var i=t.data[n];return typeof i=="string"?i:i&&i.value||""};v=t.session.bgTokenizer;v.$tokenizeRow=function(n){function s(n,t){n&&f.push({type:(i.className||"")+(t||""),value:n})}var i=t.data[n],f=[],u,r,l,o;if(!i)return f;typeof i=="string"&&(i={value:i});u=i.caption||i.value||i.name;var a=u.toLowerCase(),h=(t.filterText||"").toLowerCase(),e=0,c=0;for(r=0;r<=h.length;r++)if(r!=c&&(i.matchMask&1<<r||r==h.length)){if(l=h.slice(c,r),c=r,o=a.indexOf(l,e),o==-1)continue;s(u.slice(e,o),"");e=o+l.length;s(u.slice(o,e),"completion-highlight")}return s(u.slice(e,u.length),""),i.meta&&f.push({type:"completion-meta",value:i.meta}),i.message&&f.push({type:"completion-message",value:i.message}),f};v.$updateOnChange=c;v.start=c;t.session.$computeWidth=function(){return this.screenWidth=0};t.isOpen=!1;t.isTopdown=!1;t.autoSelect=!0;t.filterText="";t.data=[];t.setData=function(n,i){t.filterText=i||"";t.setValue(s.stringRepeat("\n",n.length),-1);t.data=n||[];t.setRow(0)};t.getData=function(n){return t.data[n]};t.getRow=function(){return h.start.row};t.setRow=function(n){n=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,n));h.start.row!=n&&(t.selection.clearSelection(),h.start.row=h.end.row=n||0,t.session._emit("changeBackMarker"),t.moveCursorTo(n||0,0),t.isOpen&&t._signal("select"))};t.on("changeSelection",function(){t.isOpen&&t.setRow(t.selection.lead.row);t.renderer.scrollCursorIntoView()});return t.hide=function(){this.container.style.display="none";this._signal("hide");t.isOpen=!1},t.show=function(n,i,r){var u=this.container,o=window.innerHeight,c=window.innerWidth,h=this.renderer,l=h.$maxLines*i*1.4,f=n.top+this.$borderSize,a=f>o/2&&!r,s;a&&f+i+l>o?(h.$maxPixelHeight=f-2*this.$borderSize,u.style.top="",u.style.bottom=o-f+"px",t.isTopdown=!1):(f+=i,h.$maxPixelHeight=o-f-.2*i,u.style.top=f+"px",u.style.bottom="",t.isTopdown=!0);u.style.display="";s=n.left;s+u.offsetWidth>c&&(s=c-u.offsetWidth);u.style.left=s+"px";this._signal("show");e=null;t.isOpen=!0},t.goTo=function(n){var t=this.getRow(),i=this.session.getLength()-1;switch(n){case"up":t=t<=0?i:t-1;break;case"down":t=t>=i?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.setRow(t)},t.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},t.$imageSize=0,t.$borderSize=1,t};i.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css",!1);t.AcePopup=h;t.$singleLineEditor=u});define("ace/autocomplete/util",["require","exports","module"],function(n,t){"use strict";t.parForEach=function(n,t,i){var f=0,u=n.length,r;for(u===0&&i(),r=0;r<u;r++)t(n[r],function(n,t){f++;f===u&&i(n,t)})};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t-1;u>=0;u--)if(r.test(n[u]))f.push(n[u]);else break;return f.reverse().join("")};t.retrieveFollowingIdentifier=function(n,t,r){var f,u;for(r=r||i,f=[],u=t;u<n.length;u++)if(r.test(n[u]))f.push(n[u]);else break;return f};t.getCompletionPrefix=function(n){var t=n.getCursorPosition(),r=n.session.getLine(t.row),i;return n.completers.forEach(function(n){n.identifierRegexps&&n.identifierRegexps.forEach(function(n){!i&&n&&(i=this.retrievePrecedingIdentifier(r,t.column,n))}.bind(this))}.bind(this)),i||this.retrievePrecedingIdentifier(r,t.column)}});define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(n,t){"use strict";var e=n("./keyboard/hash_handler").HashHandler,o=n("./autocomplete/popup").AcePopup,u=n("./autocomplete/util"),f=n("./lib/lang"),s=n("./lib/dom"),h=n("./snippets").snippetManager,c=n("./config"),i=function(){this.autoInsert=!1;this.autoSelect=!0;this.exactMatch=!1;this.gatherCompletionsId=0;this.keyboardHandler=new e;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=f.delayedCall(function(){this.updateCompletions(!0)}.bind(this));this.tooltipTimer=f.delayedCall(this.updateDocTooltip.bind(this),50)},r;(function(){this.$init=function(){this.popup=new o(document.body||document.documentElement);this.popup.on("click",function(n){this.insertMatch();n.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(n,t,i){var u,e,r,f;this.popup||this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered,this.completions.filterText);n.keyBinding.addKeyboardHandler(this.keyboardHandler);u=n.renderer;this.popup.setRow(this.autoSelect?0:-1);i?i&&!t&&this.detach():(this.popup.setTheme(n.getTheme()),this.popup.setFontSize(n.getFontSize()),e=u.layerConfig.lineHeight,r=u.$cursorLayer.getPixelPosition(this.base,!0),r.left-=this.popup.getTextLeftOffset(),f=n.container.getBoundingClientRect(),r.top+=f.top-u.layerConfig.offset,r.left+=f.left-n.renderer.scrollLeft,r.left+=u.gutterWidth,this.popup.show(r,e));this.changeTimer.cancel()};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;this.popup&&this.popup.isOpen&&this.popup.hide();this.base&&this.base.detach();this.activated=!1;this.completions=this.base=null};this.changeListener=function(){var n=this.editor.selection.lead;(n.row!=this.base.row||n.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()};this.blurListener=function(n){var t=document.activeElement,i=this.editor.textInput.getElement(),r=n.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(n.relatedTarget),u=this.popup&&this.popup.container;t==i||t.parentNode==u||r||t==this.tooltipNode||n.relatedTarget==i||this.detach()};this.mousedownListener=function(){this.detach()};this.mousewheelListener=function(){this.detach()};this.goTo=function(n){this.popup.goTo(n)};this.insertMatch=function(n){var t,u,i,r;if(n||(n=this.popup.getData(this.popup.getRow())),!n)return!1;if(t=this.completions,this.editor.startOperation({command:{name:"insertMatch"}}),n.completer&&n.completer.insertMatch)n.completer.insertMatch(this.editor,n);else{if(t.filterText)for(u=this.editor.selection.getAllRanges(),i=0;r=u[i];i++)r.start.column-=t.filterText.length,this.editor.session.remove(r);n.snippet?h.insertSnippet(this.editor,n.snippet):this.editor.execCommand("insertstring",n.value||n)}this.completions==t&&this.detach();this.editor.endOperation()};this.commands={Up:function(n){n.completer.goTo("up")},Down:function(n){n.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(n){n.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(n){n.completer.goTo("end")},Esc:function(n){n.completer.detach()},Return:function(n){return n.completer.insertMatch()},"Shift-Return":function(n){n.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(n){var t=n.completer.insertMatch();if(t||n.tabstopManager)return t;n.completer.goTo("down")},PageUp:function(n){n.completer.popup.gotoPageUp()},PageDown:function(n){n.completer.popup.gotoPageDown()}};this.gatherCompletions=function(n,t){var f=n.getSession(),r=n.getCursorPosition(),e=u.getCompletionPrefix(n),i,o;return this.base=f.doc.createAnchor(r.row,r.column-e.length),this.base.$insertRight=!0,i=[],o=n.completers.length,n.completers.forEach(function(s){s.getCompletions(n,f,r,e,function(r,f){!r&&f&&(i=i.concat(f));t(null,{prefix:u.getCompletionPrefix(n),matches:i,finished:--o==0})})}),!0};this.showPopup=function(n,t){this.editor&&this.detach();this.activated=!0;this.editor=n;n.completer!=this&&(n.completer&&n.completer.detach(),n.completer=this);n.on("changeSelection",this.changeListener);n.on("blur",this.blurListener);n.on("mousedown",this.mousedownListener);n.on("mousewheel",this.mousewheelListener);this.updateCompletions(!1,t)};this.updateCompletions=function(n,t){var u,i,h;if(n&&this.base&&this.completions){if(i=this.editor.getCursorPosition(),u=this.editor.session.getTextRange({start:this.base,end:i}),u==this.completions.filterText)return;if((this.completions.setFilter(u),!this.completions.filtered.length)||this.completions.filtered.length==1&&this.completions.filtered[0].value==u&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,u,n);return}if(t&&t.matches)return i=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(i.row,i.column),this.base.$insertRight=!0,this.completions=new r(t.matches),this.openPopup(this.editor,"",n);var c=this.gatherCompletionsId,e=function(n){if(n.finished)return this.detach()}.bind(this),o=function(t){var u=t.prefix,f=t.matches,i;if((this.completions=new r(f),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(u),i=this.completions.filtered,!i.length)||i.length==1&&i[0].value==u&&!i[0].snippet)return e(t);if(this.autoInsert&&i.length==1&&t.finished)return this.insertMatch(i[0]);this.openPopup(this.editor,u,n)}.bind(this),s=!0,f=null;this.gatherCompletions(this.editor,function(n,t){var r=t.prefix,i=t&&t.matches;if(!i||!i.length)return e(t);if(r.indexOf(t.prefix)===0&&c==this.gatherCompletionsId){if(s){f=t;return}o(t)}}.bind(this));s=!1;f&&(h=f,f=null,o(h))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var i=this.popup,r=i.data,t=r&&(r[i.getHoveredRow()]||r[i.getRow()]),n=null;if(!t||!this.editor||!this.popup.isOpen||(this.editor.completers.some(function(i){return i.getDocTooltip&&(n=i.getDocTooltip(t)),n}),n||typeof t=="string"||(n=t),typeof n=="string"&&(n={docText:n}),!n||!(n.docHTML||n.docText)))return this.hideDocTooltip();this.showDocTooltip(n)};this.showDocTooltip=function(n){var t,r,i;this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));t=this.tooltipNode;n.docHTML?t.innerHTML=n.docHTML:n.docText&&(t.textContent=n.docText);t.parentNode||document.body.appendChild(t);r=this.popup;i=r.container.getBoundingClientRect();t.style.top=r.container.style.top;t.style.bottom=r.container.style.bottom;t.style.display="block";window.innerWidth-i.right<320?i.left<320?r.isTopdown?(t.style.top=i.bottom+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=r.container.offsetTop-t.offsetHeight+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right="")};this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var n=this.tooltipNode;this.editor.isFocused()||document.activeElement!=n||this.editor.focus();this.tooltipNode=null;n.parentNode&&n.parentNode.removeChild(n)}};this.onTooltipClick=function(n){for(var t=n.target;t&&t!=this.tooltipNode;){if(t.nodeName=="A"&&t.href){t.rel="noreferrer";t.target="_blank";break}t=t.parentNode}};this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var n=this.popup.container;n&&n.parentNode&&n.parentNode.removeChild(n)}this.editor&&this.editor.completer==this&&this.editor.completer==null;this.popup=null}}).call(i.prototype);i.for=function(n){if(n.completer)return n.completer;if(c.get("sharedPopups"))i.$shared||(i.$sharedInstance=new i),n.completer=i.$sharedInstance;else{n.completer=new i;n.once("destroy",function(n,t){t.completer.destroy()})}return n.completer};i.startCommand={name:"startAutocomplete",exec:function(n,t){var r=i.for(n);r.autoInsert=!1;r.autoSelect=!0;r.showPopup(n,t);r.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};r=function(n,t){this.all=n;this.filtered=n;this.filterText=t||"";this.exactMatch=!1},function(){this.setFilter=function(n){var t,i;t=n.length>this.filterText&&n.lastIndexOf(this.filterText,0)===0?this.filtered:this.all;this.filterText=n;t=this.filterCompletions(t,this.filterText);t=t.sort(function(n,t){return t.exactMatch-n.exactMatch||t.$score-n.$score||(n.caption||n.value).localeCompare(t.caption||t.value)});i=null;t=t.filter(function(n){var t=n.snippet||n.caption||n.value;return t===i?!1:(i=t,!0)});this.filtered=t};this.filterCompletions=function(n,t){var y=[],w=t.toUpperCase(),p=t.toLowerCase(),c,i,r,v,u,h,o;n:for(c=0;i=n[c];c++)if(r=i.caption||i.value||i.snippet,r){var f=-1,l=0,e=0,s,a;if(this.exactMatch){if(t!==r.substr(0,t.length))continue n}else if(v=r.toLowerCase().indexOf(p),v>-1)e=v;else for(u=0;u<t.length;u++){if(h=r.indexOf(p[u],f+1),o=r.indexOf(w[u],f+1),s=h>=0?o<0||h<o?h:o:o,s<0)continue n;a=s-f-1;a>0&&(f===-1&&(e+=10),e+=a,l=l|1<<u);f=s}i.matchMask=l;i.exactMatch=e?0:1;i.$score=(i.score||0)-e;y.push(i)}return y}}.call(r.prototype);t.Autocomplete=i;t.FilteredList=r});define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,t){function u(n,t){var u=n.getTextRange(r.fromPoints({row:0,column:0},t));return u.split(i).length-1}function f(n,t){var e=u(n,t),f=n.getValue().split(i),r=Object.create(null),o=f[e];return f.forEach(function(n,t){if(n&&n!==o){var u=Math.abs(e-t),i=f.length-u;r[n]=r[n]?Math.max(i,r[n]):i}}),r}var r=n("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(n,t,i,r,u){var e=f(t,i),o=Object.keys(e);u(null,o.map(function(n){return{caption:n,value:n,score:e[n],meta:"local"}}))}});define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,t){"use strict";var i=n("../snippets").snippetManager,u=n("../autocomplete").Autocomplete,o=n("../config"),s=n("../lib/lang"),h=n("../autocomplete/util"),c=n("../autocomplete/text_completer"),l={getCompletions:function(n,t,i,r,u){if(t.$mode.completer)return t.$mode.completer.getCompletions(n,t,i,r,u);var f=n.session.getState(i.row),e=t.$mode.getCompletions(f,t,i,r);u(null,e)}},p=function(n){var t={};return n.replace(/\${(\d+)(:(.*?))?}/g,function(n,i,r,u){return t[i]=u||""}).replace(/\$(\d+?)/g,function(n,i){return t[i]})},a={getCompletions:function(n,t,r,u,f){var e=[],s=t.getTokenAt(r.row,r.column),h,o;s&&s.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?e.push("html-tag"):e=i.getActiveScopes(n);h=i.snippetMap;o=[];e.forEach(function(n){for(var t,i,r=h[n]||[],u=r.length;u--;)(t=r[u],i=t.name||t.tabTrigger,i)&&o.push({caption:i,snippet:t.content,meta:t.tabTrigger&&!t.name?t.tabTrigger+"⇥ ":"snippet",type:"snippet"})},this);f(null,o)},getDocTooltip:function(n){n.type!="snippet"||n.docHTML||(n.docHTML=["<b>",s.escapeHTML(n.caption),"<\/b>","<hr><\/hr>",s.escapeHTML(p(n.snippet))].join(""))}},r=[a,c,l];t.setCompleters=function(n){r.length=0;n&&r.push.apply(r,n)};t.addCompleter=function(n){r.push(n)};t.textCompleter=c;t.keyWordCompleter=l;t.snippetCompleter=a;var v={name:"expandSnippet",exec:function(n){return i.expandWithTab(n)},bindKey:"Tab"},f=function(n,t){e(t.session.$mode)},e=function(n){(typeof n=="string"&&(n=o.$modes[n]),n)&&(i.files||(i.files={}),w(n.$id,n.snippetFileId),n.modes&&n.modes.forEach(e))},w=function(n,t){t&&n&&!i.files[n]&&(i.files[n]={},o.loadModule(t,function(t){t&&(i.files[n]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(n){e("ace/mode/"+n)})))}))},y=function(n){var t=n.editor,r=t.completer&&t.completer.activated,f,i;n.command.name==="backspace"?r&&!h.getCompletionPrefix(t)&&t.completer.detach():n.command.name==="insertstring"&&(f=h.getCompletionPrefix(t),f&&!r&&(i=u.for(t),i.autoInsert=!1,i.showPopup(t)))},b=n("../editor").Editor;n("../config").defineOptions(b.prototype,"editor",{enableBasicAutocompletion:{set:function(n){n?(this.completers||(this.completers=Array.isArray(n)?n:r),this.commands.addCommand(u.startCommand)):this.commands.removeCommand(u.startCommand)},value:!1},enableLiveAutocompletion:{set:function(n){if(n){this.completers||(this.completers=Array.isArray(n)?n:r);this.commands.on("afterExec",y)}else this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(n){if(n){this.commands.addCommand(v);this.on("changeMode",f);f(null,this)}else this.commands.removeCommand(v),this.off("changeMode",f)},value:!1}})}),function(){window.require(["ace/ext/language_tools"],function(n){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=n)})}(),function(){function n(n){return t.has(n)||t.set(n,ace.edit(n)),t.get(n)}function r(n,t){const i="ace/mode/"+t;n.session.setMode(i)}let i=null;const t=new Map;window.editorRender=function(t,i,u,f){const e=n(t);e.setTheme("ace/theme/"+u);e.setReadOnly(f);r(e,i);e.renderer.setScrollMargin(10,10);e.setOptions({autoScrollEditorIntoView:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0})};window.ace_set_theme=function(t,i){const r=n(t);r.setTheme("ace/theme/"+i)};window.ace_set_mode=function(t,i){const u=n(t);r(u,i)};window.ace_destroy=function(i){const r=n(i);r.destroy();r.container.remove();t.delete(i)};window.ace_set_readonly=function(t,i){const r=n(t);r.setReadOnly(i)};const u=(n,t)=>{let i;return function(...r){clearTimeout(i);i=setTimeout(()=>n.apply(this,r),t)}};window.GetCode=u(async(t,r)=>{const f=n(r),e=f.getSession().getValue();await t.invokeMethodAsync("ReceiveCode",e);const u=f.getSelectedText();u!==i&&(i=u,await t.invokeMethodAsync("ReceiveSelectedCode",u))},50)}();